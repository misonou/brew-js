/*! brew-js v0.6.9 | (c) misonou | https://misonou.github.io */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("zeta-dom"),require("jquery"),require("waterpipe"),require("jq-scrollable")):"function"==typeof define&&define.amd?define("brew-js",["zeta-dom","jquery","waterpipe","jq-scrollable"],t):"object"==typeof exports?exports["brew-js"]=t(require("zeta-dom"),require("jquery"),require("waterpipe"),require("jq-scrollable")):e.brew=t(e.zeta,e.jQuery,e.waterpipe,e["jq-scrollable"])}(self,(function(e,t,n,r){return function(){var o={992:function(e,t,n){var r,o=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function o(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var i={compressToBase64:function(e){if(null==e)return"";var n=i._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:i._decompress(e.length,32,(function(n){return o(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":i._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:i._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=i.compress(e),n=new Uint8Array(2*t.length),r=0,o=t.length;r<o;r++){var a=t.charCodeAt(r);n[2*r]=a>>>8,n[2*r+1]=a%256}return n},decompressFromUint8Array:function(t){if(null==t)return i.decompress(t);for(var n=new Array(t.length/2),r=0,o=n.length;r<o;r++)n[r]=256*t[2*r]+t[2*r+1];var a=[];return n.forEach((function(t){a.push(e(t))})),i.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),i._decompress(e.length,32,(function(t){return o(n,e.charAt(t))})))},compress:function(t){return i._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,o,i,a={},u={},c="",s="",l="",f=2,p=3,d=2,h=[],m=0,g=0;for(i=0;i<e.length;i+=1)if(c=e.charAt(i),Object.prototype.hasOwnProperty.call(a,c)||(a[c]=p++,u[c]=!0),s=l+c,Object.prototype.hasOwnProperty.call(a,s))l=s;else{if(Object.prototype.hasOwnProperty.call(u,l)){if(l.charCodeAt(0)<256){for(r=0;r<d;r++)m<<=1,g==t-1?(g=0,h.push(n(m)),m=0):g++;for(o=l.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&o,g==t-1?(g=0,h.push(n(m)),m=0):g++,o>>=1}else{for(o=1,r=0;r<d;r++)m=m<<1|o,g==t-1?(g=0,h.push(n(m)),m=0):g++,o=0;for(o=l.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&o,g==t-1?(g=0,h.push(n(m)),m=0):g++,o>>=1}0==--f&&(f=Math.pow(2,d),d++),delete u[l]}else for(o=a[l],r=0;r<d;r++)m=m<<1|1&o,g==t-1?(g=0,h.push(n(m)),m=0):g++,o>>=1;0==--f&&(f=Math.pow(2,d),d++),a[s]=p++,l=String(c)}if(""!==l){if(Object.prototype.hasOwnProperty.call(u,l)){if(l.charCodeAt(0)<256){for(r=0;r<d;r++)m<<=1,g==t-1?(g=0,h.push(n(m)),m=0):g++;for(o=l.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&o,g==t-1?(g=0,h.push(n(m)),m=0):g++,o>>=1}else{for(o=1,r=0;r<d;r++)m=m<<1|o,g==t-1?(g=0,h.push(n(m)),m=0):g++,o=0;for(o=l.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&o,g==t-1?(g=0,h.push(n(m)),m=0):g++,o>>=1}0==--f&&(f=Math.pow(2,d),d++),delete u[l]}else for(o=a[l],r=0;r<d;r++)m=m<<1|1&o,g==t-1?(g=0,h.push(n(m)),m=0):g++,o>>=1;0==--f&&(f=Math.pow(2,d),d++)}for(o=2,r=0;r<d;r++)m=m<<1|1&o,g==t-1?(g=0,h.push(n(m)),m=0):g++,o>>=1;for(;;){if(m<<=1,g==t-1){h.push(n(m));break}g++}return h.join("")},decompress:function(e){return null==e?"":""==e?null:i._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var o,i,a,u,c,s,l,f=[],p=4,d=4,h=3,m="",g=[],v={val:r(0),position:n,index:1};for(o=0;o<3;o+=1)f[o]=o;for(a=0,c=Math.pow(2,2),s=1;s!=c;)u=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(u>0?1:0)*s,s<<=1;switch(a){case 0:for(a=0,c=Math.pow(2,8),s=1;s!=c;)u=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(u>0?1:0)*s,s<<=1;l=e(a);break;case 1:for(a=0,c=Math.pow(2,16),s=1;s!=c;)u=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(u>0?1:0)*s,s<<=1;l=e(a);break;case 2:return""}for(f[3]=l,i=l,g.push(l);;){if(v.index>t)return"";for(a=0,c=Math.pow(2,h),s=1;s!=c;)u=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(u>0?1:0)*s,s<<=1;switch(l=a){case 0:for(a=0,c=Math.pow(2,8),s=1;s!=c;)u=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(u>0?1:0)*s,s<<=1;f[d++]=e(a),l=d-1,p--;break;case 1:for(a=0,c=Math.pow(2,16),s=1;s!=c;)u=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(u>0?1:0)*s,s<<=1;f[d++]=e(a),l=d-1,p--;break;case 2:return g.join("")}if(0==p&&(p=Math.pow(2,h),h++),f[l])m=f[l];else{if(l!==d)return null;m=i+i.charAt(0)}g.push(m),f[d++]=i+m.charAt(0),i=m,0==--p&&(p=Math.pow(2,h),h++)}}};return i}();void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)},649:function(e){"use strict";e.exports=r},87:function(e){"use strict";e.exports=n},914:function(e){"use strict";e.exports=t},231:function(t){"use strict";t.exports=e}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return o[e](n,n.exports,a),n.exports}a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var u={};return function(){"use strict";a.d(u,{default:function(){return Lr}});var e={};a.r(e),a.d(e,{baseUrl:function(){return ge},combinePath:function(){return ye},isSubPathOf:function(){return je},normalizePath:function(){return we},parsePath:function(){return be},removeQueryAndHash:function(){return Se},setBaseUrl:function(){return ve},toAbsoluteUrl:function(){return Oe},toRelativeUrl:function(){return Pe},toSegments:function(){return ke},withBaseUrl:function(){return xe}});var t={};a.r(t),a.d(t,{apiError:function(){return Je},navigationCancelled:function(){return Ge},navigationRejected:function(){return Qe},networkError:function(){return Be},resourceError:function(){return We},timeout:function(){return Ke},validationFailed:function(){return Ve}});var n={};a.r(n),a.d(n,{addStyleSheet:function(){return vt},api:function(){return ht},cookie:function(){return dt},copyAttr:function(){return it},deleteCookie:function(){return pt},getAttr:function(){return rt},getAttrValues:function(){return et},getCookie:function(){return lt},getFormValues:function(){return ut},getJSON:function(){return mt},getQueryParam:function(){return ct},hasAttr:function(){return nt},isBoolAttr:function(){return tt},loadScript:function(){return gt},openDeferredURL:function(){return bt},preloadImages:function(){return yt},selectorForAttr:function(){return at},setAttr:function(){return ot},setCookie:function(){return ft},setQueryParam:function(){return st}});var r={};a.r(r),a.d(r,{createObjectStorage:function(){return kt}});var o={};a.r(o),a.d(o,{addAnimateIn:function(){return Yt},addAnimateOut:function(){return en},animateIn:function(){return Zt},animateOut:function(){return Xt}});var i={};a.r(i),a.d(i,{addAsyncAction:function(){return Kn},closeFlyout:function(){return Xn},isFlyoutOpen:function(){return Zn},openFlyout:function(){return er},toggleFlyout:function(){return Yn}});var c=a(231),s=c.util,l=s.always,f=s.any,p=(s.arrRemove,s.camel),d=s.catchAsync,h=s.combineFn,m=s.createPrivateStore,g=s.deepFreeze,v=s.deferrable,y=s.define,b=s.defineAliasProperty,w=s.defineGetterProperty,S=s.defineHiddenProperty,x=s.defineObservableProperty,O=s.defineOwnProperty,P=s.definePrototype,j=s.delay,k=s.each,A=s.either,C=s.equal,I=s.errorWithCode,E=s.exclude,M=s.executeOnce,T=s.extend,q=s.fill,R=s.freeze,F=s.grep,U=s.hasOwnProperty,N=s.iequal,D=s.is,L=s.isArray,_=s.isFunction,z=s.isPlainObject,H=s.isThenable,$=s.isUndefinedOrNull,B=s.keys,W=s.kv,J=(s.makeArray,s.makeAsync),V=s.map,G=s.mapGet,Q=s.mapObject,K=s.mapRemove,Z=s.matchWord,X=s.noop,Y=s.pick,ee=s.pipe,te=s.randomId,ne=s.reject,re=s.resolve,oe=s.resolveAll,ie=(s.setImmediate,s.setImmediateOnce),ae=(s.setIntervalSafe,s.setPromiseTimeout),ue=s.setTimeoutOnce,ce=s.single,se=s.throwNotFunction,le=s.throws,fe=(s.trim,s.values),pe=s.watch,de=s.watchOnce,he=s.watchable,me={http:80,https:443},ge="/";function ve(e){ge=we(e,!0)}function ye(e,t){return e=we(e),"/"===(t=we(t))?e:"/"===e||t.indexOf("://")>0?t:e+t}function be(e){var t=document.createElement("a");return t.href=e,t}function we(e,t,n){if(!e||"/"===e)return n?"":"/";if(/(^(?:[a-z0-9]+:)?\/\/)|\?|#/.test(e)){var r=be(e);return((RegExp.$1&&(r.origin||r.protocol+"//"+r.hostname+(r.port&&+r.port!==me[r.protocol.slice(0,-1)]?":"+r.port:"")))+we(r.pathname,t,!0)||"/")+r.search+r.hash}if(e=String(e).replace(/\/+(\/|$)/g,"$1"),t&&/(^|\/)\.{1,2}(\/|$)/.test(e)){for(var o=e.split("/"),i=0;i<o.length;)"."===o[i]||".."===o[i]&&!i?o.splice(i,1):".."===o[i]?o.splice(--i,2):i++;e=o.join("/")}return"/"===e[0]?e:"/"+e}function Se(e){var t=e.indexOf("?")+1,n=e.indexOf("#")+1;return t||n?e.slice(0,Math.min(t||n,n||t)-1):e}function xe(e){return e=we(e),ge&&"/"===e[0]&&!je(e,ge)?ye(ge,e):e}function Oe(e){return e.indexOf("://")>0?e:location.origin+xe(e)}function Pe(e){return je(e,location.origin)||e}function je(e,t){var n=t.length;return e.substr(0,n)===t&&(!e[n]||/[/?#]/.test(e[n])||"/"===t[n-1])&&("/"===e[n]?"":"/")+e.slice(n)}function ke(e){return"/"===(e=we(e))?[]:e.slice(1).split("/").map(decodeURIComponent)}var Ae=a(914),Ce=c.css,Ie=Ce.isCssUrlValue,Ee=(Ce.parseCSS,Ce.runCSSTransition),Me=c.util,Te=Me.bind,qe=Me.containsOrEquals,Re=Me.createNodeIterator,Fe=Me.dispatchDOMMouseEvent,Ue=Me.getClass,Ne=Me.getRect,De=Me.isVisible,Le=Me.iterateNode,_e=Me.matchSelector,ze=Me.rectIntersects,He=(Me.selectClosestRelative,Me.selectIncludeSelf),$e=Me.setClass,Be="brew/network-error",We="brew/resource-error",Je="brew/api-error",Ve="brew/validation-failed",Ge="brew/navigation-cancelled",Qe="brew/navigation-rejected",Ke="brew/timeout",Ze={},Xe={},Ye={};function et(e){var t={};return k(e.attributes,(function(e,n){t[n.name]=n.value})),t}function tt(e,t){return"itemscope"===t||Ye[t]in Object.getPrototypeOf(e)}function nt(e,t){return!!e.attributes[t]}function rt(e,t){return e.getAttribute(t)}function ot(e,t,n){"string"!=typeof t?k(t,ot.bind(0,e)):null===n?e.removeAttribute(t):(n=String(n),rt(e,t)!==n&&e.setAttribute(t,n))}function it(e,t){k(e.attributes,(function(e,n){ot(t,n.name,n.value)}))}function at(e){return z(e)&&(e=B(e)),e[0]?"["+e.join("],[")+"]":""}function ut(e){var t={};return k(e.elements,(function(n,r){if(r.name&&!(r.name in t)){var o=e.elements[r.name];w(t,r.name,(function(){return"checkbox"===o.type?o.checked:o.value}))}})),t}function ct(e,t){$(t)&&(t=location.search);var n=new RegExp("[?&]"+e+"=([^&#]*)|#","i").exec(t)||[];return void 0!==n[1]&&decodeURIComponent(n[1])}function st(e,t,n){$(n)&&(n=location.search);var r=new RegExp("([?&])"+e+"=[^&#]*(&?)|(?=#)|(?:\\?)?$","i");return n.replace(r,(function(n,r,o,i,a){return o=o||"",t||""===t?(r||(i&&i>=(a.lastIndexOf("?",i)+1||a.length+1)?"&":"?"))+e+"="+encodeURIComponent(t)+o:o&&r}))}function lt(e){return new RegExp("(?:^|\\s|;)"+e+"=([^;]+)").test(document.cookie)&&RegExp.$1}function ft(e,t,n){return document.cookie=e+"="+t+";path=/"+(n?";expires="+new Date(Date.now()+n).toGMTString():""),t}function pt(e){document.cookie=e+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT"}function dt(e,t){return{get:function(){return lt(e)},set:function(n){return ft(e,n,t)},delete:function(){return pt(e)}}}function ht(e,t){var n="get post put delete";if("string"==typeof e&&Z(e,n))return ht(t=T({},"string"==typeof t?{baseUrl:t}:t,{methods:e}))[e];var r={baseUrl:(e=T({},e)).baseUrl,token:e.token};return k(e.methods||n,(function(t,o){Z(o,n)&&(S(r,o,(function t(n,i){if(!r.baseUrl)return de(r,"baseUrl",(function(){return t(n,i)}));var a={"Content-Type":"application/json"};return r.token&&(a.Authorization="Bearer "+r.token),Ae.ajax({method:o,url:ye(r.baseUrl,n),headers:a,dataType:"json",data:JSON.stringify(i||{}),success:function(t){_(e.getTokenFromResponse)&&(r.token=e.getTokenFromResponse(t,r.token))}}).catch((function(e){if(0===e.status)throw I(Be);var t=e.responseJSON;if(t)throw console.error(n+":",t.error||t.message),I(Je,t.error||t.message);throw I(Je,e.statusText)}))})),b(r[o],"baseUrl",r),b(r[o],"token",r))})),r}function mt(e){return Ae.getJSON(xe(e))}function gt(e,t){return L(e)?e.reduce((function(e,n){return e.then((function(){return gt(n,t)}))}),re()):(Xe[e]||(Xe[e]=new Promise((function(n,r){var o=document.createElement("script");if((t=t||{}).nomodule){if("noModule"in o)return void n();o.setAttribute("nomodule","")}t.module&&o.setAttribute("type","module"),o.addEventListener("load",(function(){n({})})),o.addEventListener("error",(function(){r(I(We))})),o.src=xe(e),document.head.appendChild(o)}))),Xe[e])}function vt(e,t){var n=document.createElement("link");n.rel="stylesheet",n.href=xe(e),t&&(n.media=t),document.head.appendChild(n)}function yt(e,t){if(!L(e)){var n={},r=function(e){Ie(e)&&(n[RegExp.$1||RegExp.$2||RegExp.$3]=!0)};Le(Re(e,1),(function(e){_e(e,"img")&&e.src&&(n[e.src]=!0),r(getComputedStyle(e).backgroundImage),r(getComputedStyle(e,"::before").backgroundImage),r(getComputedStyle(e,"::after").backgroundImage)})),e=B(n)}var o=[],i=[];return e.forEach((function(e){o.push(Ze[e]||(Ze[e]=new Promise((function(t){i.push(e),Ae("<img>").on("load error",(function(){Ze[e]=!0,t()})).attr("src",e)}))))})),!o.length||o.every((function(e){return!0===e}))?re():(i.length&&console.log("Preload image",{urls:i}),Promise.race([j(t),oe(fe(Ze))]))}function bt(e,t,n,r){var o=window.open(t||"data:text/html;base64,TG9hZGluZy4uLg==",n||"_blank",r||"");return o?e.then((function(e){return!o.closed&&(o.location.replace(e),!0)}),(function(e){throw o.close(),e})):re(!1)}k("allowFullscreen async autofocus autoplay checked controls default defer disabled formNoValidate isMap loop multiple muted noModule noValidate open playsInline readOnly required reversed selected trueSpeed",(function(e,t){Ye[t.toLowerCase()]=t}));var wt=a(992),St=wt.compressToUTF16,xt=wt.decompressFromUTF16;function Ot(e){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(e)}var Pt="undefined";function jt(e){return e&&"object"===Ot(e)}function kt(e,t){var n=new Map([[Date,"#Date "],["Date",[Date,X]]]),r={},o=new WeakMap,i=new Set,a=Object.create(null),u=function(n){try{var r=xt(e.getItem(t)).split("\n");return T(n,JSON.parse(r[0])),r}catch(e){}}(a)||["{}"],c=V(u,(function(e,t){return e?null:t}));function s(){return c.length?c.shift():u.push("")-1}function l(e,t){r[e]=t,jt(t)&&o.set(t,+e)}function f(e){o.delete(r[e]),delete r[e]}function p(e,t){var r=0,a=JSON.stringify(e,(function(e,n){if(!jt(n))return"string"==typeof n&&"#"===n[0]?"#"+n:n;if(function(e){return e===window||D(e,RegExp)||D(e,Blob)||D(e,Node)}(n))return r?void 0:{};if(!r++)return n;var a=o.get(n)||s();return l(a,n),t[a]||(t[a]=!0,u[a]=p(n,t),i.delete(n)),"#"+a}));return(e&&"object"===Ot(e)&&n.get(e.constructor)||"")+a}function d(e,t){if(e&&e!==Pt){if("#"===e[0]){var o=e.indexOf(" "),i=n.get(e.slice(1,o));if(e=e.slice(o+1),i){var a=t.length,c=d(e,t);if(t.length===a)return new i[0](c);var s=new i[0];return t.push({t:i[1].bind(void 0,s,c)}),s}}return JSON.parse(e,(function(e,n){return"string"==typeof n&&"#"===n[0]&&"#"!==(n=n.slice(1))[0]?(n in r?void 0===r[n]&&t.push({o:this,k:e,v:n}):(r[n]=void 0,l(n,d(u[n],t))),r[n]):n}))}}function h(e){if(e&&u[e]&&!(e in r))try{var t=[];d('{"": "#'+e+'"}',t),k(t,(function(e,t){t.t?t.t():t.o[t.k]=r[t.v]}))}catch(t){u[e]=Pt}return r[e]}function m(){var n={};k(i,(function(e,t){var r=o.get(t);r&&(u[r]=p(t,n))})),n={0:!0},k(a,(function e(t,r){n[r]||(n[r]=!0,u[r].replace(/[\[:,]"#(\d+)"/g,e))})),k(u,(function(e){!n[e]&&u[e]&&(u[e]="",c.push(e),f(e))})),i.clear(),u[0]=JSON.stringify(a),e.setItem(t,St(u.join("\n").trim()))}return{registerType:function(e,t,r){(n.has(e)||n.has(t))&&le("Key or constructor already registered"),n.set(t,"#"+e+" "),n.set(e,[t,r])},keys:function(){return B(a)},has:function(e){return!!a[e]},get:function(e){return h(a[e])},revive:function(e,t){var n=a[e];if(n){var o=h(n),i=U(t,"prototype");return i&&o instanceof t||(f(n),l(n,i?new t(o):t(o))),r[n]}},set:function(e,t){var n=o.get(t)||function(e){var t=a[e];return t&&!(t in r?jt(r[t]):/^[\[\{]/.test(u[t]))?t:s()}(e);a[e]=n,jt(t)?(l(n,t),i.add(t)):u[n]=p(t)||Pt,ie(m)},persist:function(e){i.add(e),ie(m)},persistAll:function(){k(a,(function(e,t){jt(r[t])&&i.add(r[t])})),ie(m)},delete:function(e){a[e]&&(delete a[e],ie(m))},clear:function(){u.splice(0,u.length,"{}"),c.splice(0),i.clear(),o=new WeakMap,r={},a=Object.create(null),ie(m)}}}var At=c.dom,Ct=At.createAutoCleanupMap,It=(At.registerCleanup,At.watchAttributes,At.watchElements),Et=At.watchOwnAttributes,Mt=c.dom,Tt=Mt,qt=Mt.beginDrag,Rt=Mt.blur,Ft=Mt.focus,Ut=Mt.focusable,Nt=Mt.focused,Dt=Mt.releaseFocus,Lt=Mt.releaseModal,_t=Mt.retainFocus,zt=Mt.setModal,Ht=Mt.setTabRoot,$t=Mt.textInputAllowed,Bt=Mt.unsetTabRoot,Wt={},Jt={},Vt=Ct(X),Gt=It(Tt.root,"[animate-in],[animate-sequence],[is-animate-sequence]",(function(e){e[0]&&k(Vt,(function(e,t){k(t,(function(e,t){t.start()}))}))}));function Qt(e,t,n,r){var o="show"===t?':not([animate-on]), [animate-on~="'+t+'"]':'[animate-on~="'+t+'"]';return function(t){return _e(t,o)&&(!n||qe(Ae(t).closest(n)[0]||Tt.root,e))&&(!r||r(t))&&De(t)}}function Kt(e,t,n,r,o){var i=new WeakMap,a=v(),u=ae(a,1500).catch((function(){console.warn("Animation might take longer than expected",{element:e,animationType:t,animationTrigger:n})})),c=M((function(){Tt.emit("animationstart",e,{animationType:t,animationTrigger:n},!0),u.then((function(){Tt.emit("animationcomplete",e,{animationType:t,animationTrigger:n},!0)}))})),s=function(e){"inline"===Ae(e).css("display")&&Ae(e).css("display","inline-block");var n=q(rt(e,"animate-in")||"",!0),o=1e3*parseFloat(Ae(e).css("transition-delay"))||0;c(),a.waitFor(Ee(e,"tweening-"+t),Tt.emit("animate"+t,e)),k(r,(function(t,r){if(n[t]||e.attributes[t]){var i=r.bind(void 0,e,rt(e,t)||"");a.waitFor(o?j(o,i):i())}}))};return{promise:u.then(o),animate:s,sequence:function(e,n,r){var o=G(i,e,Array),u=rt(e,"animate-sequence-reverse"),l=rt(e,"animate-sequence")||"",f=Ae(e).find(">"===l[0]?l:Ae(l)).filter(n).attr(r||{}).get();""!==u&&u!==t||f.reverse(),k(f,(function(e,t){o.indexOf(t)<0&&1===o.push(t)&&(c(),a.waitFor(j(50,(function e(){return s(o.shift()),o[0]&&j(50,e)}))))}))}}}function Zt(e,t,n,r){var o=G(Vt,e,Object),i=o[t]||(o[t]={start:!0===r?Zt.bind(0,e,t,n):X}),a=Qt(e,t,n,_(r)),u=i.anim||(i.anim=Kt(e,"in",t,Wt,(function(){i.anim=null})));return He("[animate-in]:not([is-animate-sequence],.tweening-in)",e).filter(a).forEach((function(e){u.animate(e)})),He("[animate-sequence]",e).filter(a).forEach((function(e){Ue(e,"tweening-in")||(ot(e,"animate-in",""),u.animate(e)),u.sequence(e,":not(.tweening-in)",{"animate-in":rt(e,"animate-sequence-type")||"","animate-on":t,"is-animate-sequence":""})})),Gt(!0),u.promise}function Xt(e,t,n,r,o){var i=Qt(e,t,n,r),a=He(".tweening-in,[animate-out]",e);o&&a[0]===e&&a.splice(0,1);var u=a.filter(i),c=Kt(e,"out",t,Jt,(function(){Ae("show"===t?a:u).removeClass("tweening-in tweening-out")}));return Ae(u).filter("[animate-out]:not([is-animate-sequence],.tweening-out)").each((function(e,t){c.animate(t)})),Ae(u).filter("[animate-out][animate-sequence]").each((function(e,t){c.sequence(t,".tweening-in")})),delete G(Vt,e,Object)[t],c.promise}function Yt(e,t){Wt[e]=se(t)}function en(e,t){Jt[e]=se(t)}var tn=a(87),nn=tn,rn=tn;rn.pipes["{"]=function(e,t){var n=t.globals,r=n.new,o={};for(n.new=o;t.hasArgs();){var i=t.raw();if("}"===i)break;o[String(i).replace(/:$/,"")]=t.next()}return n.new=r,o},rn.pipes["{"].varargs=!0;var on=c.dom,an=on.cancelLock,un=on.locked,cn=on.notifyAsync,sn=(on.preventLeave,on.subscribeAsync),ln=c.EventContainer,fn="__BREW__";if(window[fn])throw new Error("Another copy of brew-js is instantiated. Please check your dependencies.");S(window,fn,!0,!0);var pn,dn,hn,mn,gn,vn={},yn=new ln,bn=Tt.root,wn={},Sn={},xn={},On=[];function Pn(e){return function(t){if(t.target===t.context)return e.apply(this,arguments)}}function jn(e,t,n){return z(e)?n?Q(e,Pn):e:(n&&(t=Pn(t)),(e.indexOf(" ")>=0?q:W)(e,t))}function kn(e,t,n,r,o){if(xn[t])throw new Error("Extension"+t+"is already initiated");var i=(n=F(n,(function(e){return!xn[e.replace(/^\?/,"")]}))).length||1,a=function(n){n&&! --i&&(xn[t]=!0,o(e,r||{}),Sn[t]&&h(Sn[t].splice(0))(!0))};n[0]?k(n,(function(e,t){var n=t.replace(/^\?/,"");(Sn[n]||(Sn[n]=[])).push(n===t?a:a.bind(0,!0))})):a(!0)}function An(e,t,n){var r=p("use-"+e);P(Cn,W(r,(function(r){kn(this,e,t,r,n)})))}function Cn(){var e=this,t=x(e,"readyState","init",!0);O(e,"element",bn,!0),O(e,"ready",new Promise((function(t,n){mn=t.bind(0,e),gn=n})),!0),l(e.ready,(function(e,n){t(e?"ready":"error"),e?(dn=!0,pn.emit("ready")):console.error(n)}))}P(Cn,{emit:function(e,t,n,r){if(!D(t,Node))return yn.emit(e,this,t,n);var o=Tt.emit(e,t,n,r);return o||t!==bn&&!0!==r&&!(r||"").bubbles||(n=T({target:t},z(n)||{data:n}),o=yn.emit(e,this,n,r)),o},define:function(e){y(this,e)},beforeInit:function(e){_(e)&&(e=J(e).call(this)),hn.waitFor(e.then(null,gn))},halt:function(){hn.waitFor(new Promise(X))},isElementActive:function(){return!0},detect:function(e,t){var n=this,r={};k(e,(function(e,t){wn[t]&&(r[t]=_(wn[t])?wn[t]=oe(wn[t]()).catch((function(e){return console.warn("Detection for "+t+" has thrown exception:",e),!1})):wn[t])})),this.beforeInit(oe(r,(function(e){return e=Object.freeze(T({},n.supports,e)),y(n,{supports:e}),_(t)&&t(e)})))},when:function(e,t){this.beforeInit(oe(e,(function(e){if(e)return t()})))},on:function(e,t,n,r){if(_(t)||void 0===t)return yn.add(this,jn(e,t));var o=jn(t,n,!0===(r||n));return D(e,Node)?Tt.on(e,o):h(Ae(e).get().map((function(e){return Tt.on(e,o)})))},matchElement:X,beforeUpdate:X}),he(Cn.prototype);var In=new Cn;function En(e){if(se(e),hn)throw new Error("brew() can only be called once");return hn=v(Tt.ready),pn=In,k(vn,(function(e,t){var n=t&&_(pn[p("use-"+e)]);n&&n.call(pn,t)})),k(On,(function(e,t){z(t)?y(pn,t):se(t)(pn)})),pn.beforeInit(J(e)(pn)),k(Sn,(function(e,t){h(t)()})),!0,cn(bn,hn),hn.then(mn),Te(window,"pagehide",(function(e){pn.emit("unload",{persisted:e.persisted},{handleable:!1})})),pn}function Mn(e,t,n,r){return r=se(r||n||t),n=L(n)||L(t)||[],function(o){!0===e?kn(o,t,n,{},r):An(e,n,r)}}function Tn(e){return!pn||pn.isElementActive(e)}pn={on:In.on.bind(In)},y(En,{with:function(){return On.push.apply(On,arguments),this}});var qn=En,Rn=Tt.root,Fn=new ln,Un=function(e){return $(e)?null:String(e)},Nn=function(e){return $(e)||isNaN(e)?null:+e},Dn={string:[ee,Un],number:[Nn,function(e){return Un(Nn(e))}],boolean:[function(e){return!$(e)},function(e){return e?"":null}]};function Ln(e){O(this,"element",e,!0)}function _n(){}function zn(e){var t=V(e.directives,(function(e){return e.attribute})),n=Q(e.directives,(function(e){var t=e.attribute,n=Dn[e.type]||Dn.string;return{get:function(e){return n[0](rt(e,t))},set:function(e,r){return r=n[1](r),ot(e,t,r),n[0](r)}}})),r=function(e){var r=this;if(O(r,"element",e,!0),t[0]){var o=function(){k(n,(function(t,n){r[t]=n.get(e)}))};o();var i=Et(e,t,o);r.on("destroy",i.dispose)}};return P(r,_n),k(n,(function(e){x(r.prototype,e,null,(function(t){return n[e].set(this.element,t)}))})),r}function Hn(e){return new Ln(e)}function $n(e,t,n){var r=zn(n),o=new WeakMap,i=It(Rn,t,(function(e,t){k(t,(function(e,t){Fn.emit("destroy",K(o,t).context)})),k(e,(function(e,t){var i=new r(t);o.set(t,{component:n.component(t,i),context:i})}))}),!0);w(Ln.prototype,e,(function(){var e=this.element;return!o.has(e)&&_e(e,t)&&i(),(o.get(e)||"").component||null}))}P(_n,{on:function(e,t){return Fn.add(this,e,t)}}),he(_n.prototype);var Bn="[disabled],.disabled,:disabled",Wn=Tt.root,Jn=Ct((function(e,t){t.resolve()})),Vn=new Map,Gn={};function Qn(e){e.preventDefault(),e.stopImmediatePropagation()}function Kn(e,t){Gn[e]=se(t)}function Zn(e){var t=Jn.get(Ae(e)[0]);return!!t&&!t.closePromise}function Xn(e,t){var n=Ae(e||"[is-flyout].open").get();return oe(n.map((function(e){var n=Jn.get(e);if(!n)return re();var r=n.closePromise;return r||(r=oe([Ee(e,"closing"),Xt(e,"open")].map(d),(function(){Jn.get(e)===n&&(Jn.delete(e),$e(e,{open:!1,closing:!1,visible:!1}),Tt.emit("flyouthide",e))})),n.closePromise=r,n.resolve(t),Lt(e),Dt(e),Rt(e),n.source&&$e(n.source,"target-opened",!1),Tt.emit("flyoutclose",e)),r})))}function Yn(e,t,n){return er(e,null,t,n,!0)}function er(e,t,n,r,o){var i=Ae(e)[0];if(!i)return ne();(D(t,Node)||z(n))&&(r=n,n=t,t=null);var a=Jn.get(i);if(a&&!a.closePromise)return!0===(o||r)?Xn(i,n&&nn.eval("`"+n.value)):a.path=pn.path,a.promise;r=T({focus:!n||!$t(n),tabThrough:nt(i,"tab-through"),modal:nt(i,"is-modal")},r);var u,c=n;c||Ut(i)||(c=Tt.modalElement);var s=new Promise((function(e){u=e}));Jn.set(i,{source:n,promise:s,resolve:u,path:pn.path}),c&&_t(c,i),n&&$e(n,"target-opened",!0),t&&pn.setVar&&pn.setVar(i,t),$e(i,{visible:!0,closing:!1}),oe([Ee(i,"open"),Zt(i,"open")].map(d),(function(){if(r.focus&&!Nt(i)){var e=!0===r.focus?i:Ae(i).find(r.focus)[0];e?Ft(e):Ft(i,!1)}})),r.modal&&zt(i),r.tabThrough?Bt(i):Ht(i);var f=function(e){var t=i.getAttribute("swipe-dismiss");("focusout"===e.type?t||!1===r.closeOnBlur:e.data!==p("swipe-"+t))||(Xn(i),Tt.event&&Tt.event.preventDefault(),e.handled())};return l(s,h(Tt.on(n||i,"focusout",f),Tt.on(i,"gesture",f))),Tt.emit("flyoutshow",i,{data:t}),s}function tr(e){if(e){var t={};return k(e,(function(e,n){var r=n.toLowerCase();t[r]=n,r.indexOf("-")>0&&(t[r.split("-")[0]]=n)})),t}}function nr(e,t){return e&&t?e[t.toLowerCase()]:t}function rr(e,t){var n=navigator.languages||[navigator.language||""];return e?(n=tr(n),L(e)&&(e=tr(e)),ce(n,(function(t,n){return e[n]}))||t||B(e)[0]):n[0]}!function(e,t,n,r){var o=new WeakMap,i=function(e,i){ot(i,t,e?"":null),e?o.has(i)||o.set(i,_(n(i))||r&&r.bind(void 0,i)):(K(o,i)||X)()};It(Rn,"["+t+"]",(function(e,t){t.forEach(i.bind(0,!1)),e.forEach(i.bind(0,!0))})),w(Ln.prototype,e,(function(){return null!==rt(this.element,t)}),(function(e){return i(e,this.element)}))}("enableLoadingClass","loading-class",(function(e){return sn(e,(function(t){t?$e(e,"loading",t):d(Ee(e,"loading-complete",(function(){$e(e,"loading",!1)})))}))})),Tt.ready.then((function(){function e(t){var n=t.currentTarget;if(_e(n,Bn))return K(Vn,n),void Qn(t);var r=G(Vn,n,Array),o=null,i=function(e){Ut(n)?e(t):K(Vn,n)};if(k(Gn,(function(e,t){if(n.attributes[e]&&r.indexOf(t)<0)return o=t,!1})),o){r.push(o);var a=o.call(n,t);t.isImmediatePropagationStopped()||(H(a)?(Qn(t),cn(n,a),a.then((function(){i(Fe)}),(function(e){Vn.delete(n),console.warn("Action threw an error:",e)}))):i(e))}else Vn.delete(n)}It(Wn,"[tab-root]",(function(e,t){e.forEach(Ht),t.forEach(Bt)}),!0),pn.on("mounted",(function(e){var t=at(Gn);t&&Ae(He(t,e.target)).attr("async-action","")})),pn.on("beforepageload",(function(){Jn.forEach((function(e,t){e.path&&e.path!==pn.path&&Xn(t)}))})),It(Wn,"[async-action]",(function(t,n){Ae(t).on("click",e),Ae(n).off("click",e)})),Ae("body").on("submit","form:not([action])",(function(e){e.preventDefault()})),Ae("body").on("click",Bn,Qn),Ae("body").on("click","a[href]:not([download]), [data-href]",(function(e){if(!e.isDefaultPrevented()){var t=e.currentTarget,n=(t.origin===location.origin?"":t.origin)+t.pathname+t.search+t.hash,r=t.getAttribute("data-href");if(e.stopPropagation(),!(o=t.target)||"_self"===o||o===window.name){var o,i=function(){console.warn("Navigation cancelled")};"navigate"in pn&&(r||pn.isAppPath(n))?(e.preventDefault(),pn.navigate(r||pn.fromHref(n)).catch(i)):un(Wn)&&(e.preventDefault(),an(Wn).then((function(){var e=F([Z(t.rel,"noreferrer"),Z(t.rel,"noopener")],ee);window.open(r||n,"_self",e.join(","))}),i))}}}))}));var or=Mn("i18n",(function(e,t){var n=tr(t.languages),r=e.route&&t.routeParam,o=t.cookie&&dt(t.cookie,864e5),i=nr(n,r&&e.route[r])||nr(n,o&&o.get())||(!1!==t.detectLanguage?rr:nr)(n,t.defaultLanguage),a=function(t){e.language=t};x(e,"language",i,(function(a){return a=nr(n,a)||i,o&&o.set(a),r&&dn&&e.route.replace(r,a.toLowerCase()),i!==a&&(i=a,t.reloadOnChange&&location.reload()),i})),e.define({setLanguage:a,detectLanguage:rr}),r&&(e.route.watch(r,a),e.on("ready",(function(){e.route.replace(r,i.toLowerCase())})))})),ir=(a(649),"[scrollable]"),ar="[scrollable-target]",ur=Mn("scrollable",(function(e,t){t=T({content:"[scrollable-target]:not(.disabled)",bounce:!1},t);var n=window.DOMMatrix||window.WebKitCSSMatrix||window.MSCSSMatrix;function r(t){return{handle:Z(t.dir,"auto scrollbar content")||"content",hScroll:!Z(t.dir,"y-only"),vScroll:!Z(t.dir,"x-only"),pageItem:t.selector,snapToPage:"always"===t.paged||t.paged===e.orientation}}function o(){Ae(ir).scrollable("refresh")}function i(){Ae('[animate-on~="scroll-into-view"]').filter(":visible").each((function(e,t){var r=new n(getComputedStyle(t).transform),o=Ne(Tt.root),i=Ne(t),a=ze(o,i.translate(-r.e||0,0))||ze(o,i.translate(0,-r.f||0));a^Ue(t,"tweening-in")&&(a||t.attributes["animate-out"])&&(a?Zt:Xt)(t,"scroll-into-view")}))}$n("scrollable",ir,{component:function(n,o){var i=Ae.scrollable(n,T({},t,r(o))),a=[];function u(t){if(t&&!u.d++){var r,c,s=!1,l=!1,f=0;a.push(e.on("orientationchange",(function(){i.setOptions({snapToPage:"always"===o.paged||o.paged===e.orientation})})),e.on(n,{statechange:function(e){if(o.selector&&!s){var t=e.data[o.varname];(0|Ne(p(t)).width)>(0|Ne().width)?h(t,"left center"):h(t)}},scrollMove:function(e){s=!0,o.selector&&!r&&d(e.pageIndex)},scrollStop:function(e){s=!1,o.selector&&(d(e.pageIndex),l&&m())}},!0),Te(window,"resize",(function(){o.selector&&(clearTimeout(c),c=setTimeout(m,200))})))}function p(e){return o.selector&&Ae(o.selector,n).get()[e]}function d(t){var r=f;f=t,o.varname&&e.setVar&&e.setVar(n,o.varname,t),r!==t&&e.emit("scrollIndexChange",n,{oldIndex:r,newIndex:t},!0)}function h(e,t){var o=p(e);t=t||"center top",!s&&De(n)&&o&&(s=!0,r=!0,d(e),i.scrollToElement(o,t,t,200,(function(){s=!1,r=!1})))}function m(){("always"===o.paged||o.paged===e.orientation)&&De(n)&&(s?l=!0:(l=!1,h(f)))}}function c(t){if(t&&!c.d++){var r={},u=!1,s=function(){var e=r[history.state];e&&i.scrollTo(e.x,e.y,0)};a.push(Tt.on("asyncStart",(function(){u=!0})),Tt.on("asyncEnd",(function(){u=!1,o.persistScroll&&s()})),e.on(n,"scrollStart",(function(e){"script"!==e.source&&delete r[history.state]}),!0),e.on("navigate",(function(e){r[e.oldStateId]={x:i.scrollLeft(),y:i.scrollTop()},setTimeout((function(){!u&&o.persistScroll&&s()}))})))}}return a.push(Tt.on(n,{drag:function(){qt()},getContentRect:function(e){if(e.target===n||qe(n,Ae(e.target).closest(ar)[0])){var t=i.scrollPadding(e.target);return Ne(n).expand(t,-1)}},scrollBy:function(e){var t=i.scrollBy(e.x,e.y,"instant"===e.behavior?0:200);return{x:t.deltaX,y:t.deltaY}}})),u.d=0,c.d=0,o.watch((function(){i.setOptions(r(o))})),o.watch("selector",u,!0),o.watch("persistScroll",c,!0),o.on("destroy",(function(){h(a)(),i.destroy()})),i[Ut(n)?"enable":"disable"](),i},directives:{dir:{attribute:"scrollable"},paged:{attribute:"scroller-snap-page"},varname:{attribute:"scroller-state"},selector:{attribute:"scroller-page"},persistScroll:{attribute:"persist-scroll",type:"boolean"}}}),Ae.scrollable.hook({scrollStart:function(t){e.emit("scrollStart",this,t,!0)},scrollMove:function(t){e.emit("scrollMove",this,t,!0)},scrollEnd:function(t){e.emit("scrollStop",this,t,!0)},scrollProgressChange:function(t){e.emit("scrollProgressChange",this,t,!0)}}),e.on("statechange orientationchange animationcomplete",(function(){ue(o)})),e.on("pageenter",(function(e){var t=Ae(He(ir,e.target)).add(Ae(e.target).parents(ir));Ae(He(ar,e.target)).each((function(e,t){Ae(t).toggleClass("disabled",!Tn(t))})),t.each((function(e,t){Hn(t).scrollable.refresh()})),t.filter(":not([keep-scroll-offset])").scrollable("scrollTo",0,0)})),e.on("resize pageenter statechange scrollMove orientationchange",(function(){ue(i)})),Tt.on("modalchange",(function(){Ae(ir).each((function(e,t){Ae(t).scrollable(Ut(t)?"enable":"disable")}))})),Tt.on("keystroke",(function(e){var t=Tt.event;if(Tt.modalElement&&t&&t.target===document.body&&Z(e.data,"space pageUp pageDown leftArrow rightArrow upArrow downArrow")){var n=He(ir,Tt.modalElement)[0];n&&Ae(n).triggerHandler(Ae.Event("keydown",{keyCode:t.keyCode}))}}))})),cr=c.IS_TOUCH,sr=Mn(!0,"viewport",(function(e){var t,n,r,o=x(e,"orientation","",!0),i=window.visualViewport,a=cr&&"MacIntel"!==navigator.platform;function u(u){if(i)n=i.width,r=i.height;else{var c=screen.availWidth,s=screen.availHeight;n=a?c:document.body.offsetWidth,r=a?c===window.innerWidth?s:window.innerHeight:document.body.offsetHeight}var l=t;if(o((t=n/r)>=1?"landscape":"portrait"),!1!==u){var f={aspectRatio:t,orientation:e.orientation,viewportWidth:n,viewportHeight:r};e.emit("resize",f),A(t>=1,l>=1)&&e.emit("orientationchange",f)}}y(e,{get aspectRatio(){return t},get viewportWidth(){return n},get viewportHeight(){return r}}),e.on("orientationchange",(function(){Zt(Tt.root,"orientationchange")})),i?(Te(i,"resize",u),u(!1)):(Te(window,"resize",(function(){ue(u)})),e.beforeInit((function(){return Tt.ready.then((function(){u(!1)}))})))}));function lr(e){return lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lr(e)}var fr,pr,dr=m(),hr=Map.prototype,mr={},gr=Tt.root,vr=[],yr=function(e){return!!je(e,fr)},br=function(e){return je(e,fr)||"/"},wr=function(e){return ye(fr,e)},Sr=ee,xr=ee;function Or(e,t,n){return e&&e.test||(e=Ir(e)),L(t)||(t=ke(t)),e.test(t,n)}function Pr(){return location.search+location.hash}function jr(){return location.pathname+Pr()}function kr(e){var t=new Map(e&&Object.entries(e));return Object.setPrototypeOf(t,kr.prototype),t}function Ar(e){return"symbol"===lr(e)?e:String(e)}function Cr(e){T(this,e)}function Ir(e){if(e=String(e),!mr[e]){var t,n=new Cr,r={};e.replace(/\/(\*|[^{][^\/]*|\{([a.-z_$][a-z0-9_$]*)(\?)?(?::(?![*+?])((?:(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])([*+?]|\{\d+(?:,\d+)\})?)+))?\})(?=\/|$)/gi,(function(e,o,i,a,u){if(a&&!t&&(t=n.length),i){var c=u?new RegExp("^"+u+"$","i"):/./;r[i]=n.length,n.push({name:i,test:c.test.bind(c)})}else n.push(o.toLowerCase())})),T(n,{pattern:e,params:r,exact:!("*"===n[n.length-1]&&n.splice(-1)),minLength:t||n.length}),mr[e]=g(n)}return mr[e]}function Er(e,t,n){return e=e||[],t=t.map(encodeURIComponent),{route:e,params:E(n,["remainingSegments"]),minPath:we(t.slice(0,e.minLength).join("/")),maxPath:we(t.slice(0,e.length).join("/"))}}function Mr(e,t,n){return ce(e,(function(e){var r=ce(e.params,(function(e,n){return null!==t[n]}));if(r&&!n&&(r=!ce(t,(function(t,n){return t&&"remainingSegments"!==n&&!e.has(n)}))),r){for(var o=[],i=0,a=e.length;i<a;i++){var u=e[i].name;if(u&&!e[i].test(t[u]||"")){if(i<e.minLength||t[u])return!1;break}o[i]=u?t[u]:e[i]}return Er(e,o,Y(t,B(e.params)))}}))||!n&&Mr(e,t,!0)}function Tr(e,t,n){var r=this,o={},i=dr(r,{routes:t.map(Ir),params:o,app:e});k(i.routes,(function(e,t){k(t.params,(function(e){o[e]=null}))})),T(r,o,r.parse(n)),i.current=i.lastMatch,i.handleChanges=pe(r,!0),Object.preventExtensions(r),Object.getOwnPropertyNames(r).forEach((function(e){x(r,e,null,(function(e){return $(e)||""===e?null:String(e)}))})),pe(r,(function(){var t=i.lastMatch;C(t.params,E(r,["remainingSegments"]))||(t=Mr(i.routes,r)||i.current);var n=t.route.exact?"/":we(r.remainingSegments),o=Sr(ye(t.maxPath,n));i.current=t,r.set(T({},i.params,t.params,{remainingSegments:n})),N(o,Se(e.path))||(e.path=o)}))}function qr(e,t,n){var r=this;O(r,"pageId",e.id,!0),O(r,"path",t,!0),O(r,"params",n,!0),dr(r,e)}P(kr,Map,{has:function(e){return hr.has.call(this,Ar(e))},get:function(e){return hr.get.call(this,Ar(e))},set:function(e,t){return hr.set.call(this,Ar(e),t)},delete:function(e){return hr.delete.call(this,Ar(e))},toJSON:function(){return Q(this,ee)}}),P(Cr,Array,{has:function(e){return e in this.params},match:function(e,t){"string"==typeof e&&(e=this.params[e]);var n=this[e];return!!n&&(n.name?n.test(t):N(n,t))},test:function(e,t){var n=this;return e.length>=n.minLength&&(t||!n.exact||e.length<=n.length)&&!f(n,(function(t,n){return e[n]&&!(t.name?t.test(e[n]):N(e[n],t))}))}}),P(Tr,{parse:function(e){var t=dr(this),n=ke(xr(Se(e))),r=f(t.routes,(function(e){return Or(e,n,!0)})),o=T({},t.params);return r&&k(r.params,(function(e,t){o[e]=n[t]})),o.remainingSegments=!r||r.exact?"/":we(n.slice(r.length).join("/")),t.lastMatch=Er(r,n,o),o},set:function(e){var t=this;if("string"==typeof e){if(N(e,t.toString()))return;e=t.parse(e)}dr(t).handleChanges((function(){T(t,e)}))},replace:function(e,t){var n,r=this;return dr(r).handleChanges((function(){var o=r.getPath(T(r,z(e)||W(e,t)));n=dr(r).app.navigate(o+(o===r.toString()?Pr():""),!0)})),n},getPath:function(e){var t=Mr(dr(this).routes,e);return Sr(t?ye(t.maxPath||"/",t.route.exact?"/":e.remainingSegments):"/")},toJSON:function(){return T({},this)},toString:function(){return Sr(ye(dr(this).current.maxPath||"/",this.remainingSegments))}}),he(Tr.prototype),P(qr,{get data(){return dr(this).data},clearNavigateData:function(){dr(this).data=null},clearHistoryStorage:function(){k(dr(this).states,(function(e,t){t.storage.clear()}))}}),mr["/*"]=g(new Cr({value:"/*",exact:!1,length:0,minLength:0,params:{},test:function(){return!0}}));var Rr=Mn("router",(function(e,t){var n,r,o,i=te(),a=i,u="/",c="",s={},f=0,p=0,d={};function h(e,t){return pr.revive(e,t)||G(pr,e,t)}function m(t){c=t,e.path=t}function g(e,t,n,r){return Object.freeze({id:e,path:t,navigated:!1!==r,redirected:!!n,originalPath:n||null})}function y(t,o,i,a,u,c,s,l,p){(s=s||vr[f])&&s.sessionId!==c&&(s=null),void 0===u&&(u=null),p&&pr.set(t,p);var v,y,b=X,w=X,S=Se(o),x=s&&a?s.page:{id:t,data:u,states:{}},O=[t,o,i,a,u,c],P={id:t,path:o,index:i,pathname:S,type:"navigate",previous:s&&(l||a?s.previous:s),page:x,sessionId:c,resumedId:s?s.resumedId:c,deleted:!1,get done(){return v},get promise(){return y||(y=re(v||new Promise((function(e,t){b=e,w=t}))))},get pageInfo(){return x.info||(x.info=new qr(x,S,R(n.parse(S))))},get storage(){return p||(p=P.deleted?new kr:h(t,kr))},commit:function(){r=P,m(P.path),n.set(S)},reset:function(){return v&&(v=!1,y=null),P},forward:function(e){y&&!v&&e.promise.then((function(e){P.resolve(g(e.id,e.path,P.path,e.navigated))}),P.reject)},resolve:function(n){var r=d;v=n||g(t,P.path),b(v),vr[f]===P&&(d=P,m(P.path),v.navigated?e.emit("pageload",{pathname:P.path},{handleable:!1}):"back_forward"===P.type&&e.emit("popstate",{oldStateId:r.id,newStateId:P.id},{handleable:!1}))},reject:function(e){y=null,w(e||I(Ge))},toJSON:function(){return O[1]=P.path,O[4]=x.data,O}};return x.states[t]=P,P}function b(t,n,r){if(t.path=n,history.replaceState(t.id,"",wr(n)),t.done){var o=be(r).hash,i=be(n).hash;return m(n),o!==i&&e.emit("hashchange",{oldHash:o,newHash:i},{handleable:!1}),{promise:re(g(t.page.id,n,null,!1))}}return t}function w(e,t,n,r,o){var i=vr[f];i&&i!==e&&!i.done&&(t?i.forward(e):i.reject()),dn&&!n&&un(gr)?an(gr).then((function(){vr[f]===i&&!1!==o()&&ie(M)}),(function(){e.reject(I(Qe))})):!1!==o()&&(n&&r.done?(e.resolve(g(e.page.id,e.path,null,!1)),b(e,e.path,i.path)):ie(M))}function S(e,t,n,r,o){if(!je(e=A(e),u))return{promise:ne(I(Qe))};var s=vr[f],l=s;if(s)if(n)o=new kr(l.storage.toJSON());else if($(r)){var h=Se(e);if(h===s.pathname){if(!s.done||t||e===s.path)return b(s,e,s.path);n=!0,o=s.storage}else h===d.pathname&&Se(c)===h&&(n=!0,l=d,o=d.storage)}var m=te(),g=t||s&&!s.done,v=Math.max(0,f+!g),S=y(m,e,p+v,n,n?l.page.data:r,i,l,g,o);return w(S,t,n,l,(function(){f=v,t||k(vr.splice(f),(function(e,t){t.deleted=!0,pr.delete(t.id),t.resumedId!==a&&pr.delete(t.resumedId)})),vr[f]=S,history[g?"replaceState":"pushState"](m,"",wr(e))})),S}function P(e,t){var n=vr[e].reset(),r=n.index-vr[f].index,o=n.page===vr[f].page,i=!o&&un(gr);return i&&t&&history.go(-r),w(n,!1,o,vr[f],(function(){if(n.type="back_forward",f=e,i&&t&&history.state===n.id){var o=Te(window,"popstate",(function(){o(),history.go(r)}));return!1}t&&!i||history.go(r)})),n}function j(e){return vr.findIndex((function(t,n){return t.id===e}))}function A(t,r,o){var i;if(t=decodeURI(t)||"/",r=r||e.path,"#"===t[0]||"?"===t[0]){var a=be(r);return a.pathname+("#"===t[0]?a.search+t:t)}if("~"===t[0]||t.indexOf("{")>=0){var u=(o?Sr:ee)(r);i=N(u,n.toString())?dr(n).current:n.parse(u)&&dr(n).lastMatch,t=t.replace(/\{([^}?]+)(\??)\}/g,(function(e,n,r,o){return i.params[n]||(r&&o+e.length===t.length?"":"null")}))}return"~"===t[0]?t=(o?ee:Sr)(ye(i.minPath,t.slice(1))):"/"!==t[0]&&(t=ye(Se(r),t)),we(t,!0)}function C(t,n,r,o){return r=T({navigationType:n.type,pathname:n.path,oldPathname:d.path,oldStateId:d.id,newStateId:n.id,route:n.pageInfo.params,data:n.page.data},r),e.emit(t,r,o)}function E(e){var t=v();e.commit(),C("beforepageload",e,{waitFor:t.waitFor},{handleable:!1}),l(t,(function(){vr[f]===e&&(r=null,s={},e.resolve())}))}function M(){if(dn){var e=vr[f],t=e.path;if(d!==e)if(s[t])E(e);else{s[t]=!0,console.log("Nagivate",t);var n=re(C("navigate",e));cn(gr,n),l(n,(function(){vr[f]===e&&E(e)}))}else e.resolve(g(d.page.id,t,null,!1))}}fr=we(t.baseUrl),"none"===t.urlMode?(fr="/",o=!1,yr=ee.bind(0,o),br=function(e){var t=be(c||"/"+Pr());return t.pathname+t.search+be(e).hash},wr=function(e){return location.pathname+location.search+be(e).hash}):"query"===t.urlMode?(fr="/",yr=function(e){return"?"===(e||"")[0]||/^\/($|[?#])/.test(je(e,location.pathname)||"")},br=function(e){var n=be(e),r=ct(t.queryParam,n.search),o=RegExp.leftContext,i=RegExp.rightContext;return we(r||"")+(!1===r?n.search:o+(o||!i?i:"?"+i.slice(1)))+n.hash},wr=function(e){return e=be(e),location.pathname+st(t.queryParam,e.pathname,e.search||"?")+e.hash}):"/"===fr?(br=ee,wr=ee):t.explicitBaseUrl?(Sr=wr,xr=br,br=ee,wr=ee,u=fr):ve(fr);var q=br(jr()),F=t.initialPath||t.queryParam&&ct(t.queryParam)||q,U=F===q||Se(F)===Se(q);je(F,u)?U&&Se(F)===F&&(F=q):F=u;var D,L,_={1:"reload",2:"back_forward"}[performance.navigation.type];_?t.resume=!1:t.resume&&(_="resume"),n=new Tr(e,t.routes,F),D="string"==typeof t.resume?t.resume:be(wr("/")).pathname,(pr=kt(sessionStorage,"brew.router."+D)).registerType("HistoryStorage",kr,(function(e,t){k(t,e.set.bind(e))})),e.define({get canNavigateBack(){return(vr[f-1]||"").sessionId===i},get canNavigateForward(){return(vr[f+1]||"").sessionId===i},get previousPath(){return(vr[f].previous||"").path||null},get page(){return(r||d).pageInfo},matchRoute:Or,parseRoute:Ir,resolvePath:A,isAppPath:yr,toHref:wr,fromHref:br,snapshot:function(){return vr[f]===d&&!!S(c,!1,!0)},navigate:function(e,t,n){return S(e,t,!1,n).promise},back:function(e){return this.canNavigateBack?P(f-1).promise:!!e&&S(e).promise},backToPreviousPath:function(){var e=vr[f].previous;return!!e&&P(j(e.id)).promise},historyStorage:{get current(){return(r||d).storage},for:function(e){var t=vr[j(e)];return t?t.storage:null}}}),x(e,"path",F,(function(e){return(e=A(e))!==c&&S(e),c})),O(e,"basePath",u,!0),O(e,"initialPath",F.replace(/#.*$/,""),!0),O(e,"route",n,!0),O(e,"routes",R(t.routes)),O(e,"cache",h("g",kr),!0),Te(window,"popstate",(function(){var e=j(history.state);e<0?S(br(jr())):e!==f&&P(e,!0)}));try{k(pr.get("s"),(function(e,t){vr.push(y.apply(0,t)),f=e}))}catch(e){}var z=j("resume"===_?pr.get("c"):history.state);z>=0?(a=vr[z].resumedId,f=z,"resume"===_?(p=history.length-f-1,S(vr[z].path,!1,!0)):(p=vr[z].index-f,i=vr[z].sessionId||i,"reload"!==_||t.resumeOnReload||(pr.delete(history.state),L="none"===t.urlMode)),vr[f].type=_):(f=vr.length,p=history.length-f,L=!0),L&&(L=S(F,!0)),vr[f].commit(),e.on("ready",(function(){L&&vr[f]===L&&U&&S(br(jr()),!0),M()})),e.on("unload",(function(){pr.set("c",vr[f].id),pr.set("s",vr),pr.persistAll()})),O(e,"sessionId",a,!0),O(e,"sessionStorage",h(a,kr),!0)}));function Fr(e){return Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fr(e)}function Ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(n),!0).forEach((function(t){Dr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dr(e,t,n){var r;return r=function(e,t){if("object"!=Fr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Fr(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}y(qn,Nr(Nr(Nr(Nr(Nr(Nr({ErrorCode:t,defaults:vn},n),r),e),o),i),{},{getDirectiveComponent:Hn,registerDirective:$n,install:function(e,t){An(e,[],se(t))},addDetect:function(e,t){wn[e]=se(t)},addExtension:Mn}));var Lr=qn.with((function(e){window.app=e}),or,ur,sr,Rr)}(),u=u.default}()}));
//# sourceMappingURL=brew-slim.min.js.map