!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("zeta-dom"),require("jQuery"),function(){try{return require("jq-scrollable")}catch(e){}}(),require("promise-polyfill"),require("waterpipe")):"function"==typeof define&&define.amd?define("brew",["zeta-dom","jQuery","jq-scrollable","promise-polyfill","waterpipe"],t):"object"==typeof exports?exports.brew=t(require("zeta-dom"),require("jQuery"),function(){try{return require("jq-scrollable")}catch(e){}}(),require("promise-polyfill"),require("waterpipe")):e.brew=t(e.zeta,e.jQuery,e["jq-scrollable"],e["promise-polyfill"],e.waterpipe)}(self,(function(e,t,n,r,o){return function(){var i={860:function(e,t,n){var r=window.jQuery||n(609);e.exports=r;try{n(172)}catch(e){}},424:function(e,t,n){var r=window.Promise||n(804).default;e.exports=r},256:function(e,t,n){var r=window.waterpipe||n(160);e.exports=r;var o=r;o.pipes["{"]=function(e,t){var n=t.globals,r=n.new,o={};for(n.new=o;t.hasArgs();){var i=t.raw();if("}"===i)break;o[String(i).replace(/:$/,"")]=t.next()}return n.new=r,o},o.pipes["{"].varargs=!0},344:function(e,t,n){"use strict";n.d(t,{default:function(){return Hn}});var r={};n.r(r),n.d(r,{baseUrl:function(){return ce},combinePath:function(){return se},isSubPathOf:function(){return ge},normalizePath:function(){return fe},setBaseUrl:function(){return le},toAbsoluteUrl:function(){return he},toRelativeUrl:function(){return de},withBaseUrl:function(){return pe}});var o={};n.r(o),n.d(o,{addStyleSheet:function(){return Ye},api:function(){return Ke},cookie:function(){return Ge},copyAttr:function(){return ze},deleteCookie:function(){return Be},getAttrValues:function(){return De},getCookie:function(){return Je},getFormValues:function(){return _e},getJSON:function(){return Ze},getQueryParam:function(){return He},loadScript:function(){return Xe},preloadImages:function(){return et},selectorForAttr:function(){return We},setAttr:function(){return Fe},setCookie:function(){return Qe}});var i={};n.r(i),n.d(i,{addAnimateIn:function(){return pt},addAnimateOut:function(){return ht},animateIn:function(){return st},animateOut:function(){return ft}});var a={};n.r(a),n.d(a,{addAsyncAction:function(){return qn},closeFlyout:function(){return $n},openFlyout:function(){return Un}});var u=n(163),c=u.util,l=c.noop,s=c.either,f=c.is,p=(c.isUndefinedOrNull,c.isArray),h=c.isFunction,d=c.isThenable,g=c.isPlainObject,m=(c.isArrayLike,c.makeArray),v=c.extend,b=c.each,y=c.map,w=c.grep,x=(c.splice,c.any),O=c.single,S=c.kv,A=c.pick,P=c.exclude,k=c.mapGet,T=c.mapRemove,j=(c.arrRemove,c.setAdd,c.equal),I=c.combineFn,E=(c.executeOnce,c.createPrivateStore),C=c.setTimeoutOnce,N=c.setImmediate,M=c.setImmediateOnce,R=c.throwNotFunction,q=c.keys,$=c.values,U=c.hasOwnProperty,V=(c.getOwnPropertyDescriptors,c.define),L=c.definePrototype,D=c.defineOwnProperty,F=c.defineGetterProperty,z=c.defineHiddenProperty,W=c.defineAliasProperty,_=c.defineObservableProperty,H=c.watch,J=c.watchOnce,Q=c.watchable,B=(c.inherit,c.deepFreeze),G=c.iequal,K=c.randomId,Z=(c.repeat,c.camel),X=(c.hyphenate,c.ucfirst,c.lcfirst,c.trim),Y=c.matchWord,ee=c.htmlDecode,te=c.resolve,ne=c.reject,re=c.always,oe=c.resolveAll,ie=c.catchAsync,ae=c.setPromiseTimeout,ue={http:80,https:443},ce="/";function le(e){ce=fe(e,!0)}function se(e,t){return e=fe(e),t=fe(t),"/"===e?t:"/"===t?e:e+t}function fe(e,t){if(null==e)return"/";if(/(:\/\/)|\?|#/.test(e)){var n=document.createElement("a");return n.href=e,(RegExp.$1&&(n.origin||n.protocol+"//"+n.hostname+(n.port&&+n.port!==ue[n.protocol.slice(0,-1)]?":"+n.port:"")))+fe(n.pathname,t)+n.search+n.hash}if(e=String(e).replace(/\/+(\/|$)/g,"$1"),t&&e.indexOf("./")>=0){for(var r=e.split("/"),o=0;o<r.length;)"."===r[o]||".."===r[o]&&!o?r.splice(o,1):".."===r[o]?r.splice(--o,2):o++;e=r.join("/")}return"/"===e[0]?e:"/"+e}function pe(e){return e=fe(e),ce&&"/"===e[0]&&!ge(e,ce)?se(ce,e):e}function he(e){return e.indexOf("://")>0?e:location.origin+pe(e)}function de(e){return e.substr(0,location.origin.length)===location.origin?e.substr(location.origin.length):e}function ge(e,t){var n=t.length;return e.substr(0,n)===t&&(!e[n]||"/"===e[n]||"/"===t[n-1])}var me=n(860),ve=n(424),be=u.css,ye=be.parseCSS,we=be.isCssUrlValue,xe=be.runCSSTransition,Oe=u.util,Se=(Oe.domReady,Oe.tagName,Oe.is,Oe.isVisible),Ae=Oe.matchSelector,Pe=(Oe.comparePosition,Oe.connected,Oe.containsOrEquals),ke=(Oe.acceptNode,Oe.combineNodeFilters,Oe.iterateNode),Te=(Oe.iterateNodeToArray,Oe.getCommonAncestor,Oe.parentsAndSelf,Oe.selectIncludeSelf),je=Oe.selectClosestRelative,Ie=Oe.createNodeIterator,Ee=(Oe.createTreeWalker,Oe.bind),Ce=Oe.bindUntil,Ne=Oe.dispatchDOMMouseEvent,Me=(Oe.removeNode,Oe.getClass),Re=Oe.setClass,qe=(Oe.getScrollOffset,Oe.getScrollParent,Oe.getContentRect,Oe.scrollBy,Oe.scrollIntoView),$e=(Oe.createRange,Oe.rangeIntersects,Oe.rangeEquals,Oe.rangeCovers,Oe.compareRangePosition,Oe.makeSelection,Oe.getRect),Ue=(Oe.getRects,Oe.toPlainRect,Oe.rectEquals,Oe.rectCovers,Oe.rectIntersects),Ve=(Oe.pointInRect,Oe.mergeRect,Oe.elementFromPoint,{}),Le={};function De(e){var t={};return b(e.attributes,(function(e,n){t[n.name]=n.value})),t}function Fe(e,t,n){b(g(t)||S(t,n),(function(t,n){e.setAttribute(t,n)}))}function ze(e,t){b(e.attributes,(function(e,n){t.setAttribute(n.name,n.value)}))}function We(e){return g(e)&&(e=q(e)),"["+e.join("],[")+"]"}function _e(e){var t={};return b(e.elements,(function(n,r){if(r.name&&!(r.name in t)){var o=e.elements[r.name];F(t,r.name,(function(){return"checkbox"===o.type?o.checked:o.value}))}})),t}function He(e){return new RegExp("[?&]"+e+"=([^&]+)","i").test(location.search)&&decodeURIComponent(RegExp.$1)}function Je(e){return new RegExp("(?:^|\\s|;)"+e+"=([^;]+)").test(document.cookie)&&RegExp.$1}function Qe(e,t,n){return document.cookie=e+"="+t+";path=/"+(n?";expires="+new Date(Date.now()+n).toGMTString():""),t}function Be(e){document.cookie=e+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT"}function Ge(e,t){return{get:function(){return Je(e)},set:function(n){return Qe(e,n,t)},delete:function(){return Be(e)}}}function Ke(e,t){var n="get post delete";if("string"==typeof e&&Y(e,n))return Ke(t=v({},"string"==typeof t?{baseUrl:t}:t,{methods:e}))[e];var r={baseUrl:(e=v({},e)).baseUrl,token:e.token};return b(e.methods||n,(function(t,o){Y(o,n)&&(z(r,o,(function t(n,i){if(!r.baseUrl)return J(r,"baseUrl",(function(){return t(n,i)}));var a={"Content-Type":"application/json"};return r.token&&(a.Authorization="Bearer "+r.token),me.ajax({method:o,url:se(r.baseUrl,n),headers:a,dataType:"json",data:JSON.stringify(i||{}),success:function(t){h(e.getTokenFromResponse)&&(r.token=e.getTokenFromResponse(t,r.token))}}).catch((function(e){if(0===e.status)throw"network-failed";var t=e.responseJSON;if(t)throw console.error(n+":",t.error||t.message),t.error||t.message;throw e.statusText}))})),W(r[o],"baseUrl",r),W(r[o],"token",r))})),r}function Ze(e){return me.getJSON(pe(e))}function Xe(e,t){return p(e)?e.reduce((function(e,n){return e.then((function(){return Xe(n,t)}))}),te()):(Le[e]||(Le[e]=new ve((function(n,r){var o=document.createElement("script");if((t=t||{}).nomodule){if("noModule"in o)return void n();o.setAttribute("nomodule","")}t.module&&o.setAttribute("type","module"),o.addEventListener("load",(function(){n({})})),o.addEventListener("error",(function(){r()})),o.src=pe(e),document.head.appendChild(o)}))),Le[e])}function Ye(e,t){var n=document.createElement("link");n.rel="stylesheet",n.href=pe(e),t&&(n.media=t),document.head.appendChild(n)}function et(e,t){if(!p(e)){var n={},r=function(e){we(e)&&(n[RegExp.$1||RegExp.$2||RegExp.$3]=!0)};ke(Ie(e,1),(function(e){Ae(e,"img")&&e.src&&(n[e.src]=!0),r(getComputedStyle(e).backgroundImage),r(getComputedStyle(e,"::before").backgroundImage),r(getComputedStyle(e,"::after").backgroundImage)})),e=q(n)}var o=[],i=[];return e.forEach((function(e){o.push(Ve[e]||(Ve[e]=new ve((function(t){i.push(e),me("<img>").on("load error",(function(){Ve[e]=!0,t()})).attr("src",e)}))))})),!o.length||o.every((function(e){return!0===e}))?te():(i.length&&console.log("Preload image",{urls:i}),ae(oe($(Ve)),t,!0))}var tt=u.dom,nt=u.dom,rt=(nt.textInputAllowed,nt.beginDrag,nt.beginPinchZoom,nt.getShortcut,nt.setShortcut,nt.focusable,nt.focused,nt.setModal,nt.retainFocus,nt.releaseFocus,nt.focus,tt),ot={},it={},at=new Map,ut=0;function ct(e,t,n,r){if(!n.length)return te();var o,i,a,u=++ut;n=n.map((function(e){return e instanceof ve?ie(e):new ve((function(t){e.then(t,t)}))})),ie(oe(n,(function(){clearTimeout(o),a(),at.delete(e),console.log("Animation #%i completed",u)}))),n.push(new ve((function(e,t){a=e,i=t}))),o=setTimeout((function(){i("Animation #"+u+" timed out"),console.log("Animation #%i might take longer than expected",u,n),at.delete(e)}),1500);var c=ie(oe(n));return console.log("Animation #%i triggered on %s",u,r,{elements:t}),at.set(e,c),c}function lt(e,t,n,r){var o=[xe(e,t),rt.emit(n,e)],i=parseFloat(me(e).css("transition-delay"));return b(r,(function(t,n){if(e.attributes[t]){var r=e.getAttribute(t);o.push(new ve((function(t,o){setTimeout((function(){oe(n(e,r)).then(t,o)}),1e3*i)})))}})),oe(o,(function(){return e}))}function st(e,t,n,r){if(at.has(e))return at.get(e).then((function(){return st(e,t,n,r)}));r=r||function(){return!0},rt.emit("animationstart",e,{animationType:"in",animationTrigger:t},!0);var o=n?me(n,e):me(),i="show"===t?':not([animate-on]), [animate-on~="'+t+'"]':'[animate-on~="'+t+'"]',a=[],u=[];return me(Te("[animate-in]",e)).filter(i).each((function(e,t){!o.find(t)[0]&&r(t)&&Se(t)&&(a.push(t),u.push(lt(t,"tweening-in","animatein",ot)))})),me(Te("[animate-sequence]",e)).filter(i).each((function(e,t){if(!o.find(t)[0]&&r(t)&&Se(t)){var n=t.getAttribute("animate-sequence")||"",i=t.getAttribute("animate-sequence-type")||"",c=me(t).find(">"===n[0]?n:me(n));void 0!==me(t).attr("animate-sequence-reverse")&&[].reverse.apply(c),c.css("transition-duration","0s"),c.attr("animate-in",i).attr("is-animate-sequence",""),c.each((function(e,t){"inline"===me(t).css("display")&&me(t).css("display","inline-block"),a.push(t),u.push(new ve((function(n,r){setTimeout((function(){me(t).css("transition-duration",""),lt(t,"tweening-in","animatein",ot).then(n,r)}),50*e)})))})),t.attributes["animate-in"]||me(t).attr("animate-in","").addClass("tweening-in")}})),ct(e,a,u,t).then((function(){rt.emit("animationcomplete",e,{animationType:"in",animationTrigger:t},!0)}))}function ft(e,t,n,r,o){r=r||function(){return!0},rt.emit("animationstart",e,{animationType:"out",animationTrigger:t},!0);var i=n?me(n,e):me(),a="show"===t?':not([animate-on]), [animate-on~="'+t+'"]':'[animate-on~="'+t+'"]',u=[],c=[];return me((o?me:Te)("[animate-out]",e)).filter(a).each((function(e,t){!i.find(t)[0]&&r(t)&&(u.push(t),c.push(lt(t,"tweening-out","animateout",it)))})),ct(e,u,c,t).then((function(){var n=me((o?me:Te)("[animate-out], .tweening-in, .tweening-out",e));"show"!==t&&(n=n.filter(a)),(n=n.filter((function(e,t){return r(t)}))).removeClass("tweening-in tweening-out"),n.find("[is-animate-sequence]").removeAttr("animate-in").removeClass("tweening-in tweening-out"),rt.emit("animationcomplete",e,{animationType:"out",animationTrigger:t},!0)}))}function pt(e,t){ot[e]=R(t)}function ht(e,t){it[e]=R(t)}var dt=n(256),gt={};function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(e,t){return"["+e+"] "+(t=m(t).map((function(e){return f(e,Element)?(n=e).tagName.toLowerCase()+(n.id?"#"+n.id:n.className.trim()&&n.className.replace(/^\s*|\s+(?=\S)/g,"."))+":":e&&"object"===mt(e)?(t=JSON.stringify(e),'[{"]'.indexOf(t[0])>=0&&t.length>200?t[0]+t.substr(1,199)+"…"+t[t.length-1]:t):e;var t,n})).join(" "))}function bt(e,t,n){var r;try{console.groupCollapsed(vt(e,t)),r=!0}catch(e){}try{n(console)}finally{if(r)try{console.groupEnd()}catch(e){}}}var yt,wt=E(),xt=new Map,Ot={},St=[],At=rt.root,Pt=[At];function kt(e,t){var n=me(e).closest("[match-path]")[0];return!n||(t||Pt).indexOf(n)>=0}function Tt(e,t,n){return e&&e.test||(e=It(e)),p(t)||(t=jt(t)),e.test(t,n)}function jt(e){return"/"===(e=fe(e))?[]:e.slice(1).split("/")}function It(e){if(e=String(e),!Ot[e]){var t,n=[],r={};e.replace(/\/(\*|[^{][^\/]*|\{([a.-z_$][a-z0-9_$]*)(\?)?(?::(?![*+?])((?:(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])([*+?]|\{\d+(?:,\d+)\})?)+))?\})(?=\/|$)/gi,(function(e,o,i,a,u){a&&!t&&(t=n.length),i&&(r[i]=n.length),n.push(i?{name:i,pattern:u?new RegExp("^"+u+"$","i"):/./}:o.toLowerCase())})),V(n,{value:e,params:r,exact:!("*"===n[n.length-1]&&n.splice(-1)),minLength:t||n.length,test:function(e,t){return e.length>=n.minLength&&(t||!n.exact||e.length<=n.length)&&!x(n,(function(t,n){return e[n]&&!(t.name?t.pattern.test(e[n]):G(e[n],t))}))}}),Ot[e]=n}return Ot[e]}function Et(e,t,n){return{route:e=e||[],params:P(n,["remainingSegments"]),minPath:fe(t.slice(0,e.minLength).join("/")),maxPath:fe(t.slice(0,e.length).join("/"))}}function Ct(e,t){return t=P(t,["remainingSegments"]),O(e,(function(e){var n,r;for(n in t)if(t[n]&&!(n in e.params))return!1;var o=[];for(n=0,r=e.length;n<r;n++){var i=e[n].name;if(i&&!e[n].pattern.test(t[i]||"")){if(n<e.minLength||t[i])return!1;b(e.params,(function(e,r){r>=n&&(t[e]=null)}));break}o[n]=i?t[i]:e[n]}return Et(e,o,t)}))}function Nt(e,t,n){var r=this,o=wt(r,{routes:t.map(It)});b(o.routes,(function(e,t){b(t.params,(function(e){r[e]=null}))})),v(r,r.parse(n)),o.current=o.lastMatch,o.handleChanges=H(r,!0),Object.preventExtensions(r),Object.getOwnPropertyNames(r).forEach((function(e){_(r,e)})),H(r,(function(){var t=P(r,["remainingSegments"]),n=o.current,i=n,a=!j(t,n.params);a&&o.lastMatch&&(n=o.lastMatch,o.lastMatch=null,a=!j(t,n.params)),a&&(n=Ct(o.routes,t)||i),o.current=n,n.route.exact&&(r.remainingSegments="/"),r.set(n.params),n!==i&&(e.path=se(n.maxPath,r.remainingSegments))}))}L(Nt,{parse:function(e){var t=wt(this),n=jt(e),r=x(t.routes,(function(e){return Tt(e,n,!0)})),o={};if(r){for(var i in this)o[i]=n[r.params[i]]||null;o.remainingSegments=r.exact?"/":fe(n.slice(r.length).join("/"))}return t.lastMatch=Et(r,n,o),o},set:function(e){var t=this;if("string"==typeof e){if(G(e,t.toString()))return;e=t.parse(e)}wt(t).handleChanges((function(){v(t,e)}))},getPath:function(e){var t=Ct(wt(this).routes,e);return t?se(t.maxPath||"/",t.route.exact?"/":e.remainingSegments):"/"},toJSON:function(){return v({},this)},toString:function(){return se(wt(this).current.maxPath||"/",this.remainingSegments)}}),Q(Nt.prototype),bn("router",(function(e,t){!function(e,t){var n,r,o=e.path||t.initialPath||t.queryParam&&He(t.queryParam)||location.pathname.substr(t.baseUrl.length)||"/",i=new Nt(e,t.routes,o),a="",u={},c={},s=-1,f=[];function p(e,t,n,r){return Object.freeze({id:e,path:t,navigated:!1!==r,redirected:!!n,originalPath:n||null})}function h(e,t){for(var n=s;n>=0;n--)if(f[n].result&&f[n].path===e)return history.replaceState(history.state,"",pe(e)),p(f[n].result,e,t,!1)}function d(t,n){var o=f[s];if(t=m(t),o&&t===o.path&&t===r)return o.result?{promise:te(h(t))}:o;s=Math.max(0,s+!n);var i,a,u=K(),c=l,d=l,g=f.splice(s),v={id:u,path:t,result:"",get promise(){return i||(i=new Promise((function(e,t){var n=function(e){return function(t){a=!0,e(t)}};a=!1,c=n(e),d=n(t)})))},reset:function(){return a&&(i=null),v},forward:function(e){i&&!a&&((e.promise||e.then((function(e){return e.promise}))).then((function(e){v.resolve(p(e.id,e.path,t))}),d),d=l)},resolve:function(e){e=e||p(u,t),v.path=e.path,v.result=v.result||e.id,c(e),b(f,(function(e,t){t.reject()}))},reject:function(){d("cancelled")}};return f[s]=v,history[n?"replaceState":"pushState"](u,"",pe(t)),e.path=t,n&&!g[1]?g[0].forward(v):N((function(){b(g,(function(e,t){t.reject()}))})),v}function g(){return history.back(),--s}function m(t,n){var r;return t=decodeURI(t),n=n||e.path,("~"===t[0]||t.indexOf("{")>=0)&&(r=G(n,i.toString())?wt(i).current:i.parse(n)&&wt(i).lastMatch,t=t.replace(/\{([^}?]+)(\??)\}/g,(function(e,n,o,i){return r.params[n]||(o&&i+e.length===t.length?"":"null")}))),"~"===t[0]?t=se(r.minPath,t.slice(1)):"/"!==t[0]&&(t=se(n,t)),fe(t,!0)}function y(e){me("[match-path]",e).each((function(e,t){if(!xt.has(t)){var n=document.createElement("div");n.setAttribute("style","display: none !important"),n.setAttribute("match-path",t.getAttribute("match-path")||""),t.attributes.default&&n.setAttribute("default",""),me(t).before(n),me(t).detach(),Re(t,"hidden",!0),xt.set(n,t),xt.set(t,t)}}))}function w(t,n,r){var o=f[s],i=new Map,a=rt.eventSource,u=Pt.slice(0);Pt=r,yt=me(r).filter("[page-title]")[0],c={},document.title=yt?Cn(yt,"page-title",!0):document.title,en(!0,(function(){bt(a,["pageenter",t],(function(){xt.forEach((function(r,o){var c=Pt.indexOf(r)>=0;if(r!==o&&c===u.indexOf(r)<0)if(c){jn(r,!1),kn(r);var l=i.get(me(r).parents("[match-path]")[0]),s=jt(r.getAttribute("match-path")),f=St.map((function(e){if(Tt(e.route,s))return e.callback(r,t)}));f.push(l),i.set(r,oe(f,(function(){Pt.indexOf(r)>=0&&(Re(r,"hidden",!1),st(r,"show","[match-path]"),e.emit("pageenter",r,{pathname:t},!0))})))}else e.emit("pageleave",r,{pathname:n},!0),ft(r,"show","[match-path]").then((function(){Pt.indexOf(r)<0&&bt(a,["pageleave",n],(function(){Re(r,"hidden",!0),jn(r,!0)}))}))}))})),b(i,(function(e,t){Zt(t,e)})),re(oe(i),(function(){o.resolve()}))}))}function x(){var t=f[s];if(t&&location.pathname===pe(r)||(d(r),t=f[s]),s>0&&r===a)t.resolve(h(r));else{if(rt.locked(rt.activeElement,!0))return n=r===n?null:a,g(),void t.reject();var o=nn(),u=r;if(o)return n=a,o=te(o).then((function(){return d(u)})),g(),void t.forward(o);n=null;var l,p=[At],x=a;y(),en(!0,(function(){for(var e,t=me('[switch=""]').get();e=t.shift();)if(kt(e,p)){var n=me(e).children("[match-path]").get().map((function(e){var t=k(xt,e)||e,n=me('[switch=""]',t).get(),o=m(t.getAttribute("match-path"),r);return{element:t,path:o.replace(/\/\*$/,""),exact:!n[0]&&"/*"!==o.slice(-2),placeholder:e!==t&&e,children:n}}));n.sort((function(e,t){return t.path.localeCompare(e.path)}));var o=O(n,(function(e){return(e.exact?r===e.path:ge(r,e.path))&&e.path}));b(n,(function(e,n){if(n.path===o){var r=n.element;p.unshift(r),n.placeholder&&(me(n.placeholder).replaceWith(r),Xt(r),tn(r),t.push.apply(t,n.children))}}))}})),c[r]&&c[x]?w(r,x,p):(c[r]=!0,me('[switch=""]').each((function(e,t){if(kt(t,p)){var n=me(t).children("[match-path]");if(!n.filter((function(e,t){return p.indexOf(t)>=0}))[0])return l=(n.filter("[default]")[0]||n[0]).getAttribute("match-path"),!1}})),l&&l!==r?l===a?t.resolve(h(l,r)):t.forward(d(l,!0)):(console.log("Nagivate",r),a=r,e.path=r,i.set(r),Zt(o=te(e.emit("navigate",{pathname:r,oldPathname:x,route:Object.freeze(v({},i))})),At,(function(){f[s]===t&&w(r,x,p)}))))}}H(u,!0),_(u,"path","",(function(e){return cn?((e=m(e,a))!==a&&e!==r&&(r=e,M(x)),a):a})),le(t.baseUrl||""),e.define({get canNavigateBack(){return s>0},get previousPath(){return(f[s-1]||"").path||null},resolvePath:m,navigate:function(e,t){return d(e,t).promise},back:function(e){return s>0?f[g()].reset().promise:!!e&&d(e).promise}}),D(e,"initialPath",o,!0),D(e,"route",i,!0),W(e,"path",u),e.beforeInit((function(){rt.ready.then((function(){y(),Ee(window,"popstate",(function(){var e=O(f,(function(e,t){return e.id===history.state&&t+1}));e?(r=f[s=e-1].reset().path,M(x)):d(location.pathname.substr(ce.length-1)||"/")}))}))})),e.on("ready",(function(){d(o)})),e.on("pageenter",(function(e){me(Te("[x-autoplay]",e.target)).each((function(e,t){kt(t)&&(0!==t.readyState&&(t.currentTime=0),t.play())}))})),e.on("pageleave",(function(t){me(Te("form",t.target)).each((function(t,n){e.emit("reset",n,null,!1)||n.reset()})),me(Te("[x-autoplay]",t.target)).each((function(e,t){t.pause()}))})),e.on("statechange",(function(e){Pe(e.target,yt)&&(document.title=Cn(yt,"page-title",!0))})),rt.watchElements(At,"video[autoplay], audio[autoplay]",(function(e){me(e).attr("x-autoplay","").removeAttr("autoplay")}),!0)}(e,t||{})})),Ot["/*"]={value:"/*",exact:!1,length:0,minLength:0,params:{},test:function(){return!0}};var Mt="background-image".split(" "),Rt="checked selected disabled readonly multiple ismap",qt=E(),$t=rt.root,Ut=new Set,Vt=new Map,Lt=[],Dt=[],Ft=[],zt={},Wt={},_t={},Ht=0,Jt=!1;function Qt(e,t){var n=qt(t)||qt(t,{});return n[e]||(n[e]={})}function Bt(e,t,n){b(t,(function(t,n){"$$class"===t?Re(e,n):"$$text"===t?e.textContent=n:"style"===t?me(e).css(n):Y(t,Rt)?e[t]=!!n:e.setAttribute(t,n)})),n||rt.emit("domchange",e)}function Gt(e,t){b(t,(function(t,n){e[t]="$$class"===t||"style"===t?v({},e[t],n):n}))}function Kt(e,t){var n,r=new Set;do{e=w(m(e),(function(e){return Pe($t,e)})),n=m(r),me(Te(We(zt),e)).not(n).each((function(e,n){b(zt,(function(e,o){n.attributes[e]&&(o(n,Qt.bind(0,e),t),r.add(n))}))}))}while(n.length!==r.size)}function Zt(e,t,n){if(!d(e))return te((n||l)());if(t||"script"!==rt.eventSource){var r=Pn("loading",(t=t||rt.activeElement)||$t),o=Pn("error",t||$t),i=Qt("handleAsync",r);kn(r,{loading:In(r,"loading")||!0}),kn(o,{error:null}),i.value=(i.value||0)+1,e.then((function(){kn(r,{loading:!!--i.value})}),(function(e){kn(r,{loading:!!--i.value}),kn(o,{error:""+(e.message||e)})}))}return e.then(n||null)}function Xt(e){Ut.add(e)}function Yt(e){if(!Ht&&!Jt){var t=new Map,n=new Map,r=function(e,t){Gt(k(n,e,Object),t)};Jt=!0;try{bt(rt.eventSource,"statechange",(function(){Kt(Ut,r);var e=me.uniqueSort(w(Ut,(function(e){return Pe($t,e)&&Ut.delete(e)})));b(e,(function(e,n){var r=Qt("oldValues",n),o={},i={};for(b(In(n,!0),(function(e,t){r[e]!==t&&(o[e]=r[e],i[e]=t,r[e]=t)})),t.set(n,{oldValues:o,newValues:i});n=n.parentNode;){var a=t.get(n);if(a)for(var u in a.newValues)u in i||(i[u]=a.newValues[u],o[u]=a.oldValues[u])}}));var n=[];b(e.reverse(),(function(e,o){bt("statechange",[o,t.get(o).newValues],(function(e){e.log(o===$t?document:o),me(Te(We(Wt),o)).not(n).each((function(e,t){b(Wt,(function(e,n){t.attributes[e]&&n(t,Qt.bind(0,e),r)})),n.push(t)}))}))}))})),oe(Lt.map((function(e){return e(n)}))).then((function(){var r=new Map;b(n,(function(n,o){if(e)Vt.has(n)?Gt(Vt.get(n),o):Bt(n,o);else{var i=me(n).filter("[match-path]")[0]||me(n).parents("[match-path]")[0]||$t,a=r.get(i);if(!a){var u=function(e){var n,r=e.getAttribute("animate-on-statechange");if(!r)return!0;for(;e&&!(n=t.get(e));e=e.parentNode);return n&&x(r,(function(e){return e in n.newValues}))};a=[],N((function(){ft(i,"statechange","[match-path]",u,!0).then((function(){b(a,(function(e,t){Bt(t,T(Vt,t))})),st(i,"statechange","[match-path]",u)}))})),r.set(i,a)}Gt(k(Vt,n,Object),o),a.push(n)}})),b(t,(function(e,t){rt.emit("statechange",e,{data:In(e),newValues:t.newValues,oldValues:t.oldValues},!0)}))}))}finally{Jt=!1}}}function en(e,t){var n=!0;try{Ht=(Ht||0)+1,R(t||e)()}catch(e){throw n=!1,e}finally{!--Ht&&n&&Yt(!0===e)}}function tn(e){var t=Jt;Jt=!0;try{Kt(e,(function(e,t){Bt(e,t,!0)}))}finally{Jt=t}for(var n=[e],r=e===$t,o=-1,i=0;o<Ft.length;)b(Ft.slice(o<0?0:o),(function(t,r){me(Te(r.target,e)).each((function(e,t){r.unbindHandlers.push(un.on(t,r.handlers)),r.handlers.mounted&&n.indexOf(t)<0&&n.push(t)}))})),o=Ft.length,b(me.uniqueSort(n.slice(i)),(function(e,t){rt.emit("mounted",t)})),r||(r=!0,rt.emit("mounted",$t,{target:e})),i=n.length;b(Dt,(function(t,n){me(Te(n.selector,e)).each((function(e,t){n.handler.call(t,t)}))}))}function nn(e){var t=x(me("[prevent-leave]").get(),(function(e){var t=Qt("preventLeave",e),n=t.allowLeave;if(kt(e)||n){var r=Cn(e,"prevent-leave");return!r&&n&&delete t.allowLeave,r&&!n}}));return t&&!e?oe(rt.emit("preventLeave",t,null,!0),(function(e){if(!e)throw"user_rejected";Qt("preventLeave",t).allowLeave=!0})):!!t}function rn(e,t){_t[e]=me(t)[0]}function on(e,t){zt[e]=R(t)}function an(e,t){Wt[e]=R(t)}on("apply-template",(function(e,t){var n=t(e),r=e.getAttribute("apply-template"),o=_t[r]||_t[Cn(e,"apply-template")],i=n.template;if(n.attributes||v(n,{attributes:De(e),childNodes:m(e.childNodes)}),o&&o!==i){n.template=o,o=o.cloneNode(!0),i&&b(i.attributes,(function(t,n){e.removeAttribute(n.name)})),Fe(e,n.attributes),ze(o,e);var a=me(n.childNodes).detach();me(Te("content:not([for])",o)).replaceWith(a),me(Te("content[for]",o)).each((function(e,t){me(t).replaceWith(a.filter(t.getAttribute("for")||""))})),me(e).empty().append(o.childNodes)}})),on("auto-var",(function(e){kn(e,Cn(e,"auto-var"))})),on("foreach",(function(e,t){var n=t(e),r=n.template||(n.template=me(e).contents().detach().filter((function(e,t){return 1===t.nodeType||/\S/.test(t.data||"")})).get()),o=n.nodes||[],i=n.data||[],a=m(Cn(e,"foreach"));if(a.length!==i.length||a.some((function(e,t){return i[t]!==e}))){var u=y(a,(function(n){var a=i.indexOf(n);if(a>=0)return i.splice(a,1),o.splice(a*r.length,(a+1)*r.length);var u=me(r).clone().get(),c=me(Te("[foreach]",u));return c[0]&&me(Te("[foreach]",r)).each((function(e,n){t(c[e]).template=t(n).template})),b(u,(function(t,r){1===r.nodeType&&(me(e).append(r),Tn(r,{foreach:n}),tn(r))})),u}));v(n,{nodes:u,data:a.slice()}),me(o).detach(),me(e).append(u)}})),on("switch",(function(e,t,n){var r=e.getAttribute("switch")||"";if(kt(e)&&r){var o=t(e);void 0===o.matched&&Tn(e,"matched",(function(){return o.matched&&In(o.matched,!0)}));var i,a,u,c=In(e),l=dt.eval(r,c),s=me("[match-"+r+"]",e).filter((function(t,n){return me(n).parents("[switch]")[0]===e})),f=!Y("switch",e.getAttribute("keep-child-state")||""),p=o.matched,h=new Map;s.each((function(e,t){var n=dt.eval('"null" ?? '+t.getAttribute("match-"+r),In(t));if(h.set(t,n),dt.eval("$0 == $1",[l,n]))return i=t,!1})),i=i||s.filter("[default]")[0]||s[0]||null,p!==i?bt("switch",[e,r,"→",l],(function(e){e.log("Matched: ",i||"(none)"),i&&(f&&jn(i),kn(i)),p&&f&&jn(p,!0),s.each((function(e,t){n(t,{$$class:{active:t===i}})}))})):(a="switch",u=[e,r,"→",l,"(unchanged)"],console.log(vt(a,u)),r in c&&void 0!==h.get(i)&&kn(e,r,h.get(i))),o.matched=i}})),an("template",(function(e,t,n){var r=t(e),o=r.templates;o||(o={},b(e.attributes,(function(e,t){t.value.indexOf("{{")>=0&&(o[t.name]=Y(t.name,Rt)?t.value.replace(/^{{|}}$/g,""):t.value)})),!e.childElementCount&&(e.textContent||"").indexOf("{{")>=0&&(o.$$text=e.textContent),r.templates=o);var i=In(e),a={};b(o,(function(t,n){var r=En(n,i,e,t,!Y(t,Rt));("$$text"===t?e.textContent:(e.getAttribute(t)||"").replace(/["']/g,""))!==r&&(a[t]=r)})),n(e,a)})),an("set-style",(function(e,t,n){var r=ye(Cn(e,"set-style",!0));b(Mt,(function(e,t){var n=we(r[t]);n&&(r[t]='url("'+pe(de(n))+'")')})),n(e,{style:r})})),an("set-class",(function(e,t,n){n(e,{$$class:Cn(e,"set-class")})}));var un,cn,ln,sn=E(),fn=rt.root,pn={};function hn(e){return oe(e.splice(0),(function(){return e.length&&hn(e)}))}function dn(e){return function(t){if(t.target===t.context)return e.apply(this,arguments)}}function gn(e){var t=e.target;me(Te('img[src^="/"], video[src^="/"]',t)).each((function(e,t){t.src=pe(t.getAttribute("src"))})),me(Te('a[href^="/"]',t)).each((function(e,t){t.href=pe(t.getAttribute("href"))})),me(Te("[data-src]",t)).each((function(e,t){t.src=pe(t.dataset.src),t.removeAttribute("data-src")})),me(Te("[data-bg-src]",t)).each((function(e,t){t.style.backgroundImage='url("'+pe(t.dataset.bgSrc)+'")',t.removeAttribute("data-bg-src")})),me(Te("form",t)).on("submit",(function(e){e.preventDefault()}))}function mn(){var e=this;sn(e,{init:[],options:{}}),D(e,"element",fn,!0),D(e,"ready",new Promise((function(t){e.on("ready",t.bind(0,e))})),!0),e.on("mounted",gn)}function vn(e){if(ln)throw new Error("brew() can only be called once");un=new mn,b(gt,(function(e,t){var n=t&&h(un[Z("use-"+e)]);n&&n.call(un,t)})),R(e)(un),v(window,{app:un}),ln=!0,kn(fn,{loading:"initial"}),Zt(oe([rt.ready,hn(sn(un).init)],(function(){cn=!0,tn(fn),un.emit("ready")})),fn)}function bn(e,t){R(t),L(mn,S(Z("use-"+e),(function(n){var r=sn(this);r.options[e]=v(r.options[e]||{},n),t(this,r.options[e])})))}L(mn,{emit:function(e,t,n,r){return f(t,Node)||(r=n,n=t,t=this.element),rt.emit(e,t,n,r)},define:function(e){V(this,e)},beforeInit:function(e){h(e)&&(e=e.call(this)),sn(this).init.push(e)},detect:function(e,t){var n=this,r={};b(e,(function(e,t){pn[t]&&(r[t]=h(pn[t])?pn[t]=oe(pn[t]()).catch((function(e){return console.warn("Detection for "+t+" has thrown exception:",e),!1})):pn[t])})),this.beforeInit(oe(r,(function(e){return e=Object.freeze(v({},n.supports,e)),V(n,{supports:e}),h(t)&&t(e)})))},when:function(e,t){this.beforeInit(oe(e,(function(e){if(e)return t()})))},on:function(e,t,n,r){r=!0===(r||n),h(t)&&(n=t,t=e,e=fn);var o=t;if("string"==typeof t)r&&(n=dn(n)),t.indexOf(" ")>=0?(o={},b(t,(function(e,t){o[t]=n}))):o=S(t,n);else if(r)for(var i in t)t[i]=dn(t[i]);var a=[];return"string"==typeof e?(!function(e,t,n){Ft.push({target:e,handlers:t,unbindHandlers:n})}(e,o,a),e=me(e).get()):e instanceof Node&&(e=[e]),b(e,(function(e,t){a.push(rt.on(t,o))})),I(a)},matchPath:function(e,t,n){h(t)&&(n=t,t=null),this.on("mounted",(function(r){var o=r.target.getAttribute("match-path");o&&Tt(e,o)&&(!t||me(r.target).is(t))&&n.call(r.target,r.target)}))},matchElement:function(e,t){Dt.push({selector:e,handler:t})},matchRoute:Tt,beforeUpdate:function(e){Lt.push(R(e))},beforePageEnter:function(e,t){h(e)&&(t=e,e="/*"),St.push({route:It(e),callback:R(t)})}}),Q(mn.prototype);u.TraversableNode,u.TraversableNodeTree,u.InheritedNode;var yn=u.InheritedNodeTree,wn=(u.TreeWalker,rt.root),xn={var:!0,"auto-var":!0,"error-scope":{error:null}},On=new yn(wn,(function(){var e=this,t=e.element;b(t.dataset,(function(t,n){D(e,t,dt.eval("`"+X(n||"null")))})),b(Sn(t,!0,e),(function(t,n){D(e,t,n)})),t===wn&&(e.loading=null,e.error=null)}),{selector:We(xn)});function Sn(e,t,n){var r={};return b(xn,(function(o,i){if(e.attributes[o]){if(!0===i&&(i=Cn(e,o,!1,n),!g(i)))return;for(var a in i)r[a]=void 0===i[a]||t?null:i[a]}})),r}function An(e,t){t=t||wn;for(var n=On.getNode(t);null!==n;n=Object.getPrototypeOf(n))if(U(n,e))return n;return console.warn("Undeclared state: %s",e,{element:t}),On.setNode(t)}function Pn(e,t){return An(e,t).element}function kn(e,t,n){var r=t&&(g(t)||S(t,n)),o=!1;if("string"==typeof e)en((function(){me(e).each((function(e,t){o|=kn(t,r)}))}));else{var i=On.setNode(e);b(r||Cn(e,"set-var"),(function(t,n){if(i[t]!==n){var r=An(t,e);r[t]=n,o=!0,Xt(r.element)}})),o&&cn&&M(Yt)}return!!o}function Tn(e,t,n){var r=g(t)||S(t,n),o=On.setNode(e),i={};for(var a in r)h(r[a])?F(o,a,r[a],l):(D(o,a,o[a]),i[a]=r[a]);return kn(e,i)}function jn(e,t){en((function(){b(On.descendants(e),(function(e,n){kn(n.element,Sn(n.element,t))}))}))}function In(e,t){var n=function(e){for(var t in e.dataset)return!0}(e)?On.setNode(e):On.getNode(e)||{};if(!0!==t)return t?n[t]:v({},n);if(n.element!==e)return{};var r=Object.getOwnPropertyNames(n);return r.splice(r.indexOf("element"),1),A(n,r)}function En(e,t,n,r,o){var i={globals:{app:un}};return o?ee(dt(e,v({},t),i)):dt.eval(e,v({},t),i)}function Cn(e,t,n,r){var o=e.getAttribute(t);return o?En(o,r||In(e),0,0,n):n?"":null}On.on("update",(function(e){b(e.updatedNodes,(function(e,t){Xt(t.element)}))}));var Nn=new Map,Mn=new Map,Rn={};function qn(e,t){Rn[e]=R(t)}function $n(e,t){var n=me(e||"[is-flyout].open").get();return oe(n.map((function(e){var n=Nn.get(e);return n&&(Nn.delete(e),n.resolve(t),n.source&&Re(n.source,"target-opened",!1)),ie(e.attributes["animate-out"]?ft(e,"open"):xe(e,"closing")).then((function(){Re(e,{open:!1,closing:!1})}))})))}function Un(e,t,n,r){var o=n||rt.root,i=e?je(e,o):me(o).closest("[is-flyout]")[0];if(!i)return ne();var a,u=Nn.get(i);if(u)return r?$n(i,n&&dt.eval("`"+n.value)):u.path=un.path,u.promise;var c=new ve((function(e){a=e}));return Nn.set(i,{source:n,promise:c,resolve:a,path:un.path}),n&&Re(n,"target-opened",!0),t&&kn(i,t),xe(i,"open",(function(){rt.focus(i)})),st(i,"open"),i.attributes["is-modal"]&&rt.lock(i,c),c}qn("validate",(function(e){var t=je(this.getAttribute("validate")||"",e.target);if(t){var n=rt.emit("validate",t)||!t.checkValidity||t.checkValidity();if(n){if(d(n))return n.then((function(e){if(!e)throw"validation-failed"}))}else e.stopImmediatePropagation(),e.preventDefault()}})),qn("context-method",(function(e){var t=e.currentTarget,n=Z(t.getAttribute("context-method")||"");if(h(un[n])){var r,o=t.getAttribute("context-form"),i=o?je(o,t):t.form,a=!0;return i?(a=rt.emit("validate",i)||i.checkValidity(),r=[_e(i)]):r=m(Cn(t,"method-args")),oe(a,(function(e){if(!e)throw"validation-failed";return un[n].apply(un,r)}))}})),rt.ready.then((function(){un.on("mounted",(function(e){me(Te(We(Rn),e.target)).attr("async-action","")})),un.on("navigate",(function(){setTimeout((function(){Nn.forEach((function(e,t){e.path!==un.path&&$n(t)}))}))})),me("body").on("click","[disabled], .disabled, :disabled",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),me("body").on("click","[async-action]",(function(e){var t=e.currentTarget,n=k(Mn,t,Array),r=null;if(b(Rn,(function(e,o){if(t.attributes[e]&&n.indexOf(o)<0)return r=o,!1})),r){n.push(r);var o=r.call(t,e);d(o)&&!e.isImmediatePropagationStopped()&&(e.stopImmediatePropagation(),e.preventDefault(),Zt(o).then((function(){Ne(e)}),(function(e){Mn.delete(t),console.warn("Action threw an error:",e)})))}else Mn.delete(t)})),me("body").on("click","a[href]:not([rel]), [data-href]",(function(e){var t=e.currentTarget,n=t.getAttribute("data-href")||t.getAttribute("href");if(e.preventDefault(),e.stopPropagation(),"_blank"===t.getAttribute("target"))window.open(n,K());else if("navigate"in un){var r=me(t).closest("[is-modal]")[0];r?(Un(r).then((function(){un.navigate(n)})),$n(r)):(un.navigate(n),$n())}else location.href=n})),me("body").on("click","[set-var]:not([match-path])",(function(e){var t=e.currentTarget;t===me(e.target).closest("[set-var]")[0]&&(kn(t),$n())})),me("body").on("click","[toggle]",(function(e){var t=e.currentTarget;e.stopPropagation(),t.attributes["toggle-if"]&&!Cn(t,"toggle-if")||Un(t.getAttribute("toggle"),null,t,!0)})),me("body").on("click","[toggle-class]",(function(e){var t=e.currentTarget;if(e.stopPropagation(),!t.attributes["toggle-if"]||Cn(t,"toggle-if")){var n=t.getAttribute("toggle-class-for"),r=n?je(n,t):e.currentTarget;b(t.getAttribute("toggle-class"),(function(e,t){Re(r,t.slice(1),"+"===t[0])}))}})),me("body").on("click",(function(){me("[is-flyout].open").each((function(e,t){rt.focused(t)||$n(t)}))}))})),rt.ready.then((function(){me("[brew-template]").each((function(e,t){rn(t.getAttribute("brew-template")||"",t.cloneNode(!0))})),me("apply-attributes").each((function(e,t){var n=me(t.getAttribute("elements")||"",t.parentNode||rt.root);b(t.attributes,(function(e,t){"elements"!==t.name&&n.each((function(e,n){n.setAttribute(t.name,t.value)}))}))})).remove(),me("[style]").each((function(e,t){var n=we(t.style.backgroundImage);n&&(t.setAttribute("data-bg-src",decodeURIComponent(pe(de(n)))),t.style.backgroundImage="none")})),window.onbeforeunload=function(e){nn(!0)&&(e.returnValue="",e.preventDefault())}}));function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(n),!0).forEach((function(t){Dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}V(vn,Ln(Ln(Ln(Ln(Ln({defaults:gt},o),r),i),a),{},{getVar:In,setVar:kn,declareVar:Tn,evalAttr:Cn,isElementActive:kt,handleAsync:Zt,preventLeave:nn,install:bn,addDetect:function(e,t){pn[e]=R(t)},addTemplate:rn}));var Fn=vn;bn("config",(function(e,t){var n=Q();V(e,{config:n}),e.beforeInit(Ze(t.path).catch(h(t.fallback)||null).then((function(e){v(n,e),t.freeze&&B(n)})))}));gt.formVar=!0,bn("formVar",(function(e){e.matchElement("form[form-var]",(function(t){var n=t.getAttribute("form-var"),r={},o=function(e){if(e&&(r=_e(t)),n){var o=In(t,n)||{};j(r,A(o,q(r)))||kn(t,n,v({},o,r))}else kn(t,r)};rt.watchAttributes(t,"value",(function(){M(o)})),rt.watchElements(t,":input",(function(e){b(e,(function(e,n){var r=rt.afterDetached(n,t);Ce(r,n,"change input",(function(){M(o)})),r.then(o.bind(null,!0))})),o(!0)}),!0),e.on(t,"reset",(function(){return n?kt(Pn(n,t))||t.reset():b(t.elements,(function(e,n){kt(Pn(n.name,t))||(n.value=null)})),!0}))})),e.on("pageenter",(function(e){me(Te("form[form-var]",e.target)).each((function(e,t){me(":input:eq(0)",t).trigger("change")}))}))}));function zn(e,t){var n=navigator.languages?[].slice.apply(navigator.languages):[navigator.language||""];return b(n,(function(e,t){if(t.indexOf("-")>0){var r=t.split("-")[0];if(n.indexOf(r)<0)for(var o=n.length-1;o>=0;o--)n[o].split("-")[0]===r&&n.splice(o+1,0,r)}})),e=e||n,x(n,(function(t){return e.indexOf(t)>=0}))||t||e[0]}bn("i18n",(function(e,t){var n=e.route&&t.routeParam,r=t.cookie&&Ge(t.cookie,864e5),o=n&&e.route[n]||r&&r.get()||zn(t.languages,t.defaultLanguage),i=function(i){t.languages.indexOf(i)<0&&(i=o),e.language=i,r&&r.set(i),n&&(e.route[n]=i),o!==i&&(o=i,t.reloadOnChange&&location.reload())};e.define({language:o,setLanguage:i,detectLanguage:zn}),e.watch("language",i),n&&(e.route.watch(n,i),e.on("ready",(function(){e.route[n]=o})))}));bn("login",(function(e,t){var n=Ge((t=v({loginPagePath:"",defaultRedirectPath:"",cookie:"",expiry:0,logout:null,login:null,tokenLogin:null,getTokenFromResponse:null},t)).cookie,t.expiry),r=_(e,"loggedIn",!1,!0);function o(o){r(!0),h(t.getTokenFromResponse)&&n.set(t.getTokenFromResponse(o)),e.emit("login",{data:o})}var i=e.initialPath,a=n.get();a&&h(t.tokenLogin)&&e.beforeInit(ie(oe(t.tokenLogin(a),o))),e.define({login:function(n,a,u){return u=h(u||a),a="string"==typeof a&&a,oe(t.login(n)).then((function(e){return o(e),u&&u()}),(function(e){throw r(!1),e.status>=500?"server-error":"incorrect-cred"})).then((function(){i===e.resolvePath(t.loginPagePath)&&(i=""),e.navigate(a||i||t.defaultRedirectPath),i=""}))},logout:function(o,i){return e.loggedIn?(i=h(i||o),o="string"==typeof o&&o,te(nn()).then((function(){return t.logout()})).then((function(){return r(!1),n.delete(),e.emit("logout"),i&&i()})).then((function(){e.navigate(o||t.loginPagePath)}))):te()}}),e.on("navigate",(function(n){var r=e.resolvePath(t.loginPagePath);s(e.loggedIn,n.pathname!==r)&&(e.loggedIn?e.navigate(t.defaultRedirectPath):(i=n.pathname,e.navigate(r)))}))}));var Wn="background-image".split(" ");gt.preloadImage=!0,bn("preloadImage",(function(e){e.beforeUpdate((function(e){var t={};return b(e,(function(e,n){(n.src||n.style)&&kt(e)&&(n.src&&(t[he(n.src)]=!0),n.style&&b(Wn,(function(e,r){var o=we(n.style[r]);o&&(t[he(o)]=!0)})))})),et(q(t),200)})),e.beforePageEnter((function(e){return et(e,1e3)}))}));bn("scrollable",(function(e,t){t=v({bounce:!1},t);var n=window.DOMMatrix||window.WebKitCSSMatrix||window.MSCSSMatrix,r=E(),o=0;function i(e){return r(e)||r(e,{childClass:"scrollable-target-"+ ++o})}function a(){me("[scrollable]:visible").scrollable("refresh")}function u(){me('[animate-on~="scroll-into-view"]:visible').each((function(e,t){var r=new n(getComputedStyle(t).transform),o=$e(rt.root),i=$e(t),a=Ue(o,i.translate(-r.e||0,0))||Ue(o,i.translate(0,-r.f||0));a^Me(t,"tweening-in")&&(a||t.attributes["animate-out"])&&(a?st:ft)(t,"scroll-into-view")}))}e.on("ready",(function(){rt.watchElements(rt.root,We(["scrollable","scrollable-target"]),(function(n){me(n).filter("[scrollable-target]").each((function(e,t){var n=me(t).closest("[scrollable]")[0];me(t).addClass(i(n).childClass)})),me(n).filter("[scrollable]").each((function(n,r){!function(n){var r,o,a=n.getAttribute("scrollable"),u=n.getAttribute("scroller-snap-page")||"",c=n.getAttribute("scroller-state")||"",l=n.getAttribute("scroller-page")||"",s=l&&me(l,n).get(),f=!1,p=!1;function h(e){if(c){var t={};t[c]=e,kn(n,t)}}function d(e,t){t=t||"center top",!f&&Se(n)&&(f=!0,r=!0,h(e),me(n).scrollable("scrollToElement",s[e],t,t,200,(function(){f=!1,r=!1})))}function g(){("always"===u||u===e.orientation)&&Se(n)&&(f?p=!0:(p=!1,d(In(n,c))))}me(n).scrollable(v({},t,{handle:Y(a,"auto scrollbar content")||"content",hScroll:!Y(a,"y-only"),vScroll:!Y(a,"x-only"),content:"."+i(n).childClass+":visible:not(.disabled)",pageItem:l,snapToPage:"always"===u||u===e.orientation,scrollStart:function(t){e.emit("scrollStart",n,t,!0)},scrollMove:function(t){e.emit("scrollMove",n,t,!0)},scrollEnd:function(t){e.emit("scrollStop",n,t,!0)}})),l&&("always"!==u&&e.on("orientationchange",(function(){me(n).scrollable("setOptions",{snapToPage:u===e.orientation})})),c&&(e.on(n,{statechange:function(e){var t=e.data[c];f||((0|$e(s[t]).width)>(0|$e().width)?d(t,"left center"):d(t))},scrollMove:function(e){f=!0,r||h(e.pageIndex)},scrollStop:function(e){h(e.pageIndex),f=!1,p&&g()}},!0),me(window).on("resize",(function(){clearTimeout(o),o=setTimeout(g,200)}))))}(r)}))}))})),e.on("statechange orientationchange animationcomplete",(function(){C(a)})),e.on("pageenter",(function(e){var t=me(Te("[scrollable]",e.target)).add(me(e.target).parents("[scrollable]"));me(Te("[scrollable-target]",e.target)).each((function(e,t){me(t).toggleClass("disabled",!kt(t))})),t.scrollable("refresh"),t.filter(":not([keep-scroll-offset])").scrollable("scrollTo",0,0)})),e.on("resize pageenter statechange scrollMove orientationchange",(function(){C(u)}))}));u.IS_IOS,u.IS_IE10,u.IS_IE,u.IS_MAC;var _n=u.IS_TOUCH;gt.viewport=!0,bn("viewport",(function(e){var t,n,r,o=_(e,"orientation","",!0),i=_n&&"MacIntel"!==navigator.platform,a=screen.availWidth,u=screen.availHeight;function c(c){_n&&screen.availWidth===a&&screen.availHeight===u&&screen.availWidth===window.innerWidth?me("body").css("min-height",me("body").height()+"px"):me("body").css("min-height","0"),a=screen.availWidth,u=screen.availHeight;var l=me("body").height()||0;(me("html").height()||0)<l&&me(rt.activeElement).is(":text")&&qe(rt.activeElement);var f=t;n=i?a:document.body.offsetWidth,r=i?a===window.innerWidth?u:window.innerHeight:document.body.offsetHeight,o((t=n/r)>=1?"landscape":"portrait"),!1!==c&&(e.emit("resize",{aspectRatio:t,viewportWidth:n,viewportHeight:r}),s(t>=1,f>=1)&&e.emit("orientationchange",{orientation:e.orientation}))}V(e,{get aspectRatio(){return t},get viewportWidth(){return n},get viewportHeight(){return r}}),e.on("orientationchange",(function(){st(rt.root,"orientationchange")})),me(window).on("resize",(function(){C(c)})),me((function(){c(!1)}))}));var Hn=Fn},609:function(e){"use strict";e.exports=t},172:function(e){"use strict";if(void 0===n){var t=new Error("Cannot find module 'jq-scrollable'");throw t.code="MODULE_NOT_FOUND",t}e.exports=n},804:function(e){"use strict";e.exports=r},160:function(e){"use strict";e.exports=o},163:function(t){"use strict";t.exports=e}},a={};function u(e){if(a[e])return a[e].exports;var t=a[e]={exports:{}};return i[e](t,t.exports,u),t.exports}return u.d=function(e,t){for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u(344)}().default}));
//# sourceMappingURL=brew.min.js.map