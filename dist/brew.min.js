!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("zeta-dom"),require("jQuery"),require("promise-polyfill"),require("waterpipe"),require("historyjs")):"function"==typeof define&&define.amd?define("brew",["zeta-dom","jQuery","promise-polyfill","waterpipe","historyjs"],t):"object"==typeof exports?exports.brew=t(require("zeta-dom"),require("jQuery"),require("promise-polyfill"),require("waterpipe"),require("historyjs")):e.brew=t(e.zeta,e.jQuery,e["promise-polyfill"],e.waterpipe,e.History)}(self,(function(e,t,n,r,o){return function(){var i={31:function(e,t,n){var r=window.History;r&&r.Adapter||(window.jQuery=n(609),n(229),r=window.History),e.exports=r},860:function(e,t,n){var r=window.jQuery||n(609);e.exports=r},424:function(e,t,n){var r=window.Promise||n(804).default;e.exports=r},256:function(e,t,n){var r=window.waterpipe||n(160);e.exports=r;var o=r;o.pipes["{"]=function(e,t){var n=t.globals,r=n.new,o={};for(n.new=o;t.hasArgs();){var i=t.raw();if("}"===i)break;o[String(i).replace(/:$/,"")]=t.next()}return n.new=r,o},o.pipes["{"].varargs=!0},344:function(e,t,n){"use strict";n.d(t,{default:function(){return Mn}});var r={};n.r(r),n.d(r,{baseUrl:function(){return re},combinePath:function(){return ie},isSubPathOf:function(){return se},normalizePath:function(){return ae},setBaseUrl:function(){return oe},toAbsoluteUrl:function(){return ue},toRelativeUrl:function(){return le},withBaseUrl:function(){return ce}});var o={};n.r(o),n.d(o,{addStyleSheet:function(){return _e},api:function(){return Fe},cookie:function(){return ze},copyAttr:function(){return $e},deleteCookie:function(){return De},getAttrValues:function(){return Me},getCookie:function(){return Ue},getFormValues:function(){return qe},getJSON:function(){return We},getQueryParam:function(){return Ve},loadScript:function(){return He},preloadImages:function(){return Qe},setAttr:function(){return Re},setCookie:function(){return Le}});var i={};n.r(i),n.d(i,{addAnimateIn:function(){return ot},addAnimateOut:function(){return it},animateIn:function(){return nt},animateOut:function(){return rt}});var a={};n.r(a),n.d(a,{addAsyncAction:function(){return An},closeFlyout:function(){return On},openFlyout:function(){return Pn}});var c=n(163),u=c.util,l=u.noop,s=u.either,f=u.is,d=(u.isUndefinedOrNull,u.isArray),g=u.isFunction,p=u.isThenable,h=u.isPlainObject,m=(u.isArrayLike,u.makeArray),v=u.extend,b=u.each,y=u.map,w=u.grep,S=(u.splice,u.any),x=(u.single,u.kv),A=u.pick,O=u.exclude,P=u.mapGet,k=u.mapRemove,T=(u.setAdd,u.equal),I=u.createPrivateStore,j=u.setTimeoutOnce,C=u.setImmediate,E=u.setImmediateOnce,N=u.throwNotFunction,M=u.keys,R=u.values,$=u.hasOwnProperty,q=(u.getOwnPropertyDescriptors,u.define),V=u.definePrototype,U=u.defineOwnProperty,L=u.defineGetterProperty,D=u.defineHiddenProperty,z=u.defineAliasProperty,F=u.defineObservableProperty,W=u.watch,H=u.watchOnce,_=u.watchable,Q=(u.inherit,u.deepFreeze),J=u.iequal,B=(u.randomId,u.repeat,u.camel),G=(u.hyphenate,u.ucfirst,u.lcfirst,u.trim,u.matchWord),K=u.htmlDecode,Z=u.resolve,X=u.reject,Y=(u.always,u.resolveAll),ee=u.catchAsync,te=u.setPromiseTimeout,ne={http:80,https:443},re="";function oe(e){re=e}function ie(e,t){return e=ae(e),t=ae(t),"/"===e?t:"/"===t?e:e+t}function ae(e,t){if(null==e)return"/";if(/:\/\/|\?|#/.test(e)){var n=document.createElement("a");return n.href=e,(n.origin||n.protocol+"//"+n.hostname+(n.port&&+n.port!==ne[n.protocol.slice(0,-1)]?":"+n.port:""))+ae(n.pathname,t)+n.search+n.hash}if(e=String(e).replace(/\/+(\/|$)/,"$1"),t&&e.indexOf("./")>=0){for(var r=e.split("/"),o=1;o<r.length;)"."===r[o]?r.splice(o,1):".."===r[o]?r.splice(--o,2):o++;e=r.join("/")}return"/"===e[0]?e:"/"+e}function ce(e){return e=ae(e),re&&"/"===e[0]&&!se(e,re)?ae(re+e):e}function ue(e){return e.indexOf("://")>0?e:location.origin+ce(e)}function le(e){return e.substr(0,location.origin.length)===location.origin?e.substr(location.origin.length):e}function se(e,t){return e.substr(0,t.length)===t&&(e.length===t.length||"/"===e[t.length])}var fe=n(860),de=n(424),ge=c.css,pe=ge.parseCSS,he=ge.isCssUrlValue,me=ge.runCSSTransition,ve=c.util,be=(ve.domReady,ve.tagName,ve.is,ve.isVisible),ye=ve.matchSelector,we=(ve.comparePosition,ve.connected,ve.containsOrEquals),Se=(ve.acceptNode,ve.combineNodeFilters,ve.iterateNode),xe=(ve.iterateNodeToArray,ve.getCommonAncestor,ve.parentsAndSelf,ve.selectIncludeSelf),Ae=ve.selectClosestRelative,Oe=ve.createNodeIterator,Pe=(ve.createTreeWalker,ve.bind,ve.bindUntil),ke=ve.dispatchDOMMouseEvent,Te=(ve.removeNode,ve.getClass,ve.setClass),Ie=(ve.getScrollOffset,ve.getScrollParent,ve.getContentRect,ve.scrollBy,ve.scrollIntoView),je=(ve.createRange,ve.rangeIntersects,ve.rangeEquals,ve.rangeCovers,ve.compareRangePosition,ve.makeSelection,ve.getRect),Ce=(ve.getRects,ve.toPlainRect,ve.rectEquals,ve.rectCovers,ve.rectIntersects),Ee=(ve.pointInRect,ve.mergeRect,ve.elementFromPoint,{}),Ne={};function Me(e){var t={};return b(e.attributes,(function(e,n){t[n.name]=n.value})),t}function Re(e,t,n){b(h(t)||x(t,n),(function(t,n){e.setAttribute(t,n)}))}function $e(e,t){b(e.attributes,(function(e,n){t.setAttribute(n.name,n.value)}))}function qe(e){var t={};return b(e.elements,(function(n,r){if(r.name&&!(r.name in t)){var o=e.elements[r.name];L(t,r.name,(function(){return"checkbox"===o.type?o.checked:o.value}))}})),t}function Ve(e){return new RegExp("[?&]"+e+"=([^&]+)","i").test(location.search)&&decodeURIComponent(RegExp.$1)}function Ue(e){return new RegExp("(?:^|\\s|;)"+e+"=([^;]+)").test(document.cookie)&&RegExp.$1}function Le(e,t,n){return document.cookie=e+"="+t+";path=/"+(n?";expires="+new Date(Date.now()+n).toGMTString():""),t}function De(e){document.cookie=e+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT"}function ze(e,t){return{get:function(){return Ue(e)},set:function(n){return Le(e,n,t)},delete:function(){return De(e)}}}function Fe(e,t){var n="get post delete";if("string"==typeof e&&G(e,n))return Fe(t=v({},"string"==typeof t?{baseUrl:t}:t,{methods:e}))[e];var r={baseUrl:(e=v({},e)).baseUrl,token:e.token};return b(e.methods||n,(function(t,o){G(o,n)&&(D(r,o,(function t(n,i){if(!r.baseUrl)return H(r,"baseUrl",(function(){return t(n,i)}));var a={"Content-Type":"application/json"};return r.token&&(a.Authorization="Bearer "+r.token),fe.ajax({method:o,url:ie(r.baseUrl,n),headers:a,dataType:"json",data:JSON.stringify(i||{}),success:function(t){g(e.getTokenFromResponse)&&(r.token=e.getTokenFromResponse(t,r.token))}}).catch((function(e){if(0===e.status)throw"network-failed";var t=e.responseJSON;if(t)throw console.error(n+":",t.error||t.message),t.error||t.message;throw e.statusText}))})),z(r[o],"baseUrl",r),z(r[o],"token",r))})),r}function We(e){return fe.getJSON(ce(e))}function He(e,t){return d(e)?e.reduce((function(e,n){return e.then((function(){return He(n,t)}))}),Z()):(Ne[e]||(Ne[e]=new de((function(n,r){var o=document.createElement("script");if((t=t||{}).nomodule){if("noModule"in o)return void n();o.setAttribute("nomodule","")}t.module&&o.setAttribute("type","module"),o.addEventListener("load",(function(){n({})})),o.addEventListener("error",(function(){r()})),o.src=ce(e),document.head.appendChild(o)}))),Ne[e])}function _e(e,t){var n=document.createElement("link");n.rel="stylesheet",n.href=ce(e),t&&(n.media=t),document.head.appendChild(n)}function Qe(e,t){if(!d(e)){var n={},r=function(e){he(e)&&(n[RegExp.$1||RegExp.$2||RegExp.$3]=!0)};Se(Oe(e,1),(function(e){ye(e,"img")&&e.src&&(n[e.src]=!0),r(getComputedStyle(e).backgroundImage),r(getComputedStyle(e,"::before").backgroundImage),r(getComputedStyle(e,"::after").backgroundImage)})),e=M(n)}var o=[],i=[];return e.forEach((function(e){o.push(Ee[e]||(Ee[e]=new de((function(t){i.push(e),fe("<img>").on("load error",(function(){Ee[e]=!0,t()})).attr("src",e)}))))})),!o.length||o.every((function(e){return!0===e}))?Z():(i.length&&console.log("Preload image",{urls:i}),te(Y(R(Ee)),t,!0))}const Je=c.dom;var Be=c.dom;Be.textInputAllowed,Be.beginDrag,Be.beginPinchZoom,Be.getShortcut,Be.setShortcut,Be.focusable,Be.focused,Be.setModal,Be.retainFocus,Be.releaseFocus,Be.focus;const Ge=Je;var Ke={},Ze={},Xe=new Map,Ye=0;function et(e,t,n,r){if(!n.length)return Z();var o,i,a,c=++Ye;n=n.map((function(e){return e instanceof de?ee(e):new de((function(t){e.then(t,t)}))})),ee(Y(n,(function(){clearTimeout(o),a(),Xe.delete(e),console.log("Animation #%i completed",c)}))),n.push(new de((function(e,t){a=e,i=t}))),o=setTimeout((function(){i("Animation #"+c+" timed out"),console.log("Animation #%i might take longer than expected",c,n),Xe.delete(e)}),1500);var u=ee(Y(n));return console.log("Animation #%i triggered on %s",c,r,{elements:t}),Xe.set(e,u),u}function tt(e,t,n,r){var o=[me(e,t),Ge.emit(n,e)],i=parseFloat(fe(e).css("transition-delay"));return b(r,(function(t,n){if(e.attributes[t]){var r=e.getAttribute(t);o.push(new de((function(t,o){setTimeout((function(){Y(n(e,r)).then(t,o)}),1e3*i)})))}})),Y(o,(function(){return e}))}function nt(e,t,n,r){if(Xe.has(e))return Xe.get(e).then((function(){return nt(e,t,n,r)}));r=r||function(){return!0},Ge.emit("animationstart",e,{animationType:"in",animationTrigger:t},!0);var o=n?fe(n,e):fe(),i="show"===t?':not([animate-on]), [animate-on~="'+t+'"]':'[animate-on~="'+t+'"]',a=[],c=[];return fe(xe("[animate-in]",e)).filter(i).each((function(e,t){!o.find(t)[0]&&r(t)&&be(t)&&(a.push(t),c.push(tt(t,"tweening-in","animatein",Ke)))})),fe(xe("[animate-sequence]",e)).filter(i).each((function(e,t){if(!o.find(t)[0]&&r(t)&&be(t)){var n=t.getAttribute("animate-sequence")||"",i=t.getAttribute("animate-sequence-type")||"",u=fe(t).find(">"===n[0]?n:fe(n));void 0!==fe(t).attr("animate-sequence-reverse")&&[].reverse.apply(u),u.css("transition-duration","0s"),u.attr("animate-in",i).attr("is-animate-sequence",""),u.each((function(e,t){"inline"===fe(t).css("display")&&fe(t).css("display","inline-block"),a.push(t),c.push(new de((function(n,r){setTimeout((function(){fe(t).css("transition-duration",""),tt(t,"tweening-in","animatein",Ke).then(n,r)}),50*e)})))})),t.attributes["animate-in"]||fe(t).attr("animate-in","").addClass("tweening-in")}})),et(e,a,c,t).then((function(){Ge.emit("animationcomplete",e,{animationType:"in",animationTrigger:t},!0)}))}function rt(e,t,n,r,o){r=r||function(){return!0},Ge.emit("animationstart",e,{animationType:"out",animationTrigger:t},!0);var i=n?fe(n,e):fe(),a="show"===t?':not([animate-on]), [animate-on~="'+t+'"]':'[animate-on~="'+t+'"]',c=[],u=[];return fe((o?fe:xe)("[animate-out]",e)).filter(a).each((function(e,t){!i.find(t)[0]&&r(t)&&(c.push(t),u.push(tt(t,"tweening-out","animateout",Ze)))})),et(e,c,u,t).then((function(){var n=fe((o?fe:xe)("[animate-out], .tweening-in, .tweening-out",e));"show"!==t&&(n=n.filter(a)),(n=n.filter((function(e,t){return r(t)}))).removeClass("tweening-in tweening-out"),n.find("[is-animate-sequence]").removeAttr("animate-in").removeClass("tweening-in tweening-out"),Ge.emit("animationcomplete",e,{animationType:"out",animationTrigger:t},!0)}))}function ot(e,t){Ke[e]=N(t)}function it(e,t){Ze[e]=N(t)}var at=n(256);const ct={};var ut=n(31);function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e,t){return"["+e+"] "+(t=m(t).map((function(e){return f(e,Element)?(n=e).tagName.toLowerCase()+(n.id?"#"+n.id:n.className.trim()&&n.className.replace(/^\s*|\s+(?=\S)/g,"."))+":":e&&"object"===lt(e)?(t=JSON.stringify(e),'[{"]'.indexOf(t[0])>=0&&t.length>200?t[0]+t.substr(1,199)+"…"+t[t.length-1]:t):e;var t,n})).join(" "))}function ft(e,t,n){var r;try{console.groupCollapsed(st(e,t)),r=!0}catch(e){}try{n(console)}finally{if(r)try{console.groupEnd()}catch(e){}}}var dt,gt=I(),pt=new Map,ht=[],mt=[Ge.root];function vt(e,t){var n=fe(e).closest("[match-path]")[0];return!n||(t||mt).indexOf(n)>=0}function bt(e,t,n){return e=e||[],delete(n=v({},n)).remainingSegments,{minPath:ae(t.slice(0,e.minLength).join("/")),maxPath:ae(t.slice(0,e.length).join("/")),route:e,params:n}}function yt(e,t,n){var r=this,o=gt(r,{});o.routes=t.map((function(e){var t,n=[];return String(e).replace(/\/(\*|[^{][^\/]*|\{([a.-z_$][a-z0-9_$]*)(\?)?(?::(?![*+?])((?:(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])([*+?]|\{\d+(?:,\d+)\})?)+))?\})(?=\/|$)/gi,(function(e,o,i,a,c){a&&!t&&(t=n.length),n.push(i?{name:i,pattern:c?new RegExp("^"+c+"$","i"):/./}:o.toLowerCase()),r[i||"remainingSegments"]=null})),D(n,"value",e),D(n,"exact",!("*"===n[n.length-1]&&n.splice(-1))),D(n,"minLength",t||n.length),D(n,"names",y(n,(function(e){return e.name}))),n})),Object.preventExtensions(r),v(r,r.parse(n)),o.current=o.lastMatch,o.handleChanges=W(r,!0),Object.getOwnPropertyNames(r).forEach((function(e){F(r,e)})),W(r,(function(){var t=O(r,["remainingSegments"]),n=!1,i=!T(t,o.current.params);if(i&&o.lastMatch&&(o.current=o.lastMatch,i=!T(t,o.current.params)),i){var a,c,u=[],l=S(o.routes,(function(e){for(u.length=0,a=0,c=e.length;a<c;a++){var t=e[a].name;if(t&&a<e.minLength&&!e[a].pattern.test(r[t]||""))return!1;u[a]=t?r[t]:e[a]}for(a in r)"remainingSegments"!==a&&r[a]&&e.names.indexOf(a)<0&&(r[a]=null,n=!0);return!0}));o.current=bt(l,u,r)}(o.current.route||"").exact&&"/"!==r.remainingSegments?r.remainingSegments="/":n||e.navigate(r.toString())}))}V(yt,{parse:function(e){var t=gt(this),n=ae(e).slice(1).split("/"),r={},o=S(t.routes,(function(e){if(r={},n.length<e.minLength)return!1;for(var t=0,o=e.length;t<o;t++){var i=e[t].name;if(n[t]&&!(i?e[t].pattern.test(n[t]):J(n[t],e[t])))return!1;i&&(r[i]=n[t])}return r.remainingSegments=e.exact?"/":ae(n.slice(e.length).join("/")),!0}));for(var i in this)r[i]=r[i]||null;return t.lastMatch=bt(o,n,r),r},set:function(e){var t=this;if("string"==typeof e){if(J(e,t.toString()))return;e=t.parse(e)}gt(t).handleChanges((function(){v(t,e)}))},toString:function(){return ie(gt(this).current.maxPath||"/",this.remainingSegments)}}),_(yt.prototype),on("router",(function(e,t){!function(e,t){var n,r,o=e.path||t.initialPath||t.queryParam&&Ve(t.queryParam)||location.pathname.substr(t.baseUrl.length)||"/",i=new yt(e,t.routes,o),a="",c={},u={},l=0;function s(t,n){return t=decodeURI(t),n=n||e.path,"~"===t[0]?t=ie((J(n,i.toString())?gt(i).current:i.parse(n)&&gt(i).lastMatch).minPath,t.slice(1)):"/"!==t[0]&&(t=ie(n,t)),(t=ae(t,!0)).indexOf("{")<0?t:t.replace(/\{([^}]+)\}/g,(function(e,t){return i[t]||e}))}function f(t,n){t=ce(s(t)),ut[n?"replaceState":"pushState"]({},document.title,t),e.path="/"===re?t:t.substr(re.length)||"/"}function d(t,n,r){if(a===t){var o=new Map,i=Ge.eventSource,c=mt.slice(0);mt=r,dt=fe(r).filter("[page-title]")[0],u={};var s=dt?yn(dt,"page-title",!0):document.title;location.pathname.substr(re.length)!==t&&ut[l?"pushState":"replaceState"]({},s,ce(t)),l++,document.title=s,zt(!0,(function(){ft(i,["pageenter",t],(function(){pt.forEach((function(r){var a=mt.indexOf(r)>=0;a===c.indexOf(r)<0&&(a?(mn(r,!1),pn(r),setTimeout((function(){var n=o.get(fe(r).parents("[match-path]")[0]),i=ht.map((function(e){return e(r,t)}));i.push(n),o.set(r,Y(i,(function(){mt.indexOf(r)>=0&&(Te(r,"hidden",!1),nt(r,"show","[match-path]"),e.emit("pageenter",r,{pathname:t},!0))})))}))):(e.emit("pageleave",r,{pathname:n},!0),rt(r,"show","[match-path]").then((function(){mt.indexOf(r)<0&&ft(i,["pageleave",n],(function(){Te(r,"hidden",!0),mn(r,!0)}))}))))}))})),b(o,(function(e,t){Ut(t,e)}))}))}}function g(){if(r!==a)if(Ge.locked(Ge.activeElement,!0))f((n=r===n?null:a)||r,!0);else{var t=Wt(),o=r;if(t)return n=a,f(a,!0),void Z(t).then((function(){f(o,!0)}));n=null;var c,l=[Ge.root],g=a;zt(!0,(function(){pt.forEach((function(e,t){var n=s(e.getAttribute("match-path"),r);(fe('[switch=""]',e)[0]?se(r,n):r===n)&&(l.unshift(e),e.parentNode||(fe(t).replaceWith(e),Lt(e),Ft(e)))}))})),u[r]&&u[g]?d(r,g,l):(u[r]=!0,fe('[switch=""]').each((function(e,t){if(vt(t,l)){var n=fe(t).children("[match-path]");if(!n.filter((function(e,t){return l.indexOf(t)>=0}))[0])return c=(n.filter("[default]")[0]||n[0]).getAttribute("match-path"),!1}})),c?f(c,!0):(console.log("Nagivate",r),a=r,e.path=r,i.set(r),Ut(t=e.emit("navigate",{pathname:r,oldPathname:g,route:Object.freeze(v({},i))}),Ge.root,(function(){d(r,g,l)}))))}}W(c,!0),F(c,"path","",(function(e){return Bt?((r=s(e,a))!==a&&E(g),a):a})),oe(t.baseUrl||""),e.define({resolvePath:s,navigate:f,back:function(){l>1?ut.back():"/"!==e.path&&f("/")}}),U(e,"initialPath",o,!0),U(e,"route",i,!0),z(e,"path",c),e.beforeInit((function(){Ge.ready.then((function(){fe("[match-path]").addClass("hidden").each((function(e,t){var n=document.createElement("div");n.setAttribute("style","display: none !important"),n.setAttribute("match-path",t.getAttribute("match-path")||""),t.attributes.default&&n.setAttribute("default",""),fe(t).before(n),fe(t).detach(),pt.set(n,t)})),ut.Adapter.bind(window,"statechange",(function(){e.path=location.pathname.substr(re.length)||"/"}))}))})),e.on("ready",(function(){e.path=o})),e.on("mounted",(function(t){var n=fe(xe("video[autoplay], audio[autoplay]",t.target));n[0]&&(n.removeAttr("autoplay"),e.on(t.target,{pageenter:function(){n.each((function(e,t){0!==t.readyState&&(t.currentTime=0),t.play()}))},pageleave:function(){n.each((function(e,t){t.pause()}))}},!0))})),e.on("pageleave",(function(t){fe(xe("form",t.target)).each((function(t,n){e.emit("reset",n,null,!1)||n.reset()}))})),e.on("statechange",(function(e){we(e.target,dt)&&(document.title=yn(dt,"page-title",!0))}))}(e,t||{})}));var wt="background-image".split(" "),St="checked selected disabled readonly multiple ismap",xt=I(),At=Ge.root,Ot=new Set,Pt=new Map,kt=[],Tt=[],It=[],jt={},Ct={},Et={},Nt=0,Mt=!1;function Rt(e,t){var n=xt(t)||xt(t,{});return n[e]||(n[e]={})}function $t(e,t,n){b(t,(function(t,n){"$$class"===t?Te(e,n):"$$text"===t?e.textContent=n:"style"===t?fe(e).css(n):G(t,St)?e[t]=!!n:e.setAttribute(t,n)})),n||Ge.emit("domchange",e)}function qt(e,t){b(t,(function(t,n){e[t]="$$class"===t||"style"===t?v({},e[t],n):n}))}function Vt(e,t){var n,r=new Set;do{e=w(m(e),(function(e){return we(At,e)})),n=m(r),b(jt,(function(o,i){fe(xe("["+o+"]",e)).not(n).each((function(e,n){i(n,Rt.bind(0,o),t),r.add(n)}))}))}while(n.length!==r.size)}function Ut(e,t,n){if(!p(e))return Z((n||l)());if(t||"script"!==Ge.eventSource){var r=gn("loading",(t=t||Ge.activeElement)||At),o=gn("error",t||At),i=Rt("handleAsync",r);pn(r,{loading:vn(r,"loading")||!0}),pn(o,{error:null}),i.value=(i.value||0)+1,e.then((function(){pn(r,{loading:!!--i.value})}),(function(e){pn(r,{loading:!!--i.value}),pn(o,{error:""+(e.message||e)})}))}return e.then(n||null)}function Lt(e){Ot.add(e)}function Dt(e){if(!Nt&&!Mt){var t=new Map,n=new Map,r=function(e,t){qt(P(n,e,Object),t)};Mt=!0;try{ft(Ge.eventSource,"statechange",(function(){Vt(Ot,r);var e=fe.uniqueSort(w(Ot,(function(e){return we(At,e)&&Ot.delete(e)})));b(e,(function(e,n){var r=Rt("oldValues",n),o={},i={};for(b(vn(n,!0),(function(e,t){r[e]!==t&&(o[e]=r[e],i[e]=t,r[e]=t)})),t.set(n,{oldValues:o,newValues:i});n=n.parentNode;){var a=t.get(n);if(a)for(var c in a.newValues)c in i||(i[c]=a.newValues[c],o[c]=a.oldValues[c])}}));var n=[];b(e.reverse(),(function(e,o){ft("statechange",[o,t.get(o).newValues],(function(e){e.log(o===At?document:o),fe(xe("["+M(Ct).join("],[")+"]",o)).not(n).each((function(e,t){b(Ct,(function(e,n){t.attributes[e]&&n(t,Rt.bind(0,e),r)})),n.push(t)}))}))}))})),Y(kt.map((function(e){return e(n)}))).then((function(){var r=new Map;b(n,(function(n,o){if(e)Pt.has(n)?qt(Pt.get(n),o):$t(n,o);else{var i=fe(n).filter("[match-path]")[0]||fe(n).parents("[match-path]")[0]||At,a=r.get(i);if(!a){var c=function(e){var n,r=e.getAttribute("animate-on-statechange");if(!r)return!0;for(;e&&!(n=t.get(e));e=e.parentNode);return n&&S(r,(function(e){return e in n.newValues}))};a=[],C((function(){rt(i,"statechange","[match-path]",c,!0).then((function(){b(a,(function(e,t){$t(t,k(Pt,t))})),nt(i,"statechange","[match-path]",c)}))})),r.set(i,a)}qt(P(Pt,n,Object),o),a.push(n)}})),b(t,(function(e,t){Ge.emit("statechange",e,{data:vn(e),newValues:t.newValues,oldValues:t.oldValues},!0)}))}))}finally{Mt=!1}}}function zt(e,t){var n=!0;try{Nt=(Nt||0)+1,N(t||e)()}catch(e){throw n=!1,e}finally{!--Nt&&n&&Dt(!0===e)}}function Ft(e){var t=Mt;Mt=!0;try{Vt(e,(function(e,t){$t(e,t,!0)}))}finally{Mt=t}for(var n=[e],r=e===At,o=-1,i=0;o<It.length;)b(It.slice(o<0?0:o),(function(t,r){fe(xe(r.target,e)).each((function(e,t){Jt.on(t,r.handlers),r.handlers.mounted&&n.indexOf(t)<0&&n.push(t)}))})),o=It.length,b(fe.uniqueSort(n.slice(i)),(function(e,t){Ge.emit("mounted",t)})),r||(r=!0,Ge.emit("mounted",At,{target:e})),i=n.length;b(Tt,(function(t,n){fe(xe(n.selector,e)).each((function(e,t){n.handler.call(t,t)}))}))}function Wt(e){var t=S(fe("[prevent-leave]").get(),(function(e){var t=Rt("preventLeave",e),n=t.allowLeave;if(vt(e)||n){var r=yn(e,"prevent-leave");return!r&&n&&delete t.allowLeave,r&&!n}}));return t&&!e?Y(Ge.emit("preventLeave",t,null,!0),(function(e){if(!e)throw"user_rejected";Rt("preventLeave",t).allowLeave=!0})):!!t}function Ht(e,t){Et[e]=fe(t)[0]}function _t(e,t){jt[e]=N(t)}function Qt(e,t){Ct[e]=N(t)}_t("apply-template",(function(e,t){var n=t(e),r=e.getAttribute("apply-template"),o=Et[r]||Et[yn(e,"apply-template")],i=n.template;if(n.attributes||v(n,{attributes:Me(e),childNodes:m(e.childNodes)}),o&&o!==i){n.template=o,o=o.cloneNode(!0),i&&b(i.attributes,(function(t,n){e.removeAttribute(n.name)})),Re(e,n.attributes),$e(o,e);var a=fe(n.childNodes).detach();fe(xe("content:not([for])",o)).replaceWith(a),fe(xe("content[for]",o)).each((function(e,t){fe(t).replaceWith(a.filter(t.getAttribute("for")||""))})),fe(e).empty().append(o.childNodes)}})),_t("auto-var",(function(e){pn(e,yn(e,"auto-var"))})),_t("foreach",(function(e,t){var n=t(e),r=n.template||(n.template=fe(e).contents().detach().filter((function(e,t){return 1===t.nodeType||/\S/.test(t.data||"")})).get()),o=n.nodes||[],i=n.data||[],a=m(yn(e,"foreach"));if(a.length!==i.length||a.some((function(e,t){return i[t]!==e}))){var c=y(a,(function(n){var a=i.indexOf(n);if(a>=0)return i.splice(a,1),o.splice(a*r.length,(a+1)*r.length);var c=fe(r).clone().get(),u=fe("[foreach]",c);return u[0]&&fe("[foreach]",r).each((function(e,n){t(u[e]).template=t(n).template})),b(c,(function(t,r){1===r.nodeType&&(fe(e).append(r),hn(r,{foreach:n}),Ft(r))})),c}));v(n,{nodes:c,data:a.slice()}),fe(o).detach(),fe(e).append(c)}})),_t("switch",(function(e,t,n){var r=e.getAttribute("switch")||"";if(vt(e)&&r){var o=t(e);void 0===o.matched&&hn(e,"matched",(function(){return o.matched&&vn(o.matched,!0)}));var i,a,c,u=vn(e),l=at.eval(r,u),s=fe("[match-"+r+"]",e).filter((function(t,n){return fe(n).parents("[switch]")[0]===e})),f=o.matched,d=new Map;s.each((function(e,t){var n=at.eval('"null" ?? '+t.getAttribute("match-"+r),vn(t));if(d.set(t,n),at.eval("$0 == $1",[l,n]))return i=t,!1})),i=i||s.filter("[default]")[0]||s[0]||null,f!==i?ft("switch",[e,r,"→",l],(function(e){e.log("Matched: ",i||"(none)"),i&&(mn(i),pn(i)),f&&mn(f,!0),s.each((function(e,t){n(t,{$$class:{active:t===i}})}))})):(a="switch",c=[e,r,"→",l,"(unchanged)"],console.log(st(a,c)),r in u&&void 0!==d.get(i)&&pn(e,r,d.get(i))),o.matched=i}})),Qt("template",(function(e,t,n){var r=t(e),o=r.templates;o||(o={},b(e.attributes,(function(e,t){t.value.indexOf("{{")>=0&&(o[t.name]=G(t.name,St)?t.value.replace(/^{{|}}$/g,""):t.value)})),!e.childElementCount&&(e.textContent||"").indexOf("{{")>=0&&(o.$$text=e.textContent),r.templates=o);var i=vn(e),a={};b(o,(function(t,n){var r=bn(n,i,e,t,!G(t,St));("$$text"===t?e.textContent:(e.getAttribute(t)||"").replace(/["']/g,""))!==r&&(a[t]=r)})),n(e,a)})),Qt("set-style",(function(e,t,n){var r=pe(yn(e,"set-style",!0));b(wt,(function(e,t){var n=he(r[t]);n&&(r[t]='url("'+ce(n)+'")')})),n(e,{style:r})})),Qt("set-class",(function(e,t,n){n(e,{$$class:yn(e,"set-class")})}));var Jt,Bt,Gt,Kt=I(),Zt=Ge.root,Xt={};function Yt(e){return Y(e.splice(0),(function(){return e.length&&Yt(e)}))}function en(e){return function(t){if(t.target===t.context)return e.apply(this,arguments)}}function tn(e){var t=e.target;fe(xe('img[src^="/"], video[src^="/"]',t)).each((function(e,t){t.src=ce(t.getAttribute("src"))})),fe(xe('a[href^="/"]',t)).each((function(e,t){t.href=ce(t.getAttribute("href"))})),fe(xe("[data-src]",t)).each((function(e,t){t.src=ce(t.dataset.src),t.removeAttribute("data-src")})),fe(xe("[data-bg-src]",t)).each((function(e,t){t.style.backgroundImage='url("'+ce(t.dataset.bgSrc)+'")',t.removeAttribute("data-bg-src")})),fe(xe("form",t)).on("submit",(function(e){e.preventDefault()}))}function nn(){var e=this;Kt(e,{init:[],options:{}}),U(e,"element",Zt,!0),e.on("mounted",tn)}function rn(e){if(Gt)throw new Error("brew() can only be called once");Jt=new nn,b(ct,(function(e,t){var n=t&&g(Jt[B("use-"+e)]);n&&n.call(Jt,t)})),N(e)(Jt),v(window,{app:Jt}),Gt=!0,pn(Zt,{loading:"initial"}),Ut(Y([Ge.ready,Yt(Kt(Jt).init)],(function(){Bt=!0,Ft(Zt),Jt.emit("ready")})),Zt)}function on(e,t){N(t),V(nn,x(B("use-"+e),(function(n){var r=Kt(this);r.options[e]=v(r.options[e]||{},n),t(this,r.options[e])})))}V(nn,{emit:function(e,t,n,r){return f(t,Node)||(r=n,n=t,t=this.element),Ge.emit(e,t,n,r)},define:function(e){q(this,e)},beforeInit:function(e){g(e)&&(e=e.call(this)),Kt(this).init.push(e)},detect:function(e,t){var n=this,r={};b(e,(function(e,t){Xt[t]&&(r[t]=g(Xt[t])?Xt[t]=Y(Xt[t]()).catch((function(e){return console.warn("Detection for "+t+" has thrown exception:",e),!1})):Xt[t])})),this.beforeInit(Y(r,(function(e){return e=Object.freeze(v(n.supports||{},e)),q(n,{supports:e}),g(t)&&t(e)})))},when:function(e,t){this.beforeInit(Y(e,(function(e){if(e)return t()})))},on:function(e,t,n,r){r=!0===(r||n),g(t)&&(n=t,t=e,e=Zt);var o=t;if("string"==typeof t)r&&(n=en(n)),t.indexOf(" ")>=0?(o={},b(t,(function(e,t){o[t]=n}))):o=x(t,n);else if(r)for(var i in t)t[i]=en(t[i]);if("string"==typeof e){if(function(e,t){It.push({target:e,handlers:t})}(e,o),!Bt)return;e=fe(e).get()}else e instanceof Node&&(e=[e]);b(e,(function(e,t){Ge.on(t,o)}))},matchPath:function(e,t,n){g(t)&&(n=t,t=null),this.on("mounted",(function(r){r.target.getAttribute("match-path")!==e||t&&!fe(r.target).is(t)||n.call(r.target,r.target)}))},matchElement:function(e,t){Tt.push({selector:e,handler:t})},beforeUpdate:function(e){kt.push(N(e))},beforePageEnter:function(e){ht.push(N(e))}}),_(nn.prototype);c.TraversableNode,c.TraversableNodeTree,c.InheritedNode;var an=c.InheritedNodeTree,cn=(c.TreeWalker,/localhost:?/i.test(location.host)),un=Ge.root,ln={var:!0,"auto-var":!0,"error-scope":{error:null}},sn=new an(un,(function(){var e=this,t=e.element;b(t.dataset,(function(t,n){U(e,t,at.eval("`"+n))})),b(fn(t,!0,e),(function(t,n){U(e,t,n)})),t===un&&(e.loading=null,e.error=null)}));function fn(e,t,n){var r={};return b(ln,(function(o,i){if(e.attributes[o]){if(!0===i&&(i=yn(e,o,!1,n),!h(i)))return;for(var a in i)r[a]=void 0===i[a]||t?null:i[a]}})),r}function dn(e,t){t=t||un;for(var n=sn.getNode(t);null!==n;n=Object.getPrototypeOf(n))if($(n,e))return n;return console.warn("Undeclared state: %s",e,{element:t}),sn.setNode(t)}function gn(e,t){return dn(e,t).element}function pn(e,t,n){var r=t&&(h(t)||x(t,n)),o=!1;if("string"==typeof e)zt((function(){fe(e).each((function(e,t){o|=pn(t,r)}))}));else{var i=sn.setNode(e);b(r||yn(e,"set-var"),(function(t,n){if(i[t]!==n){var r=dn(t,e);r[t]=n,o=!0,Lt(r.element)}})),o&&Bt&&E(Dt)}return!!o}function hn(e,t,n){var r=h(t)||x(t,n),o=sn.setNode(e),i={};for(var a in r)g(r[a])?L(o,a,r[a],l):(U(o,a,o[a]),i[a]=r[a]);return pn(e,i)}function mn(e,t){zt((function(){b(sn.descendants(e),(function(e,n){pn(n.element,fn(n.element,t))}))}))}function vn(e,t){var n=function(e){for(var t in e.dataset)return!0}(e)?sn.setNode(e):sn.getNode(e)||{};if(!0!==t)return t?n[t]:v({},n);if(n.element!==e)return{};var r=Object.getOwnPropertyNames(n);return r.splice(r.indexOf("element"),1),A(n,r)}function bn(e,t,n,r,o){var i={globals:{app:Jt}},a=o?K(at(e,v({},t),i)):at.eval(e,v({},t),i);return cn&&ft("eval",[n,r,"→",a],(function(r){r.log("%c%s%c","background-color:azure;color:darkblue;font-weight:bold",e,"","→",a),r.log("Context:",v({},t)),r.log("Element:",n===un?document:n)})),a}function yn(e,t,n,r){var o=e.getAttribute(t);return o?bn(o,r||vn(e),e,t,n):n?"":null}Ge.watchAttributes(un,M(ln),(function(e){b(e,(function(e,t){sn.setNode(t)}))}),!0),sn.on("update",(function(e){b(e.updatedNodes,(function(e,t){Lt(t.element)}))}));var wn=new Map,Sn=new Map,xn={};function An(e,t){xn[e]=N(t)}function On(e,t){fe(e||"[is-flyout].open").each((function(e,n){var r=wn.get(n);r&&(wn.delete(n),r.resolve(t),r.source&&Te(r.source,"target-opened",!1)),rt(n,"show").then((function(){Te(n,"open",!1)}))}))}function Pn(e,t,n,r){var o=n||Ge.root,i=e?Ae(e,o):fe(o).closest("[is-flyout]")[0];if(!i)return X();var a,c=wn.get(i);if(c)return r?On(i,n&&at.eval("`"+n.value)):c.path=Jt.path,c.promise;var u=new de((function(e){a=e}));return wn.set(i,{source:n,promise:u,resolve:a,path:Jt.path}),n&&Te(n,"target-opened",!0),t&&pn(i,t),me(i,"open",(function(){Ge.focus(i)})),nt(i,"open"),i.attributes["is-modal"]&&Ge.lock(i,u),u}An("validate",(function(e){var t=Ae(this.getAttribute("validate")||"",e.target);if(t){var n=Ge.emit("validate",t)||!t.checkValidity||t.checkValidity();if(n){if(p(n))return n.then((function(e){if(!e)throw"validation-failed"}))}else e.stopImmediatePropagation(),e.preventDefault()}})),An("context-method",(function(e){var t=e.currentTarget,n=B(t.getAttribute("context-method")||"");if(g(Jt[n])){var r,o=t.getAttribute("context-form"),i=o?Ae(o,t):t.form,a=!0;return i?(a=Ge.emit("validate",i)||i.checkValidity(),r=[qe(i)]):r=m(yn(t,"method-args")),Y(a,(function(e){if(!e)throw"validation-failed";return Jt[n].apply(Jt,r)}))}})),Ge.ready.then((function(){Jt.on("mounted",(function(e){fe(xe("["+M(xn).join("],[")+"]",e.target)).attr("async-action","")})),Jt.on("navigate",(function(){setTimeout((function(){wn.forEach((function(e,t){e.path!==Jt.path&&On(t)}))}))})),fe("body").on("click","[disabled], .disabled, :disabled",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),fe("body").on("click","[async-action]",(function(e){var t=e.currentTarget,n=P(Sn,t,Array),r=null;if(b(xn,(function(e,o){if(t.attributes[e]&&n.indexOf(o)<0)return r=o,!1})),r){n.push(r);var o=r.call(t,e);p(o)&&!e.isImmediatePropagationStopped()&&(e.stopImmediatePropagation(),e.preventDefault(),Ut(o).then((function(){ke(e)}),(function(e){Sn.delete(t),console.warn("Action threw an error:",e)})))}else Sn.delete(t)})),fe("body").on("click","a[href]:not([rel]), [data-href]",(function(e){var t=e.currentTarget;if("_blank"!==t.target&&"navigate"in Jt){e.preventDefault(),e.stopPropagation();var n=fe(t).closest("[is-modal]")[0];n?(Pn(n).then((function(){Jt.navigate(t.getAttribute("data-href")||t.getAttribute("href"))})),On(n)):(Jt.navigate(t.getAttribute("data-href")||t.getAttribute("href")),On())}})),fe("body").on("click","[set-var]:not([match-path])",(function(e){var t=e.currentTarget;t===fe(e.target).closest("[set-var]")[0]&&(pn(t),On())})),fe("body").on("click","[toggle]",(function(e){var t=e.currentTarget;e.stopPropagation(),Pn(t.getAttribute("toggle"),null,t,!0)})),fe("body").on("click","[toggle-class]",(function(e){e.stopPropagation();var t=e.currentTarget,n=t.getAttribute("toggle-class-for"),r=n?Ae(n,t):e.currentTarget;b(t.getAttribute("toggle-class"),(function(e,t){Te(r,t.slice(1),"+"===t[0])}))})),fe("body").on("click",(function(){On()}))})),Ge.ready.then((function(){fe("[brew-template]").each((function(e,t){Ht(t.getAttribute("brew-template")||"",t.cloneNode(!0))})),fe("apply-attributes").each((function(e,t){var n=fe(t.getAttribute("elements")||"",t.parentNode||Ge.root);b(t.attributes,(function(e,t){"elements"!==t.name&&n.each((function(e,n){n.setAttribute(t.name,t.value)}))}))})).remove(),fe("[style]").each((function(e,t){var n=he(t.style.backgroundImage);n&&(t.setAttribute("data-bg-src",decodeURIComponent(ce(n))),t.style.backgroundImage="none")})),window.onbeforeunload=function(e){Wt(!0)&&(e.returnValue="",e.preventDefault())}}));function kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kn(Object(n),!0).forEach((function(t){In(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function In(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}q(rn,Tn(Tn(Tn(Tn(Tn({defaults:ct},o),r),i),a),{},{getVar:vn,setVar:pn,declareVar:hn,evalAttr:yn,isElementActive:vt,handleAsync:Ut,preventLeave:Wt,install:on,addDetect:function(e,t){Xt[e]=N(t)},addTemplate:Ht}));const jn=rn;on("config",(function(e,t){var n=_();q(e,{config:n}),e.beforeInit(We(t.path).catch(g(t.fallback)||null).then((function(e){v(n,e),t.freeze&&Q(n)})))}));ct.formVar=!0,on("formVar",(function(e){e.matchElement("form[form-var]",(function(t){var n=t.getAttribute("form-var"),r={},o=function(e){if(e&&(r=qe(t)),n){var o=vn(t,n)||{};T(r,A(o,M(r)))||pn(t,n,v({},o,r))}else pn(t,r)};Ge.watchAttributes(t,"value",(function(){E(o)})),Ge.watchElements(t,":input",(function(e){b(e,(function(e,n){var r=Ge.afterDetached(n,t);Pe(r,n,"change",(function(){E(o)})),r.then(o.bind(null,!0))})),o(!0)}),!0),e.on(t,"reset",(function(){return n?vt(gn(n,t))||t.reset():b(t.elements,(function(e,n){vt(gn(n.name,t))||(n.value=null)})),!0}))})),e.on("pageenter",(function(e){fe(xe("form[form-var]",e.target)).each((function(e,t){fe(":input:eq(0)",t).trigger("change")}))}))}));function Cn(e,t){var n=navigator.languages?[].slice.apply(navigator.languages):[navigator.language||""];return b(n,(function(e,t){if(t.indexOf("-")>0){var r=t.split("-")[0];if(n.indexOf(r)<0)for(var o=n.length-1;o>=0;o--)n[o].split("-")[0]===r&&n.splice(o+1,0,r)}})),e=e||n,S(n,(function(t){return e.indexOf(t)>=0}))||t||e[0]}on("i18n",(function(e,t){var n=e.route&&t.routeParam,r=t.cookie&&ze(t.cookie,864e5),o=n&&e.route[n]||r&&r.get()||Cn(t.languages,t.defaultLanguage),i=function(i){t.languages.indexOf(i)<0&&(i=o),e.language=i,r&&r.set(i),n&&(e.route[n]=i),o!==i&&(o=i,t.reloadOnChange&&location.reload())};e.define({language:o,setLanguage:i,detectLanguage:Cn}),e.watch("language",i),n&&(e.route.watch(n,i),e.on("ready",(function(){e.route[n]=o})))}));on("login",(function(e,t){var n=ze((t=v({loginPagePath:"",defaultRedirectPath:"",cookie:"",expiry:0,logout:null,login:null,tokenLogin:null,getTokenFromResponse:null},t)).cookie,t.expiry),r=F(e,"loggedIn",!1,!0);function o(o){r(!0),g(t.getTokenFromResponse)&&n.set(t.getTokenFromResponse(o)),e.emit("login",{data:o})}var i=e.initialPath,a=n.get();a&&g(t.tokenLogin)&&e.beforeInit(ee(Y(t.tokenLogin(a),o))),e.define({login:function(n,a,c){return c=g(c||a),a="string"==typeof a&&a,Y(t.login(n)).then((function(e){return o(e),c&&c()}),(function(e){throw r(!1),e.status>=500?"server-error":"incorrect-cred"})).then((function(){i===e.resolvePath(t.loginPagePath)&&(i=""),e.navigate(a||i||t.defaultRedirectPath),i=""}))},logout:function(o,i){return e.loggedIn?(i=g(i||o),o="string"==typeof o&&o,Z(Wt()).then((function(){return t.logout()})).then((function(){return r(!1),n.delete(),e.emit("logout"),i&&i()})).then((function(){e.navigate(o||t.loginPagePath)}))):Z()}}),e.on("navigate",(function(n){var r=e.resolvePath(t.loginPagePath);s(e.loggedIn,n.pathname!==r)&&(e.loggedIn?e.navigate(t.defaultRedirectPath):(i=n.pathname,e.navigate(r)))}))}));var En="background-image".split(" ");ct.preloadImage=!0,on("preloadImage",(function(e){e.beforeUpdate((function(e){var t={};return b(e,(function(e,n){(n.src||n.style)&&vt(e)&&(n.src&&(t[ue(n.src)]=!0),n.style&&b(En,(function(e,r){var o=he(n.style[r]);o&&(t[ue(o)]=!0)})))})),Qe(M(t),200)})),e.beforePageEnter((function(e){return Qe(e,1e3)}))}));on("scrollable",(function(e){var t=window.DOMMatrix||window.WebKitCSSMatrix||window.MSCSSMatrix,n=I(),r=0;function o(e){return n(e)||n(e,{childClass:"scrollable-target-"+ ++r})}function i(){fe("[scrollable]:visible").scrollable("refresh")}function a(){fe('[animate-on~="scroll-into-view"]:not(.tweening-in):visible').each((function(e,n){var r=new t(getComputedStyle(n).transform),o=je(Ge.root),i=je(n);(Ce(o,i.translate(-r.e||0,0))||Ce(o,i.translate(0,-r.f||0)))&&nt(n,"scroll-into-view")}))}e.on("mounted",(function(t){fe(xe("[scrollable-target]",t.target)).each((function(e,t){var n=fe(t).closest("[scrollable]")[0];fe(t).addClass(o(n).childClass)})),fe(xe("[scrollable]",t.target)).each((function(t,n){!function(t){var n,r,i=t.getAttribute("scrollable"),a=t.getAttribute("scroller-snap-page")||"",c=t.getAttribute("scroller-state")||"",u=t.getAttribute("scroller-page")||"",l=u&&fe(u,t).get(),s=!1,f=!1;function d(e){if(c){var n={};n[c]=e,pn(t,n)}}function g(e,r){r=r||"center top",!s&&be(t)&&(s=!0,n=!0,d(e),fe(t).scrollable("scrollToElement",l[e],r,r,200,(function(){s=!1,n=!1})))}function p(){("always"===a||a===e.orientation)&&be(t)&&(s?f=!0:(f=!1,g(vn(t,c))))}fe(t).scrollable({bounce:!1,handle:G(i,"auto scrollbar content")||"content",hScroll:!G(i,"y-only"),vScroll:!G(i,"x-only"),content:"."+o(t).childClass+":visible:not(.disabled)",pageItem:u,snapToPage:"always"===a||a===e.orientation,scrollbar:!1,scrollStart:function(n){e.emit("scrollStart",t,n,!0)},scrollMove:function(n){e.emit("scrollMove",t,n,!0)},scrollEnd:function(n){e.emit("scrollStop",t,n,!0)}}),u&&("always"!==a&&e.on("orientationchange",(function(){fe(t).scrollable("setOptions",{snapToPage:a===e.orientation})})),c&&(e.on(t,{statechange:function(e){var t=e.data[c];s||((0|je(l[t]).width)>(0|je().width)?g(t,"left center"):g(t))},scrollMove:function(e){s=!0,n||d(e.pageIndex)},scrollStop:function(e){d(e.pageIndex),s=!1,f&&p()}},!0),fe(window).on("resize",(function(){clearTimeout(r),r=setTimeout(p,200)}))))}(n)}))})),e.on("statechange orientationchange animationcomplete",(function(){j(i)})),e.on("pageenter",(function(e){var t=fe(xe("[scrollable]",e.target)).add(fe(e.target).parents("[scrollable]"));fe(xe("[scrollable-target]",e.target)).each((function(e,t){fe(t).toggleClass("disabled",!vt(t))})),t.scrollable("refresh"),t.filter(":not([keep-scroll-offset])").scrollable("scrollTo",0,0)})),e.on("resize pageenter statechange scrollMove orientationchange",(function(){j(a)}))}));c.IS_IOS,c.IS_IE10,c.IS_IE,c.IS_MAC;var Nn=c.IS_TOUCH;ct.viewport=!0,on("viewport",(function(e){var t,n,r,o=F(e,"orientation","",!0),i=Nn&&"MacIntel"!==navigator.platform,a=screen.availWidth,c=screen.availHeight;function u(u){Nn&&screen.availWidth===a&&screen.availHeight===c&&screen.availWidth===window.innerWidth?fe("body").css("min-height",fe("body").height()+"px"):fe("body").css("min-height","0"),a=screen.availWidth,c=screen.availHeight;var l=fe("body").height()||0;(fe("html").height()||0)<l&&fe(Ge.activeElement).is(":text")&&Ie(Ge.activeElement);var f=t;n=i?a:document.body.offsetWidth,r=i?a===window.innerWidth?c:window.innerHeight:document.body.offsetHeight,o((t=n/r)>=1?"landscape":"portrait"),!1!==u&&(e.emit("resize",{aspectRatio:t,viewportWidth:n,viewportHeight:r}),s(t>=1,f>=1)&&e.emit("orientationchange",{orientation:e.orientation}))}q(e,{get aspectRatio(){return t},get viewportWidth(){return n},get viewportHeight(){return r}}),e.on("orientationchange",(function(){nt(Ge.root,"orientationchange")})),fe(window).on("resize",(function(){j(u)})),fe((function(){u(!1)}))}));const Mn=jn},609:function(e){"use strict";e.exports=t},804:function(e){"use strict";e.exports=n},160:function(e){"use strict";e.exports=r},229:function(e){"use strict";e.exports=o},163:function(t){"use strict";t.exports=e}},a={};function c(e){if(a[e])return a[e].exports;var t=a[e]={exports:{}};return i[e](t,t.exports,c),t.exports}return c.d=function(e,t){for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c(344)}().default}));
//# sourceMappingURL=brew.min.js.map