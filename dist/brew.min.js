!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("zeta-dom"),require("jQuery"),function(){try{return require("jq-scrollable")}catch(t){}}(),require("promise-polyfill"),require("waterpipe")):"function"==typeof define&&define.amd?define("brew",["zeta-dom","jQuery","jq-scrollable","promise-polyfill","waterpipe"],e):"object"==typeof exports?exports.brew=e(require("zeta-dom"),require("jQuery"),function(){try{return require("jq-scrollable")}catch(t){}}(),require("promise-polyfill"),require("waterpipe")):t.brew=e(t.zeta,t.jQuery,t["jq-scrollable"],t["promise-polyfill"],t.waterpipe)}(self,(function(t,e,n,r,o){return function(){var a={979:function(t,e,n){"use strict";n.d(e,{default:function(){return qr}});var r={};n.r(r),n.d(r,{baseUrl:function(){return pt},combinePath:function(){return ht},isSubPathOf:function(){return yt},normalizePath:function(){return gt},setBaseUrl:function(){return dt},toAbsoluteUrl:function(){return vt},toRelativeUrl:function(){return bt},withBaseUrl:function(){return mt}});var o={};n.r(o),n.d(o,{apiError:function(){return Wt},navigationCancelled:function(){return Ht},navigationRejected:function(){return Bt},networkError:function(){return zt},resourceError:function(){return Ft},timeout:function(){return Jt},validationFailed:function(){return _t}});var a={};n.r(a),n.d(a,{addStyleSheet:function(){return le},api:function(){return ie},cookie:function(){return ae},copyAttr:function(){return Xt},deleteCookie:function(){return oe},getAttrValues:function(){return Kt},getCookie:function(){return ne},getFormValues:function(){return te},getJSON:function(){return ue},getQueryParam:function(){return ee},loadScript:function(){return ce},preloadImages:function(){return se},selectorForAttr:function(){return Yt},setAttr:function(){return Zt},setCookie:function(){return re}});var i={};n.r(i),n.d(i,{addAnimateIn:function(){return Ie},addAnimateOut:function(){return je},animateIn:function(){return Te},animateOut:function(){return Ce}});var u={};n.r(u),n.d(u,{addAsyncAction:function(){return vr},closeFlyout:function(){return br},openFlyout:function(){return yr}});var c=n(163),l=c.util,s=l.noop,f=(l.pipe,l.either),p=l.is,d=l.isUndefinedOrNull,h=l.isArray,g=l.isFunction,m=l.isThenable,v=l.isPlainObject,b=(l.isArrayLike,l.makeArray),y=l.extend,w=l.each,x=l.map,S=l.grep,A=(l.splice,l.any),P=l.single,O=l.kv,k=l.pick,T=l.exclude,C=l.mapGet,I=l.mapRemove,j=(l.arrRemove,l.setAdd,l.equal),E=l.combineFn,N=(l.executeOnce,l.createPrivateStore),M=(l.setTimeout,l.setTimeoutOnce),R=(l.setInterval,l.setIntervalSafe,l.setImmediate),L=l.setImmediateOnce,$=l.throwNotFunction,q=l.errorWithCode,U=l.keys,D=l.values,V=l.hasOwnProperty,z=(l.getOwnPropertyDescriptors,l.define),F=l.definePrototype,W=l.defineOwnProperty,_=l.defineGetterProperty,H=l.defineHiddenProperty,B=l.defineAliasProperty,J=l.defineObservableProperty,Q=l.watch,G=l.watchOnce,K=l.watchable,Z=(l.inherit,l.freeze),X=l.deepFreeze,Y=l.iequal,tt=l.randomId,et=(l.repeat,l.camel),nt=(l.hyphenate,l.ucfirst,l.lcfirst,l.trim),rt=l.matchWord,ot=l.htmlDecode,at=l.resolve,it=l.reject,ut=l.always,ct=l.resolveAll,lt=l.catchAsync,st=l.setPromiseTimeout,ft={http:80,https:443},pt="/";function dt(t){pt=gt(t,!0)}function ht(t,e){return t=gt(t),"/"===(e=gt(e))?t:"/"===t||e.indexOf("://")>0?e:t+e}function gt(t,e,n){if(!t||"/"===t)return n?"":"/";if(/(^(?:[a-z0-9]+:)?\/\/)|\?|#/.test(t)){var r=document.createElement("a");return r.href=t,(RegExp.$1&&(r.origin||r.protocol+"//"+r.hostname+(r.port&&+r.port!==ft[r.protocol.slice(0,-1)]?":"+r.port:"")))+gt(r.pathname,e,!0)+r.search+r.hash}if(t=String(t).replace(/\/+(\/|$)/g,"$1"),e&&/(^|\/)\.{1,2}(\/|$)/.test(t)){for(var o=t.split("/"),a=0;a<o.length;)"."===o[a]||".."===o[a]&&!a?o.splice(a,1):".."===o[a]?o.splice(--a,2):a++;t=o.join("/")}return"/"===t[0]?t:"/"+t}function mt(t){return t=gt(t),pt&&"/"===t[0]&&!yt(t,pt)?ht(pt,t):t}function vt(t){return t.indexOf("://")>0?t:location.origin+mt(t)}function bt(t){return t.substr(0,location.origin.length)===location.origin?t.substr(location.origin.length):t}function yt(t,e){var n=e.length;return t.substr(0,n)===e&&(!t[n]||"/"===t[n]||"/"===e[n-1])&&gt(t.slice(n))}var wt=n(860),xt=n(424),St=c.css,At=St.parseCSS,Pt=St.isCssUrlValue,Ot=St.runCSSTransition,kt=c.util,Tt=(kt.domReady,kt.tagName,kt.isVisible),Ct=kt.matchSelector,It=(kt.comparePosition,kt.connected,kt.containsOrEquals),jt=(kt.acceptNode,kt.combineNodeFilters,kt.iterateNode),Et=(kt.iterateNodeToArray,kt.getCommonAncestor,kt.parentsAndSelf,kt.selectIncludeSelf),Nt=kt.selectClosestRelative,Mt=kt.createNodeIterator,Rt=(kt.createTreeWalker,kt.bind),Lt=kt.bindUntil,$t=kt.dispatchDOMMouseEvent,qt=(kt.removeNode,kt.getClass),Ut=kt.setClass,Dt=(kt.getScrollOffset,kt.getScrollParent,kt.getContentRect,kt.scrollBy,kt.scrollIntoView,kt.makeSelection,kt.getRect),Vt=(kt.getRects,kt.toPlainRect,kt.rectEquals,kt.rectCovers,kt.rectIntersects),zt=(kt.pointInRect,kt.mergeRect,kt.elementFromPoint,"brew/network-error"),Ft="brew/resource-error",Wt="brew/api-error",_t="brew/validation-failed",Ht="brew/navigation-cancelled",Bt="brew/navigation-rejected",Jt="brew/timeout",Qt={},Gt={};function Kt(t){var e={};return w(t.attributes,(function(t,n){e[n.name]=n.value})),e}function Zt(t,e,n){w(v(e)||O(e,n),(function(e,n){t.setAttribute(e,n)}))}function Xt(t,e){w(t.attributes,(function(t,n){e.setAttribute(n.name,n.value)}))}function Yt(t){return v(t)&&(t=U(t)),"["+t.join("],[")+"]"}function te(t){var e={};return w(t.elements,(function(n,r){if(r.name&&!(r.name in e)){var o=t.elements[r.name];_(e,r.name,(function(){return"checkbox"===o.type?o.checked:o.value}))}})),e}function ee(t){return new RegExp("[?&]"+t+"=([^&]+)","i").test(location.search)&&decodeURIComponent(RegExp.$1)}function ne(t){return new RegExp("(?:^|\\s|;)"+t+"=([^;]+)").test(document.cookie)&&RegExp.$1}function re(t,e,n){return document.cookie=t+"="+e+";path=/"+(n?";expires="+new Date(Date.now()+n).toGMTString():""),e}function oe(t){document.cookie=t+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT"}function ae(t,e){return{get:function(){return ne(t)},set:function(n){return re(t,n,e)},delete:function(){return oe(t)}}}function ie(t,e){var n="get post delete";if("string"==typeof t&&rt(t,n))return ie(e=y({},"string"==typeof e?{baseUrl:e}:e,{methods:t}))[t];var r={baseUrl:(t=y({},t)).baseUrl,token:t.token};return w(t.methods||n,(function(e,o){rt(o,n)&&(H(r,o,(function e(n,a){if(!r.baseUrl)return G(r,"baseUrl",(function(){return e(n,a)}));var i={"Content-Type":"application/json"};return r.token&&(i.Authorization="Bearer "+r.token),wt.ajax({method:o,url:ht(r.baseUrl,n),headers:i,dataType:"json",data:JSON.stringify(a||{}),success:function(e){g(t.getTokenFromResponse)&&(r.token=t.getTokenFromResponse(e,r.token))}}).catch((function(t){if(0===t.status)throw q(zt);var e=t.responseJSON;if(e)throw console.error(n+":",e.error||e.message),q(Wt,e.error||e.message);throw q(Wt,t.statusText)}))})),B(r[o],"baseUrl",r),B(r[o],"token",r))})),r}function ue(t){return wt.getJSON(mt(t))}function ce(t,e){return h(t)?t.reduce((function(t,n){return t.then((function(){return ce(n,e)}))}),at()):(Gt[t]||(Gt[t]=new xt((function(n,r){var o=document.createElement("script");if((e=e||{}).nomodule){if("noModule"in o)return void n();o.setAttribute("nomodule","")}e.module&&o.setAttribute("type","module"),o.addEventListener("load",(function(){n({})})),o.addEventListener("error",(function(){r(q(Ft))})),o.src=mt(t),document.head.appendChild(o)}))),Gt[t])}function le(t,e){var n=document.createElement("link");n.rel="stylesheet",n.href=mt(t),e&&(n.media=e),document.head.appendChild(n)}function se(t,e){if(!h(t)){var n={},r=function(t){Pt(t)&&(n[RegExp.$1||RegExp.$2||RegExp.$3]=!0)};jt(Mt(t,1),(function(t){Ct(t,"img")&&t.src&&(n[t.src]=!0),r(getComputedStyle(t).backgroundImage),r(getComputedStyle(t,"::before").backgroundImage),r(getComputedStyle(t,"::after").backgroundImage)})),t=U(n)}var o=[],a=[];return t.forEach((function(t){o.push(Qt[t]||(Qt[t]=new xt((function(e){a.push(t),wt("<img>").on("load error",(function(){Qt[t]=!0,e()})).attr("src",t)}))))})),!o.length||o.every((function(t){return!0===t}))?at():(a.length&&console.log("Preload image",{urls:a}),st(ct(D(Qt)),e,!0))}const fe=c.dom;var pe=c.dom,de=(pe.textInputAllowed,pe.beginDrag),he=(pe.beginPinchZoom,pe.getShortcut,pe.setShortcut,pe.focusable),ge=pe.focused,me=pe.setModal,ve=pe.releaseModal,be=pe.retainFocus,ye=(pe.releaseFocus,pe.iterateFocusPath,pe.focus);const we=fe;var xe={},Se={},Ae=new Map,Pe=0;function Oe(t,e,n,r){if(!n.length)return at();var o,a,i,u=++Pe;n=n.map((function(t){return t instanceof xt?lt(t):new xt((function(e){t.then(e,e)}))})),lt(ct(n,(function(){clearTimeout(o),i(),Ae.delete(t)}))),n.push(new xt((function(t,e){i=t,a=e}))),o=setTimeout((function(){a(q(Jt,"Animation timed out")),console.warn("Animation #%i might take longer than expected",u,n),Ae.delete(t)}),1500);var c=lt(ct(n));return Ae.set(t,c),c}function ke(t,e,n,r){var o=[Ot(t,e),we.emit(n,t)],a=parseFloat(wt(t).css("transition-delay"));return w(r,(function(e,n){if(t.attributes[e]){var r=t.getAttribute(e);o.push(new xt((function(e,o){setTimeout((function(){ct(n(t,r)).then(e,o)}),1e3*a)})))}})),ct(o,(function(){return t}))}function Te(t,e,n,r){if(Ae.has(t))return Ae.get(t).then((function(){return Te(t,e,n,r)}));r=r||function(){return!0},we.emit("animationstart",t,{animationType:"in",animationTrigger:e},!0);var o=n?wt(n,t):wt(),a="show"===e?':not([animate-on]), [animate-on~="'+e+'"]':'[animate-on~="'+e+'"]',i=[],u=[];return wt(Et("[animate-in]",t)).filter(a).each((function(t,e){!o.find(e)[0]&&r(e)&&Tt(e)&&(i.push(e),u.push(ke(e,"tweening-in","animatein",xe)))})),wt(Et("[animate-sequence]",t)).filter(a).each((function(t,e){if(!o.find(e)[0]&&r(e)&&Tt(e)){var n=e.getAttribute("animate-sequence")||"",a=e.getAttribute("animate-sequence-type")||"",c=wt(e).find(">"===n[0]?n:wt(n));void 0!==wt(e).attr("animate-sequence-reverse")&&[].reverse.apply(c),c.css("transition-duration","0s"),c.attr("animate-in",a).attr("is-animate-sequence",""),c.each((function(t,e){"inline"===wt(e).css("display")&&wt(e).css("display","inline-block"),i.push(e),u.push(new xt((function(n,r){setTimeout((function(){wt(e).css("transition-duration",""),ke(e,"tweening-in","animatein",xe).then(n,r)}),50*t)})))})),e.attributes["animate-in"]||wt(e).attr("animate-in","").addClass("tweening-in")}})),Oe(t,0,u).then((function(){we.emit("animationcomplete",t,{animationType:"in",animationTrigger:e},!0)}))}function Ce(t,e,n,r,o){r=r||function(){return!0},we.emit("animationstart",t,{animationType:"out",animationTrigger:e},!0);var a=n?wt(n,t):wt(),i="show"===e?':not([animate-on]), [animate-on~="'+e+'"]':'[animate-on~="'+e+'"]',u=[],c=[];return wt((o?wt:Et)("[animate-out]",t)).filter(i).each((function(t,e){!a.find(e)[0]&&r(e)&&(u.push(e),c.push(ke(e,"tweening-out","animateout",Se)))})),Oe(t,0,c).then((function(){var n=wt((o?wt:Et)("[animate-out], .tweening-in, .tweening-out",t));"show"!==e&&(n=n.filter(i)),(n=n.filter((function(t,e){return r(e)}))).removeClass("tweening-in tweening-out"),n.find("[is-animate-sequence]").removeAttr("animate-in").removeClass("tweening-in tweening-out"),we.emit("animationcomplete",t,{animationType:"out",animationTrigger:e},!0)}))}function Ie(t,e){xe[t]=$(e)}function je(t,e){Se[t]=$(e)}var Ee=n(256);const Ne={};var Me=c.dom,Re=(Me.lock,Me.locked),Le=Me.cancelLock,$e=(Me.notifyAsync,Me.preventLeave),qe=c.dom,Ue=(qe.observe,qe.registerCleanup),De=(qe.createAutoCleanupMap,qe.afterDetached),Ve=qe.watchElements,ze=qe.watchAttributes;function Fe(t){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function We(t,e){return"["+t+"] "+(e=b(e).map((function(t){return p(t,Element)?(n=t).tagName.toLowerCase()+(n.id?"#"+n.id:n.className.trim()&&n.className.replace(/^\s*|\s+(?=\S)/g,"."))+":":t&&"object"===Fe(t)?(e=JSON.stringify(t),'[{"]'.indexOf(e[0])>=0&&e.length>200?e[0]+e.substr(1,199)+"…"+e[e.length-1]:e):t;var e,n})).join(" "))}function _e(t,e,n){var r;try{console.groupCollapsed(We(t,e)),r=!0}catch(t){}try{n(console)}finally{if(r)try{console.groupEnd()}catch(t){}}}var He,Be=N(),Je=new Map,Qe={},Ge=[],Ke=we.root,Ze=[Ke],Xe=function(t){return t},Ye=function(t){return yt(t,pt)||"/"},tn=function(t){return ht(pt,t)},en=Xe,nn=Xe;function rn(t,e){var n=wt(t).closest("[match-path]")[0];return!n||(e||Ze).indexOf(n)>=0}function on(t,e,n){return t&&t.test||(t=cn(t)),h(e)||(e=an(e)),t.test(e,n)}function an(t){return"/"===(t=gt(t))?[]:t.slice(1).split("/").map(decodeURIComponent)}function un(t){y(this,t)}function cn(t){if(t=String(t),!Qe[t]){var e,n=new un,r={};t.replace(/\/(\*|[^{][^\/]*|\{([a.-z_$][a-z0-9_$]*)(\?)?(?::(?![*+?])((?:(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])([*+?]|\{\d+(?:,\d+)\})?)+))?\})(?=\/|$)/gi,(function(t,o,a,i,u){if(i&&!e&&(e=n.length),a){var c=u?new RegExp("^"+u+"$","i"):/./;r[a]=n.length,n.push({name:a,test:c.test.bind(c)})}else n.push(o.toLowerCase())})),y(n,{pattern:t,params:r,exact:!("*"===n[n.length-1]&&n.splice(-1)),minLength:e||n.length}),Qe[t]=X(n)}return Qe[t]}function ln(t,e,n){return t=t||[],e=e.map(encodeURIComponent),{route:t,params:T(n,["remainingSegments"]),minPath:gt(e.slice(0,t.minLength).join("/")),maxPath:gt(e.slice(0,t.length).join("/"))}}function sn(t,e,n){return P(t,(function(t){var r=P(t.params,(function(t,n){return null!==e[n]}));if(r&&!n&&(r=!P(e,(function(e,n){return e&&!t.has(n)}))),r){for(var o=[],a=0,i=t.length;a<i;a++){var u=t[a].name;if(u&&!t[a].test(e[u]||"")){if(a<t.minLength||e[u])return!1;break}o[a]=u?e[u]:t[a]}return ln(t,o,k(e,U(t.params)))}}))||!n&&sn(t,e,!0)}function fn(t,e,n){var r=this,o={},a=Be(r,{routes:e.map(cn),params:o,app:t});w(a.routes,(function(t,e){w(e.params,(function(t){o[t]=null}))})),y(r,o,r.parse(n)),a.current=a.lastMatch,a.handleChanges=Q(r,!0),Object.preventExtensions(r),Object.getOwnPropertyNames(r).forEach((function(t){J(r,t,null,(function(t){return d(t)||""===t?null:String(t)}))})),Q(r,(function(){var e=T(r,["remainingSegments"]),n=a.current,o=n,i=!j(e,n.params);i&&a.lastMatch&&(n=a.lastMatch,a.lastMatch=null,i=!j(e,n.params)),i&&(n=sn(a.routes,e)||o),a.current=n,n.route.exact&&(r.remainingSegments="/"),r.set(y({},a.params,n.params)),n!==o&&(t.path=en(ht(n.maxPath,r.remainingSegments)))}))}F(un,Array,{has:function(t){return t in this.params},match:function(t,e){"string"==typeof t&&(t=this.params[t]);var n=this[t];return!!n&&(n.name?n.test(e):Y(n,e))},test:function(t,e){var n=this;return t.length>=n.minLength&&(e||!n.exact||t.length<=n.length)&&!A(n,(function(e,n){return t[n]&&!(e.name?e.test(t[n]):Y(t[n],e))}))}}),F(fn,{parse:function(t){var e=Be(this),n=an(nn(t)),r=A(e.routes,(function(t){return on(t,n,!0)})),o={};if(r){for(var a in e.params)o[a]=n[r.params[a]]||null;o.remainingSegments=r.exact?"/":gt(n.slice(r.length).join("/"))}return e.lastMatch=ln(r,n,o),o},set:function(t){var e=this;if("string"==typeof t){if(Y(t,e.toString()))return;t=e.parse(t)}Be(e).handleChanges((function(){y(e,t)}))},replace:function(t,e){var n=this,r=n.getPath(y(n,v(t)||O(t,e)));return Be(n).app.navigate(r,!0)},getPath:function(t){var e=sn(Be(this).routes,t);return en(e?ht(e.maxPath||"/",e.route.exact?"/":t.remainingSegments):"/")},toJSON:function(){return y({},this)},toString:function(){return en(ht(Be(this).current.maxPath||"/",this.remainingSegments))}}),K(fn.prototype),Qe["/*"]=X(new un({value:"/*",exact:!1,length:0,minLength:0,params:{},test:function(){return!0}}));Zn("router",(function(t,e){var n,r,o,a,i=t.path||e.initialPath||e.queryParam&&ee(e.queryParam)||location.pathname||"/",u="",c={},l={},f=-1,p=[];function d(t,e,n,r){return Object.freeze({id:t,path:e,navigated:!1!==r,redirected:!!n,originalPath:n||null})}function h(t,e){for(var n=f;n>=0;n--)if(p[n].result&&p[n].path===t)return history.replaceState(history.state,"",tn(t)),d(p[n].result,t,e,!1)}function g(e,n){var r=p[f];if(e=v(e),r&&e===r.path&&e===o)return r.result?{promise:at(h(e))}:r;n=n||f<0,f=Math.max(0,f+!n);var i,u,c=tt(),l=s,g=s,m=p.splice(f),b={id:c,path:e,result:"",previous:r,get promise(){return i||(i=new Promise((function(t,e){var n=function(t){return function(e){u=!0,t(e)}};u=!1,l=n(t),g=n(e)})))},reset:function(){return u&&(i=null),b},forward:function(t){i&&!u&&((t.promise||t.then((function(t){return t.promise}))).then((function(t){b.resolve(d(t.id,t.path,e))}),g),g=s)},resolve:function(t){t=t||d(c,e),b.path=t.path,b.result=b.result||t.id,a=t,l(t),w(p,(function(t,e){e.reject()}))},reject:function(){g(q(Ht))}};return p[f]=b,history[n?"replaceState":"pushState"](c,"",tn(e)),t.path=e,m[0]&&(n&&!m[1]?m[0].forward(b):R((function(){w(m,(function(t,e){e.reject()}))}))),b}function m(){return history.back(),--f}function v(e,r,o){var a;if(e=decodeURI(e)||"/",r=r||t.path,"~"===e[0]||e.indexOf("{")>=0){var i=(o?en:Xe)(r);a=Y(i,n.toString())?Be(n).current:n.parse(i)&&Be(n).lastMatch,e=e.replace(/\{([^}?]+)(\??)\}/g,(function(t,n,r,o){return a.params[n]||(r&&o+t.length===e.length?"":"null")}))}return"~"===e[0]?e=(o?Xe:en)(ht(a.minPath,e.slice(1))):"/"!==e[0]&&(e=ht(r,e)),gt(e,!0)}function b(t){wt("[match-path]",t).each((function(t,e){if(!Je.has(e)){var n=document.createElement("div");n.setAttribute("style","display: none !important"),n.setAttribute("match-path",e.getAttribute("match-path")||""),e.attributes.default&&n.setAttribute("default",""),wt(e).before(n),wt(e).detach(),Ut(e,"hidden",!0),Je.set(n,e),Je.set(e,e)}}))}function x(e,n,r){var o=p[f],a=new Map,i=we.eventSource,u=Ze.slice(0);Ze=r,He=wt(r).filter("[page-title]")[0],l={},document.title=He?sr(He,"page-title",!0):document.title,Mn(!0,(function(){_e(i,["pageenter",e],(function(){Je.forEach((function(r,o){var c=Ze.indexOf(r)>=0;if(r!==o&&c===u.indexOf(r)<0)if(c){ur(r,!1),ar(r);var l=a.get(wt(r).parents("[match-path]")[0]),s=an(r.getAttribute("match-path")),f=Ge.map((function(t){if(on(t.route,s))return t.callback(r,e)}));f.push(l),a.set(r,ct(f,(function(){Ze.indexOf(r)>=0&&(Ut(r,"hidden",!1),Te(r,"show","[match-path]"),t.emit("pageenter",r,{pathname:e},!0))})))}else t.emit("pageleave",r,{pathname:n},!0),Ce(r,"show","[match-path]").then((function(){Ze.indexOf(r)<0&&_e(i,["pageleave",n],(function(){Ut(r,"hidden",!0),ur(r,!0)}))}))}))})),w(a,(function(t,e){jn(e,t)})),ut(ct(a),(function(){o.resolve()}))}))}function S(){var e=p[f];if(e&&location.pathname===tn(o)||(g(o),e=p[f]),f>0&&o===u)e.resolve(h(o));else{var i=e.previous,c=o,s=Re(Ke,!0)?Le(Ke):Ln();if(s)return r=o===r?null:u,s=at(s).then((function(){var t=g(c);return L(S),t}),(function(){throw q(Bt)})),p[f-1]===i?m():(p[f]=i,history.replaceState(i.id,"",tn(i.path))),void e.forward(s);r=null;var d,A=[Ke],O=u;b(),Mn(!0,(function(){for(var t,e=nn(o),n=wt('[switch=""]').get();t=n.shift();)if(rn(t,A)){var r=wt(t).children("[match-path]").get().map((function(t){var n=C(Je,t)||t,r=wt('[switch=""]',n).get(),o=v(n.getAttribute("match-path"),e,!0);return{element:n,path:o.replace(/\/\*$/,""),exact:!r[0]&&"/*"!==o.slice(-2),placeholder:t!==n&&t,children:r}}));r.sort((function(t,e){return e.path.localeCompare(t.path)}));var a=P(r,(function(t){return(t.exact?e===t.path:yt(e,t.path))&&t.path}));w(r,(function(t,e){if(e.path===a){var r=e.element;A.unshift(r),e.placeholder&&(wt(e.placeholder).replaceWith(r),En(r),Rn(r),n.push.apply(n,e.children))}}))}})),l[o]&&l[O]?x(o,O,A):(l[o]=!0,wt('[switch=""]').each((function(t,e){if(rn(e,A)){var n=wt(e).children("[match-path]");if(!n.filter((function(t,e){return A.indexOf(e)>=0}))[0])return d=en((n.filter("[default]")[0]||n[0]).getAttribute("match-path")),!1}})),d&&d!==o?d===u?e.resolve(h(d,o)):e.forward(g(d,!0)):(console.log("Nagivate",o),u=o,t.path=o,n.set(o),jn(s=at(t.emit("navigate",{pathname:o,oldPathname:O,oldStateId:a&&a.id,newStateId:e.id,route:Object.freeze(y({},n))})),Ke,(function(){p[f]===e&&x(o,O,A)}))))}}Q(c,!0),J(c,"path","",(function(t){return Vn?((t=v(t,u))!==u&&t!==o&&(o=t,L(S)),u):u})),dt(e.baseUrl||""),"/"===pt?(Ye=Xe,tn=Xe):e.explicitBaseUrl&&(en=tn,nn=Ye,Ye=Xe,tn=Xe),i=Ye(i),n=new fn(t,e.routes,i),t.define({get canNavigateBack(){return f>0},get previousPath(){return(p[f-1]||"").path||null},parseRoute:cn,resolvePath:v,navigate:function(t,e){return g(t,e).promise},back:function(t){return f>0?p[m()].reset().promise:!!t&&g(t).promise}}),W(t,"initialPath",i,!0),W(t,"route",n,!0),W(t,"routes",Z(e.routes)),B(t,"path",c),t.beforeInit((function(){we.ready.then((function(){b(),Rt(window,"popstate",(function(){var t=P(p,(function(t,e){return t.id===history.state&&e+1}));t?(o=p[f=t-1].reset().path,L(S)):g(Ye(location.pathname))}))}))})),t.on("ready",(function(){g(i,!0)})),t.on("pageenter",(function(t){wt(Et("[x-autoplay]",t.target)).each((function(t,e){rn(e)&&(0!==e.readyState&&(e.currentTime=0),e.play())}))})),t.on("pageleave",(function(e){wt(Et("form",e.target)).each((function(e,n){t.emit("reset",n,null,!1)||n.reset()})),wt(Et("[x-autoplay]",e.target)).each((function(t,e){e.pause()}))})),t.on("statechange",(function(t){It(t.target,He)&&(document.title=sr(He,"page-title",!0))})),Ve(Ke,"video[autoplay], audio[autoplay]",(function(t){wt(t).attr("x-autoplay","").removeAttr("autoplay")}),!0)}));var pn="background-image".split(" "),dn="checked selected disabled readonly multiple ismap",hn=N(),gn=we.root,mn=new Set,vn=new Map,bn=[],yn=[],wn=[],xn={},Sn={},An={},Pn=0,On=!1;function kn(t,e){var n=hn(e)||hn(e,{});return n[t]||(n[t]={})}function Tn(t,e,n){w(e,(function(e,n){"$$class"===e?Ut(t,n):"$$text"===e?t.textContent=n:"style"===e?wt(t).css(n):rt(e,dn)?t[e]=!!n:t.setAttribute(e,n)})),n||we.emit("domchange",t)}function Cn(t,e){w(e,(function(e,n){t[e]="$$class"===e||"style"===e?y({},t[e],n):n}))}function In(t,e){var n,r=new Set;do{t=S(b(t),(function(t){return It(gn,t)})),n=b(r),wt(Et(Yt(xn),t)).not(n).each((function(t,n){w(xn,(function(t,o){n.attributes[t]&&(o(n,kn.bind(0,t),e),r.add(n))}))}))}while(n.length!==r.size)}function jn(t,e,n){if(!m(t))return at((n||s)());if(e||"script"!==we.eventSource){var r=or("loading",(e=e||we.activeElement)||gn),o=or("error",e||gn),a=kn("handleAsync",r);ar(r,{loading:cr(r,"loading")||!0}),ar(o,{error:null}),a.value=(a.value||0)+1,t.then((function(){ar(r,{loading:!!--a.value})}),(function(t){ar(r,{loading:!!--a.value}),ar(o,{error:""+(t.message||t)})}))}return t.then(n||null)}function En(t){mn.add(t)}function Nn(t){if(!Pn&&!On){var e=new Map,n=new Map,r=function(t,e){Cn(C(n,t,Object),e)};On=!0;try{_e(we.eventSource,"statechange",(function(){In(mn,r);var t=wt.uniqueSort(S(mn,(function(t){return It(gn,t)&&mn.delete(t)})));w(t,(function(t,n){var r=kn("oldValues",n),o={},a={};for(w(cr(n,!0),(function(t,e){r[t]!==e&&(o[t]=r[t],a[t]=e,r[t]=e)})),e.set(n,{oldValues:o,newValues:a});n=n.parentNode;){var i=e.get(n);if(i)for(var u in i.newValues)u in a||(a[u]=i.newValues[u],o[u]=i.oldValues[u])}}));var n=[];w(t.reverse(),(function(t,o){_e("statechange",[o,e.get(o).newValues],(function(t){t.log(o===gn?document:o),wt(Et(Yt(Sn),o)).not(n).each((function(t,e){w(Sn,(function(t,n){e.attributes[t]&&n(e,kn.bind(0,t),r)})),n.push(e)}))}))}))})),ct(bn.map((function(t){return t(n)}))).then((function(){var r=new Map;w(n,(function(n,o){if(t)vn.has(n)?Cn(vn.get(n),o):Tn(n,o);else{var a=wt(n).filter("[match-path]")[0]||wt(n).parents("[match-path]")[0]||gn,i=r.get(a);if(!i){var u=function(t){var n,r=t.getAttribute("animate-on-statechange");if(!r)return!0;for(;t&&!(n=e.get(t));t=t.parentNode);return n&&A(r,(function(t){return t in n.newValues}))};i=[],R((function(){Ce(a,"statechange","[match-path]",u,!0).then((function(){w(i,(function(t,e){Tn(e,I(vn,e))})),Te(a,"statechange","[match-path]",u)}))})),r.set(a,i)}Cn(C(vn,n,Object),o),i.push(n)}})),w(e,(function(t,e){we.emit("statechange",t,{data:cr(t),newValues:e.newValues,oldValues:e.oldValues},!0)}))}))}finally{On=!1}}}function Mn(t,e){var n=!0;try{Pn=(Pn||0)+1,$(e||t)()}catch(t){throw n=!1,t}finally{!--Pn&&n&&Nn(!0===t)}}function Rn(t){var e=On;On=!0;try{In(t,(function(t,e){Tn(t,e,!0)}))}finally{On=e}for(var n=[t],r=t===gn,o=-1,a=0;o<wn.length;)w(wn.slice(o<0?0:o),(function(e,r){wt(Et(r.target,t)).each((function(t,e){r.unbindHandlers.push(Dn.on(e,r.handlers)),r.handlers.mounted&&n.indexOf(e)<0&&n.push(e)}))})),o=wn.length,w(wt.uniqueSort(n.slice(a)),(function(t,e){we.emit("mounted",e)})),r||(r=!0,we.emit("mounted",gn,{target:t})),a=n.length;w(yn,(function(e,n){wt(Et(n.selector,t)).each((function(t,e){n.handler.call(e,e)}))}))}function Ln(t){var e=A(wt("[prevent-leave]").get(),(function(t){var e=kn("preventLeave",t),n=e.allowLeave;if(rn(t)||n){var r=sr(t,"prevent-leave");return!r&&n&&delete e.allowLeave,r&&!n}}));return e&&!t?ct(we.emit("preventLeave",e,null,!0),(function(t){if(!t)throw q(Bt);kn("preventLeave",e).allowLeave=!0})):!!e}function $n(t,e){An[t]=wt(e)[0]}function qn(t,e){xn[t]=$(e)}function Un(t,e){Sn[t]=$(e)}qn("apply-template",(function(t,e){var n=e(t),r=t.getAttribute("apply-template"),o=An[r]||An[sr(t,"apply-template")],a=n.template;if(n.attributes||y(n,{attributes:Kt(t),childNodes:b(t.childNodes)}),o&&o!==a){n.template=o,o=o.cloneNode(!0),a&&w(a.attributes,(function(e,n){t.removeAttribute(n.name)})),Zt(t,n.attributes),Xt(o,t);var i=wt(n.childNodes).detach();wt(Et("content:not([for])",o)).replaceWith(i),wt(Et("content[for]",o)).each((function(t,e){wt(e).replaceWith(i.filter(e.getAttribute("for")||""))})),wt(t).empty().append(o.childNodes)}})),qn("auto-var",(function(t){ar(t,sr(t,"auto-var"))})),qn("foreach",(function(t,e){var n=e(t),r=n.template||(n.template=wt(t).contents().detach().filter((function(t,e){return 1===e.nodeType||/\S/.test(e.data||"")})).get()),o=n.nodes||[],a=n.data||[],i=b(sr(t,"foreach"));if(i.length!==a.length||i.some((function(t,e){return a[e]!==t}))){var u=x(i,(function(n){var i=a.indexOf(n);if(i>=0)return a.splice(i,1),o.splice(i*r.length,(i+1)*r.length);var u=wt(r).clone().get(),c=wt(Et("[foreach]",u));return c[0]&&wt(Et("[foreach]",r)).each((function(t,n){e(c[t]).template=e(n).template})),w(u,(function(e,r){1===r.nodeType&&(wt(t).append(r),ir(r,{foreach:n}),Rn(r))})),u}));y(n,{nodes:u,data:i.slice()}),wt(o).detach(),wt(t).append(u)}})),qn("switch",(function(t,e,n){var r=t.getAttribute("switch")||"";if(rn(t)&&r){var o=e(t);void 0===o.matched&&ir(t,"matched",(function(){return o.matched&&cr(o.matched,!0)}));var a,i,u,c=cr(t),l=Ee.eval(r,c),s=wt("[match-"+r+"]",t).filter((function(e,n){return wt(n).parents("[switch]")[0]===t})),f=!rt("switch",t.getAttribute("keep-child-state")||""),p=o.matched,d=new Map;s.each((function(t,e){var n=Ee.eval('"null" ?? '+e.getAttribute("match-"+r),cr(e));if(d.set(e,n),Ee.eval("$0 == $1",[l,n]))return a=e,!1})),a=a||s.filter("[default]")[0]||s[0]||null,p!==a?_e("switch",[t,r,"→",l],(function(t){t.log("Matched: ",a||"(none)"),a&&(f&&ur(a),ar(a)),p&&f&&ur(p,!0),s.each((function(t,e){n(e,{$$class:{active:e===a}})}))})):(i="switch",u=[t,r,"→",l,"(unchanged)"],console.log(We(i,u)),r in c&&void 0!==d.get(a)&&ar(t,r,d.get(a))),o.matched=a}})),Un("template",(function(t,e,n){var r=e(t),o=r.templates;o||(o={},w(t.attributes,(function(t,e){e.value.indexOf("{{")>=0&&(o[e.name]=rt(e.name,dn)?e.value.replace(/^{{|}}$/g,""):e.value)})),!t.childElementCount&&(t.textContent||"").indexOf("{{")>=0&&(o.$$text=t.textContent),r.templates=o);var a=cr(t),i={};w(o,(function(e,n){var r=lr(n,a,t,e,!rt(e,dn));("$$text"===e?t.textContent:(t.getAttribute(e)||"").replace(/["']/g,""))!==r&&(i[e]=r)})),n(t,i)})),Un("set-style",(function(t,e,n){var r=At(sr(t,"set-style",!0));w(pn,(function(t,e){var n=Pt(r[e]);n&&(r[e]='url("'+mt(bt(n))+'")')})),n(t,{style:r})})),Un("set-class",(function(t,e,n){n(t,{$$class:sr(t,"set-class")})}));var Dn,Vn,zn,Fn=N(),Wn=we.root,_n={};function Hn(t){return ct(t.splice(0),(function(){return t.length&&Hn(t)}))}function Bn(t){return function(e){if(e.target===e.context)return t.apply(this,arguments)}}function Jn(t){var e=t.target;wt(Et('img[src^="/"], video[src^="/"]',e)).each((function(t,e){e.src=mt(e.getAttribute("src"))})),wt(Et('a[href^="/"]',e)).each((function(t,e){e.href=mt(e.getAttribute("href"))})),wt(Et("[data-src]",e)).each((function(t,e){e.src=mt(e.dataset.src),e.removeAttribute("data-src")})),wt(Et("[data-bg-src]",e)).each((function(t,e){e.style.backgroundImage='url("'+mt(e.dataset.bgSrc)+'")',e.removeAttribute("data-bg-src")})),wt(Et("form",e)).on("submit",(function(t){t.preventDefault()}))}function Qn(){var t=this;Fn(t,{init:[],options:{}}),W(t,"element",Wn,!0),W(t,"ready",new Promise((function(e){t.on("ready",e.bind(0,t))})),!0),t.on("mounted",Jn)}function Gn(){if(zn)throw new Error("brew() can only be called once");return Dn=new Qn,w(Ne,(function(t,e){var n=e&&g(Dn[et("use-"+t)]);n&&n.call(Dn,e)})),w(arguments,(function(t,e){$(e)(Dn)})),zn=!0,ar(Wn,{loading:"initial"}),jn(ct([we.ready,Hn(Fn(Dn).init)],(function(){Vn=!0,Rn(Wn),Dn.emit("ready")})),Wn),Dn}function Kn(t,e){$(e),F(Qn,O(et("use-"+t),(function(n){var r=Fn(this);r.options[t]=y(r.options[t]||{},n),e(this,r.options[t])})))}function Zn(t,e,n){return!0===t?function(t){n(t,{})}:Kn.bind(0,t,e)}F(Qn,{emit:function(t,e,n,r){return p(e,Node)||(r=n,n=e,e=this.element),we.emit(t,e,n,r)},define:function(t){z(this,t)},beforeInit:function(t){g(t)&&(t=t.call(this)),Fn(this).init.push(t)},detect:function(t,e){var n=this,r={};w(t,(function(t,e){_n[e]&&(r[e]=g(_n[e])?_n[e]=ct(_n[e]()).catch((function(t){return console.warn("Detection for "+e+" has thrown exception:",t),!1})):_n[e])})),this.beforeInit(ct(r,(function(t){return t=Object.freeze(y({},n.supports,t)),z(n,{supports:t}),g(e)&&e(t)})))},when:function(t,e){this.beforeInit(ct(t,(function(t){if(t)return e()})))},on:function(t,e,n,r){r=!0===(r||n),g(e)&&(n=e,e=t,t=Wn);var o=e;if("string"==typeof e)r&&(n=Bn(n)),e.indexOf(" ")>=0?(o={},w(e,(function(t,e){o[e]=n}))):o=O(e,n);else if(r)for(var a in e)e[a]=Bn(e[a]);var i=[];return"string"==typeof t?(!function(t,e,n){wn.push({target:t,handlers:e,unbindHandlers:n})}(t,o,i),t=wt(t).get()):t instanceof Node&&(t=[t]),w(t,(function(t,e){i.push(we.on(e,o))})),E(i)},matchPath:function(t,e,n){g(e)&&(n=e,e=null),this.on("mounted",(function(r){var o=r.target.getAttribute("match-path");o&&on(t,o)&&(!e||wt(r.target).is(e))&&n.call(r.target,r.target)}))},matchElement:function(t,e){yn.push({selector:t,handler:e})},matchRoute:on,beforeUpdate:function(t){bn.push($(t))},beforePageEnter:function(t,e){g(t)&&(e=t,t="/*"),Ge.push({route:cn(t),callback:$(e)})}}),K(Qn.prototype);c.TraversableNode,c.TraversableNodeTree,c.InheritedNode;var Xn=c.InheritedNodeTree,Yn=(c.TreeWalker,we.root),tr={var:!0,"auto-var":!0,"error-scope":{error:null}},er=new Xn(Yn,(function(){var t=this,e=t.element;w(e.dataset,(function(e,n){W(t,e,Ee.eval("`"+nt(n||"null")))})),w(nr(e,!0,t),(function(e,n){W(t,e,n)})),e===Yn&&(t.loading=null,t.error=null)}),{selector:Yt(tr)});function nr(t,e,n){var r={};return w(tr,(function(o,a){if(t.attributes[o]){if(!0===a&&(a=sr(t,o,!1,n),!v(a)))return;for(var i in a)r[i]=void 0===a[i]||e?null:a[i]}})),r}function rr(t,e){e=e||Yn;for(var n=er.getNode(e);null!==n;n=Object.getPrototypeOf(n))if(V(n,t))return n;return console.warn("Undeclared state: %s",t,{element:e}),er.setNode(e)}function or(t,e){return rr(t,e).element}function ar(t,e,n){var r=e&&(v(e)||O(e,n)),o=!1;if("string"==typeof t)Mn((function(){wt(t).each((function(t,e){o|=ar(e,r)}))}));else{var a=er.setNode(t);w(r||sr(t,"set-var"),(function(e,n){if(a[e]!==n){var r=rr(e,t);r[e]=n,o=!0,En(r.element)}})),o&&Vn&&L(Nn)}return!!o}function ir(t,e,n){var r=v(e)||O(e,n),o=er.setNode(t),a={};for(var i in r)g(r[i])?_(o,i,r[i],s):(W(o,i,o[i]),a[i]=r[i]);return ar(t,a)}function ur(t,e){Mn((function(){w(er.descendants(t),(function(t,n){ar(n.element,nr(n.element,e))}))}))}function cr(t,e){var n=function(t){for(var e in t.dataset)return!0}(t)?er.setNode(t):er.getNode(t)||{};if(!0!==e)return e?n[e]:y({},n);if(n.element!==t)return{};var r=Object.getOwnPropertyNames(n);return r.splice(r.indexOf("element"),1),k(n,r)}function lr(t,e,n,r,o){var a={globals:{app:Dn}};return o?ot(Ee(t,y({},e),a)):Ee.eval(t,y({},e),a)}function sr(t,e,n,r){var o=t.getAttribute(e);return o?lr(o,r||cr(t),0,0,n):n?"":null}er.on("update",(function(t){w(t.updatedNodes,(function(t,e){En(e.element)}))}));var fr="button,input,select,textarea,[contenteditable],a[href],area[href],iframe",pr="[is-flyout]:not([tab-through]),[tab-root]",dr=we.root,hr=new Map,gr=new Map,mr={};function vr(t,e){mr[t]=$(e)}function br(t,e){var n=wt(t||"[is-flyout].open").get();return ct(n.map((function(t){var n=hr.get(t);return n&&(hr.delete(t),ve(t),n.resolve(e),n.source&&Ut(n.source,"target-opened",!1)),lt(t.attributes["animate-out"]?(Ut(t,"closing",!0),Ce(t,"open")):Ot(t,"closing")).then((function(){Ut(t,{open:!1,closing:!1,visible:!1})}))})))}function yr(t,e,n,r){var o=n||dr,a=t?Nt(t,o):wt(o).closest("[is-flyout]")[0];if(!a)return it();var i,u=hr.get(a);if(u)return r?br(a,n&&Ee.eval("`"+n.value)):u.path=Dn.path,u.promise;var c=new xt((function(t){i=t}));hr.set(a,{source:n,promise:c,resolve:i,path:Dn.path}),n&&(Ut(n,"target-opened",!0),be(a,n)),e&&ar(a,e),Ut(a,"visible",!0),Ot(a,"open",(function(){ye(a)})),Te(a,"open"),a.attributes["is-modal"]&&($e(a,c),me(a));var l=function(t){var e=a.getAttribute("swipe-dismiss");("focusout"===t.type?e:t.data!==et("swipe-"+e))||(br(a),we.event&&we.event.preventDefault(),t.handled())};return ut(c,we.on(a,{focusout:l,gesture:l})),c}vr("validate",(function(t){var e=Nt(this.getAttribute("validate")||"",t.target);if(e){var n=we.emit("validate",e)||!e.checkValidity||e.checkValidity();if(n){if(m(n))return n.then((function(t){if(!t)throw q(_t)}))}else t.stopImmediatePropagation(),t.preventDefault()}})),vr("context-method",(function(t){var e=t.currentTarget,n=et(e.getAttribute("context-method")||"");if(g(Dn[n])){var r,o=e.getAttribute("context-form"),a=o?Nt(o,e):e.form,i=!0;return a?(i=we.emit("validate",a)||a.checkValidity(),r=[te(a)]):r=b(sr(e,"method-args")),ct(i,(function(t){if(!t)throw q(_t);return Dn[n].apply(Dn,r)}))}})),we.ready.then((function(){var t=new WeakMap,e=dr;function n(n){wt(n||fr).each((function(n,r){(wt(r).closest(pr)[0]||dr)!==e?(t.has(r)||t.set(r,r.tabIndex),r.tabIndex=-1):wt(r).attr("tabindex",I(t,r)||null)}))}we.on("focuschange",(function(){var t=A(wt(pr).get().reverse(),(function(t){return ge(t)}))||dr;t!==e&&(e=t,n())})),Ve(dr,fr,n,!0),Dn.on("mounted",(function(t){wt(Et(Yt(mr),t.target)).attr("async-action","")})),Dn.on("navigate",(function(){setTimeout((function(){hr.forEach((function(t,e){t.path!==Dn.path&&br(e)}))}))})),wt("body").on("click","[disabled], .disabled, :disabled",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),wt("body").on("click","[async-action]",(function(t){var e=t.currentTarget,n=C(gr,e,Array),r=null;if(w(mr,(function(t,o){if(e.attributes[t]&&n.indexOf(o)<0)return r=o,!1})),r){n.push(r);var o=r.call(e,t);m(o)&&!t.isImmediatePropagationStopped()&&(t.stopImmediatePropagation(),t.preventDefault(),jn(o).then((function(){$t(t)}),(function(t){gr.delete(e),console.warn("Action threw an error:",t)})))}else gr.delete(e)})),wt("body").on("click","a[href]:not([rel]), [data-href]",(function(t){if(!t.isDefaultPrevented()){var e=t.currentTarget,n=e.getAttribute("data-href")||e.getAttribute("href");if(t.preventDefault(),t.stopPropagation(),"_blank"===e.getAttribute("target"))window.open(n,tt());else{var r=function(){!("navigate"in Dn)||/^([a-z0-9]+:|\/\/)/.test(n)?location.href=n:Dn.navigate(n)},o=wt(e).closest("[is-modal]")[0];o?(yr(o).then(r),br(o)):(r(),br())}}})),wt("body").on("click","[set-var]:not([match-path])",(function(t){var e=t.currentTarget;e===wt(t.target).closest("[set-var]")[0]&&(ar(e),br())})),wt("body").on("click","[toggle]",(function(t){var e=t.currentTarget;t.stopPropagation(),e.attributes["toggle-if"]&&!sr(e,"toggle-if")||yr(e.getAttribute("toggle"),null,e,!0)})),wt("body").on("click","[toggle-class]",(function(t){var e=t.currentTarget;if(t.stopPropagation(),!e.attributes["toggle-if"]||sr(e,"toggle-if")){var n=e.getAttribute("toggle-class-for"),r=n?Nt(n,e):t.currentTarget;w(e.getAttribute("toggle-class"),(function(t,e){Ut(r,e.slice(1),"+"===e[0])}))}}))})),we.ready.then((function(){wt("[brew-template]").each((function(t,e){$n(e.getAttribute("brew-template")||"",e.cloneNode(!0))})),wt("apply-attributes").each((function(t,e){var n=wt(e.getAttribute("elements")||"",e.parentNode||we.root);w(e.attributes,(function(t,e){"elements"!==e.name&&n.each((function(t,n){n.setAttribute(e.name,e.value)}))}))})).remove(),wt("[style]").each((function(t,e){var n=Pt(e.style.backgroundImage);n&&(e.setAttribute("data-bg-src",decodeURIComponent(mt(bt(n)))),e.style.backgroundImage="none")})),window.onbeforeunload=function(t){Ln(!0)&&(t.returnValue="",t.preventDefault())}}));function wr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wr(Object(n),!0).forEach((function(e){Sr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Sr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ar=xr(xr(xr(xr(xr({ErrorCode:o,defaults:Ne},a),r),i),u),{},{getVar:cr,setVar:ar,declareVar:ir,evalAttr:sr,isElementActive:rn,handleAsync:jn,preventLeave:Ln,install:Kn,addDetect:function(t,e){_n[t]=$(e)},addExtension:Zn,addTemplate:$n,with:function(){var t=this.bind.apply(Gn,[0].concat(x(arguments,(function(t){return v(t)?function(e){z(e,t)}:g(t)||s}))));return z(t,Ar),t}});z(Gn,Ar);const Pr=Gn,Or=Zn("config",(function(t,e){var n=K();z(t,{config:n}),t.beforeInit(ue(e.path).catch(g(e.fallback)||null).then((function(t){y(n,t),e.freeze&&X(n)})))})),kr=Zn(!0,"formVar",(function(t){t.matchElement("form[form-var]",(function(e){var n=e.getAttribute("form-var"),r={},o=function(t){if(t&&(r=te(e)),n){var o=cr(e,n)||{};j(r,k(o,U(r)))||ar(e,n,y({},o,r))}else ar(e,r)};ze(e,"value",(function(){L(o)})),Ve(e,":input",(function(t){w(t,(function(t,n){var r=De(n,e);Lt(r,n,"change input",(function(){L(o)})),r.then(o.bind(null,!0))})),o(!0)}),!0),t.on(e,"reset",(function(){return n?rn(or(n,e))||e.reset():w(e.elements,(function(t,n){rn(or(n.name,e))||(n.value=null)})),!0}))})),t.on("pageenter",(function(t){wt(Et("form[form-var]",t.target)).each((function(t,e){wt(":input:eq(0)",e).trigger("change")}))}))}));function Tr(t){if(t){var e={};return w(t,(function(t,n){var r=n.toLowerCase();e[r]=n,r.indexOf("-")>0&&(e[r.split("-")[0]]=n)})),e}}function Cr(t,e){return t&&e?t[e.toLowerCase()]:e}function Ir(t,e){var n=navigator.languages||[navigator.language||""];return t?(n=Tr(n),h(t)&&(t=Tr(t)),P(n,(function(e,n){return t[n]}))||e||U(t)[0]):n[0]}const jr=Zn("i18n",(function(t,e){var n=Tr(e.languages),r=t.route&&e.routeParam,o=e.cookie&&ae(e.cookie,864e5),a=Cr(n,r&&t.route[r])||Cr(n,o&&o.get())||Ir(n,e.defaultLanguage),i=function(e){t.language=e};J(t,"language",a,(function(i){return i=Cr(n,i)||a,o&&o.set(i),r&&t.route.replace(r,i.toLowerCase()),a!==i&&(a=i,e.reloadOnChange&&location.reload()),a})),t.define({setLanguage:i,detectLanguage:Ir}),r&&(t.route.watch(r,i),t.on("ready",(function(){t.route.replace(r,a.toLowerCase())})))})),Er=Zn("login",(function(t,e){var n=ae((e=y({loginPagePath:"",defaultRedirectPath:"",cookie:"",expiry:0,logout:null,login:null,tokenLogin:null,getTokenFromResponse:null},e)).cookie,e.expiry),r=J(t,"loggedIn",!1,!0);function o(o){r(!0),g(e.getTokenFromResponse)&&n.set(e.getTokenFromResponse(o)),t.emit("login",{data:o})}var a=t.initialPath,i=n.get();i&&g(e.tokenLogin)&&t.beforeInit(lt(ct(e.tokenLogin(i),o))),t.define({login:function(n,i,u){return u=g(u||i),i="string"==typeof i&&i,ct(e.login(n)).then((function(t){return o(t),u&&u()}),(function(t){throw r(!1),t.status>=500?"server-error":"incorrect-cred"})).then((function(){a===t.resolvePath(e.loginPagePath)&&(a=""),t.navigate(i||a||e.defaultRedirectPath),a=""}))},logout:function(o,a){return t.loggedIn?(a=g(a||o),o="string"==typeof o&&o,at(Ln()).then((function(){return e.logout()})).then((function(){return r(!1),n.delete(),t.emit("logout"),a&&a()})).then((function(){t.navigate(o||e.loginPagePath)}))):at()}}),t.on("navigate",(function(n){var r=t.resolvePath(e.loginPagePath);f(t.loggedIn,n.pathname!==r)&&(t.loggedIn?t.navigate(e.defaultRedirectPath):(a=n.pathname,t.navigate(r)))}))}));var Nr="background-image".split(" ");Ne.preloadImage=!0;const Mr=Zn("preloadImage",(function(t){t.beforeUpdate((function(t){var e={};return w(t,(function(t,n){(n.src||n.style)&&rn(t)&&(n.src&&(e[vt(n.src)]=!0),n.style&&w(Nr,(function(t,r){var o=Pt(n.style[r]);o&&(e[vt(o)]=!0)})))})),se(U(e),200)})),t.beforePageEnter((function(t){return se(t,1e3)}))})),Rr=Zn("scrollable",(function(t,e){e=y({bounce:!1},e);var n=window.DOMMatrix||window.WebKitCSSMatrix||window.MSCSSMatrix,r=N(),o=0;function a(t){return r(t)||r(t,{childClass:"scrollable-target-"+ ++o})}function i(){wt("[scrollable]:visible").scrollable("refresh")}function u(){wt('[animate-on~="scroll-into-view"]:visible').each((function(t,e){var r=new n(getComputedStyle(e).transform),o=Dt(we.root),a=Dt(e),i=Vt(o,a.translate(-r.e||0,0))||Vt(o,a.translate(0,-r.f||0));i^qt(e,"tweening-in")&&(i||e.attributes["animate-out"])&&(i?Te:Ce)(e,"scroll-into-view")}))}t.on("ready",(function(){Ve(we.root,Yt(["scrollable","scrollable-target"]),(function(n){wt(n).filter("[scrollable-target]").each((function(t,e){var n=wt(e).closest("[scrollable]")[0];wt(e).addClass(a(n).childClass)})),wt(n).filter("[scrollable]").each((function(n,r){!function(n){var r,o,i=a(n).childClass,u=n.getAttribute("scrollable"),c=n.getAttribute("scroller-snap-page")||"",l=n.getAttribute("scroller-state")||"",s=n.getAttribute("scroller-page")||"",f=n.hasAttribute("persist-scroll"),p={},d=!1,h=!1;function g(t){return s&&wt(s,n).get()[t]}function m(t){if(l){var e={};e[l]=t,ar(n,e)}}function v(t,e){var o=g(t);e=e||"center top",!d&&Tt(n)&&o&&(d=!0,r=!0,m(t),wt(n).scrollable("scrollToElement",o,e,e,200,(function(){d=!1,r=!1})))}function b(){("always"===c||c===t.orientation)&&Tt(n)&&(d?h=!0:(h=!1,v(cr(n,l))))}if(wt(n).scrollable(y({},e,{handle:rt(u,"auto scrollbar content")||"content",hScroll:!rt(u,"y-only"),vScroll:!rt(u,"x-only"),content:"."+a(n).childClass+":visible:not(.disabled)",pageItem:s,snapToPage:"always"===c||c===t.orientation,scrollStart:function(e){"script"!==we.eventSource&&delete p[history.state],t.emit("scrollStart",n,e,!0)},scrollMove:function(e){t.emit("scrollMove",n,e,!0)},scrollEnd:function(e){t.emit("scrollStop",n,e,!0)}})),Ue(n,(function(){wt(n).scrollable("destroy")})),Ue(n,we.on(n,{drag:function(){de()},getContentRect:function(t){if(t.target===n||wt(t.target).closest("."+i)[0]){var e=Dt(n),r=wt(n).scrollable("scrollPadding");return e.top+=r.top,e.left+=r.left,e.right-=r.right,e.bottom-=r.bottom,e}},scrollBy:function(t){wt(n).scrollable("stop");var e=wt(n).scrollable("scrollLeft"),r=wt(n).scrollable("scrollTop");return wt(n).scrollable("scrollBy",t.x,t.y,200),{x:e-wt(n).scrollable("scrollLeft"),y:r-wt(n).scrollable("scrollTop")}}})),s&&("always"!==c&&Ue(n,t.on("orientationchange",(function(){wt(n).scrollable("setOptions",{snapToPage:c===t.orientation})}))),l&&(Ue(n,t.on(n,{statechange:function(t){var e=t.data[l];d||((0|Dt(g(e)).width)>(0|Dt().width)?v(e,"left center"):v(e))},scrollMove:function(t){d=!0,r||m(t.pageIndex)},scrollStop:function(t){m(t.pageIndex),d=!1,h&&b()}},!0)),Ue(n,Rt(window,"resize",(function(){clearTimeout(o),o=setTimeout(b,200)}))))),f){var w=!1,x=function(){var t=p[history.state];t&&wt(n).scrollable("scrollTo",t.x,t.y,0)};Ue(n,E(we.on("asyncStart",(function(){w=!0})),we.on("asyncEnd",(function(){w=!1,x()})),t.on("navigate",(function(t){p[t.oldStateId]={x:wt(n).scrollable("scrollLeft"),y:wt(n).scrollable("scrollTop")},setTimeout((function(){w||x()}))}))))}}(r),wt(r).scrollable(he(r)?"enable":"disable")}))}))})),t.on("statechange orientationchange animationcomplete",(function(){M(i)})),t.on("pageenter",(function(t){var e=wt(Et("[scrollable]",t.target)).add(wt(t.target).parents("[scrollable]"));wt(Et("[scrollable-target]",t.target)).each((function(t,e){wt(e).toggleClass("disabled",!rn(e))})),e.scrollable("refresh"),e.filter(":not([keep-scroll-offset])").scrollable("scrollTo",0,0)})),t.on("resize pageenter statechange scrollMove orientationchange",(function(){M(u)})),we.on("modalchange",(function(){wt("[scrollable]").each((function(t,e){wt(e).scrollable(he(e)?"enable":"disable")}))})),we.on("keystroke",(function(t){var e=we.event;if(we.modalElement&&e&&e.target===document.body&&rt(t.data,"space pageUp pageDown leftArrow rightArrow upArrow downArrow")){var n=Et("[scrollable]",we.modalElement)[0];n&&wt(n).triggerHandler(wt.Event("keydown",{keyCode:e.keyCode}))}}))}));c.IS_IOS,c.IS_IE10,c.IS_IE,c.IS_MAC;var Lr=c.IS_TOUCH;const $r=Zn(!0,"viewport",(function(t){var e,n,r,o=J(t,"orientation","",!0),a=Lr&&"MacIntel"!==navigator.platform;function i(i){var u=screen.availWidth,c=screen.availHeight,l=e;n=a?u:document.body.offsetWidth,r=a?u===window.innerWidth?c:window.innerHeight:document.body.offsetHeight,o((e=n/r)>=1?"landscape":"portrait"),!1!==i&&(t.emit("resize",{aspectRatio:e,viewportWidth:n,viewportHeight:r}),f(e>=1,l>=1)&&t.emit("orientationchange",{orientation:t.orientation}))}z(t,{get aspectRatio(){return e},get viewportWidth(){return n},get viewportHeight(){return r}}),t.on("orientationchange",(function(){Te(we.root,"orientationchange")})),wt(window).on("resize",(function(){M(i)})),wt((function(){i(!1)}))}));const qr=Pr.with((function(t){window.app=t}),Or,kr,jr,Er,Mr,Rr,$r)},860:function(t,e,n){var r=window.jQuery||n(609);t.exports=r;try{n(172)}catch(t){}},424:function(t,e,n){var r=window.Promise||n(804).default;t.exports=r},256:function(t,e,n){var r=window.waterpipe||n(160);t.exports=r;var o=r;o.pipes["{"]=function(t,e){var n=e.globals,r=n.new,o={};for(n.new=o;e.hasArgs();){var a=e.raw();if("}"===a)break;o[String(a).replace(/:$/,"")]=e.next()}return n.new=r,o},o.pipes["{"].varargs=!0},609:function(t){"use strict";t.exports=e},172:function(t){"use strict";if(void 0===n){var e=new Error("Cannot find module 'jq-scrollable'");throw e.code="MODULE_NOT_FOUND",e}t.exports=n},804:function(t){"use strict";t.exports=r},160:function(t){"use strict";t.exports=o},163:function(e){"use strict";e.exports=t}},i={};function u(t){if(i[t])return i[t].exports;var e=i[t]={exports:{}};return a[t](e,e.exports,u),e.exports}return u.d=function(t,e){for(var n in e)u.o(e,n)&&!u.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u(979)}().default}));
//# sourceMappingURL=brew.min.js.map