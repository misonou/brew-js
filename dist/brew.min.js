/*! brew-js v0.6.8 | (c) misonou | https://misonou.github.io */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("zeta-dom"),require("jquery"),require("waterpipe"),require("jq-scrollable")):"function"==typeof define&&define.amd?define("brew-js",["zeta-dom","jquery","waterpipe","jq-scrollable"],t):"object"==typeof exports?exports["brew-js"]=t(require("zeta-dom"),require("jquery"),require("waterpipe"),require("jq-scrollable")):e.brew=t(e.zeta,e.jQuery,e.waterpipe,e["jq-scrollable"])}(self,(function(e,t,n,r){return function(){var o={992:function(e,t,n){var r,o=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function o(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var a={compressToBase64:function(e){if(null==e)return"";var n=a._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:a._decompress(e.length,32,(function(n){return o(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":a._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:a._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=a.compress(e),n=new Uint8Array(2*t.length),r=0,o=t.length;r<o;r++){var i=t.charCodeAt(r);n[2*r]=i>>>8,n[2*r+1]=i%256}return n},decompressFromUint8Array:function(t){if(null==t)return a.decompress(t);for(var n=new Array(t.length/2),r=0,o=n.length;r<o;r++)n[r]=256*t[2*r]+t[2*r+1];var i=[];return n.forEach((function(t){i.push(e(t))})),a.decompress(i.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":a._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),a._decompress(e.length,32,(function(t){return o(n,e.charAt(t))})))},compress:function(t){return a._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,o,a,i={},u={},c="",s="",l="",f=2,p=3,d=2,h=[],m=0,g=0;for(a=0;a<e.length;a+=1)if(c=e.charAt(a),Object.prototype.hasOwnProperty.call(i,c)||(i[c]=p++,u[c]=!0),s=l+c,Object.prototype.hasOwnProperty.call(i,s))l=s;else{if(Object.prototype.hasOwnProperty.call(u,l)){if(l.charCodeAt(0)<256){for(r=0;r<d;r++)m<<=1,g==t-1?(g=0,h.push(n(m)),m=0):g++;for(o=l.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&o,g==t-1?(g=0,h.push(n(m)),m=0):g++,o>>=1}else{for(o=1,r=0;r<d;r++)m=m<<1|o,g==t-1?(g=0,h.push(n(m)),m=0):g++,o=0;for(o=l.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&o,g==t-1?(g=0,h.push(n(m)),m=0):g++,o>>=1}0==--f&&(f=Math.pow(2,d),d++),delete u[l]}else for(o=i[l],r=0;r<d;r++)m=m<<1|1&o,g==t-1?(g=0,h.push(n(m)),m=0):g++,o>>=1;0==--f&&(f=Math.pow(2,d),d++),i[s]=p++,l=String(c)}if(""!==l){if(Object.prototype.hasOwnProperty.call(u,l)){if(l.charCodeAt(0)<256){for(r=0;r<d;r++)m<<=1,g==t-1?(g=0,h.push(n(m)),m=0):g++;for(o=l.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&o,g==t-1?(g=0,h.push(n(m)),m=0):g++,o>>=1}else{for(o=1,r=0;r<d;r++)m=m<<1|o,g==t-1?(g=0,h.push(n(m)),m=0):g++,o=0;for(o=l.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&o,g==t-1?(g=0,h.push(n(m)),m=0):g++,o>>=1}0==--f&&(f=Math.pow(2,d),d++),delete u[l]}else for(o=i[l],r=0;r<d;r++)m=m<<1|1&o,g==t-1?(g=0,h.push(n(m)),m=0):g++,o>>=1;0==--f&&(f=Math.pow(2,d),d++)}for(o=2,r=0;r<d;r++)m=m<<1|1&o,g==t-1?(g=0,h.push(n(m)),m=0):g++,o>>=1;for(;;){if(m<<=1,g==t-1){h.push(n(m));break}g++}return h.join("")},decompress:function(e){return null==e?"":""==e?null:a._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var o,a,i,u,c,s,l,f=[],p=4,d=4,h=3,m="",g=[],v={val:r(0),position:n,index:1};for(o=0;o<3;o+=1)f[o]=o;for(i=0,c=Math.pow(2,2),s=1;s!=c;)u=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(u>0?1:0)*s,s<<=1;switch(i){case 0:for(i=0,c=Math.pow(2,8),s=1;s!=c;)u=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(u>0?1:0)*s,s<<=1;l=e(i);break;case 1:for(i=0,c=Math.pow(2,16),s=1;s!=c;)u=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(u>0?1:0)*s,s<<=1;l=e(i);break;case 2:return""}for(f[3]=l,a=l,g.push(l);;){if(v.index>t)return"";for(i=0,c=Math.pow(2,h),s=1;s!=c;)u=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(u>0?1:0)*s,s<<=1;switch(l=i){case 0:for(i=0,c=Math.pow(2,8),s=1;s!=c;)u=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(u>0?1:0)*s,s<<=1;f[d++]=e(i),l=d-1,p--;break;case 1:for(i=0,c=Math.pow(2,16),s=1;s!=c;)u=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(u>0?1:0)*s,s<<=1;f[d++]=e(i),l=d-1,p--;break;case 2:return g.join("")}if(0==p&&(p=Math.pow(2,h),h++),f[l])m=f[l];else{if(l!==d)return null;m=a+a.charAt(0)}g.push(m),f[d++]=a+m.charAt(0),a=m,0==--p&&(p=Math.pow(2,h),h++)}}};return a}();void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)},649:function(e){"use strict";e.exports=r},87:function(e){"use strict";e.exports=n},914:function(e){"use strict";e.exports=t},231:function(t){"use strict";t.exports=e}},a={};function i(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return o[e](n,n.exports,i),n.exports}i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var u={};return function(){"use strict";i.d(u,{default:function(){return aa}});var e={};i.r(e),i.d(e,{baseUrl:function(){return we},combinePath:function(){return xe},isSubPathOf:function(){return Ce},normalizePath:function(){return Pe},parsePath:function(){return Oe},removeQueryAndHash:function(){return ke},setBaseUrl:function(){return Se},toAbsoluteUrl:function(){return Ie},toRelativeUrl:function(){return je},toSegments:function(){return Ee},withBaseUrl:function(){return Ae}});var t={};i.r(t),i.d(t,{apiError:function(){return Xe},navigationCancelled:function(){return et},navigationRejected:function(){return tt},networkError:function(){return Ze},resourceError:function(){return Ke},timeout:function(){return nt},validationFailed:function(){return Ye}});var n={};i.r(n),i.d(n,{addStyleSheet:function(){return Ot},api:function(){return wt},cookie:function(){return bt},copyAttr:function(){return ft},deleteCookie:function(){return yt},getAttr:function(){return st},getAttrValues:function(){return it},getCookie:function(){return gt},getFormValues:function(){return dt},getJSON:function(){return St},getQueryParam:function(){return ht},hasAttr:function(){return ct},isBoolAttr:function(){return ut},loadScript:function(){return xt},openDeferredURL:function(){return kt},preloadImages:function(){return Pt},selectorForAttr:function(){return pt},setAttr:function(){return lt},setCookie:function(){return vt},setQueryParam:function(){return mt}});var r={};i.r(r),i.d(r,{createObjectStorage:function(){return Mt}});var o={};i.r(o),i.d(o,{addAnimateIn:function(){return cn},addAnimateOut:function(){return sn},animateIn:function(){return an},animateOut:function(){return un}});var a={};i.r(a),i.d(a,{addAsyncAction:function(){return Zr},closeFlyout:function(){return Xr},isFlyoutOpen:function(){return Kr},openFlyout:function(){return eo},toggleFlyout:function(){return Yr}});var c=i(231),s=c.util,l=s.always,f=s.any,p=s.arrRemove,d=s.camel,h=s.catchAsync,m=s.combineFn,g=s.createPrivateStore,v=s.deepFreeze,y=s.deferrable,b=s.define,w=s.defineAliasProperty,S=s.defineGetterProperty,x=s.defineHiddenProperty,O=s.defineObservableProperty,P=s.defineOwnProperty,k=s.definePrototype,A=s.delay,I=s.each,j=s.either,C=s.equal,E=s.errorWithCode,T=s.exclude,M=s.executeOnce,N=s.extend,R=s.fill,q=s.freeze,F=s.grep,U=s.hasOwnProperty,$=s.iequal,L=s.is,V=s.isArray,D=s.isFunction,_=s.isPlainObject,z=s.isThenable,H=s.isUndefinedOrNull,W=s.keys,B=s.kv,J=s.makeArray,G=s.makeAsync,Q=s.map,Z=s.mapGet,K=s.mapObject,X=s.mapRemove,Y=s.matchWord,ee=s.noop,te=s.pick,ne=s.pipe,re=s.randomId,oe=s.reject,ae=s.resolve,ie=s.resolveAll,ue=s.setImmediate,ce=s.setImmediateOnce,se=s.setIntervalSafe,le=s.setPromiseTimeout,fe=s.setTimeoutOnce,pe=s.single,de=s.throwNotFunction,he=s.trim,me=s.values,ge=s.watch,ve=s.watchOnce,ye=s.watchable,be={http:80,https:443},we="/";function Se(e){we=Pe(e,!0)}function xe(e,t){return e=Pe(e),"/"===(t=Pe(t))?e:"/"===e||t.indexOf("://")>0?t:e+t}function Oe(e){var t=document.createElement("a");return t.href=e,t}function Pe(e,t,n){if(!e||"/"===e)return n?"":"/";if(/(^(?:[a-z0-9]+:)?\/\/)|\?|#/.test(e)){var r=Oe(e);return((RegExp.$1&&(r.origin||r.protocol+"//"+r.hostname+(r.port&&+r.port!==be[r.protocol.slice(0,-1)]?":"+r.port:"")))+Pe(r.pathname,t,!0)||"/")+r.search+r.hash}if(e=String(e).replace(/\/+(\/|$)/g,"$1"),t&&/(^|\/)\.{1,2}(\/|$)/.test(e)){for(var o=e.split("/"),a=0;a<o.length;)"."===o[a]||".."===o[a]&&!a?o.splice(a,1):".."===o[a]?o.splice(--a,2):a++;e=o.join("/")}return"/"===e[0]?e:"/"+e}function ke(e){var t=e.indexOf("?")+1,n=e.indexOf("#")+1;return t||n?e.slice(0,Math.min(t||n,n||t)-1):e}function Ae(e){return e=Pe(e),we&&"/"===e[0]&&!Ce(e,we)?xe(we,e):e}function Ie(e){return e.indexOf("://")>0?e:location.origin+Ae(e)}function je(e){return Ce(e,location.origin)||e}function Ce(e,t){var n=t.length;return e.substr(0,n)===t&&(!e[n]||/[/?#]/.test(e[n])||"/"===t[n-1])&&("/"===e[n]?"":"/")+e.slice(n)}function Ee(e){return"/"===(e=Pe(e))?[]:e.slice(1).split("/").map(decodeURIComponent)}var Te=i(914),Me=c.css,Ne=Me.isCssUrlValue,Re=Me.parseCSS,qe=Me.runCSSTransition,Fe=c.util,Ue=Fe.bind,$e=Fe.containsOrEquals,Le=Fe.createNodeIterator,Ve=Fe.dispatchDOMMouseEvent,De=Fe.getClass,_e=Fe.getRect,ze=Fe.isVisible,He=Fe.iterateNode,We=Fe.matchSelector,Be=Fe.rectIntersects,Je=Fe.selectClosestRelative,Ge=Fe.selectIncludeSelf,Qe=Fe.setClass,Ze="brew/network-error",Ke="brew/resource-error",Xe="brew/api-error",Ye="brew/validation-failed",et="brew/navigation-cancelled",tt="brew/navigation-rejected",nt="brew/timeout",rt={},ot={},at={};function it(e){var t={};return I(e.attributes,(function(e,n){t[n.name]=n.value})),t}function ut(e,t){return"itemscope"===t||at[t]in Object.getPrototypeOf(e)}function ct(e,t){return!!e.attributes[t]}function st(e,t){return e.getAttribute(t)}function lt(e,t,n){"string"!=typeof t?I(t,lt.bind(0,e)):null===n?e.removeAttribute(t):(n=String(n),st(e,t)!==n&&e.setAttribute(t,n))}function ft(e,t){I(e.attributes,(function(e,n){lt(t,n.name,n.value)}))}function pt(e){return _(e)&&(e=W(e)),e[0]?"["+e.join("],[")+"]":""}function dt(e){var t={};return I(e.elements,(function(n,r){if(r.name&&!(r.name in t)){var o=e.elements[r.name];S(t,r.name,(function(){return"checkbox"===o.type?o.checked:o.value}))}})),t}function ht(e,t){H(t)&&(t=location.search);var n=new RegExp("[?&]"+e+"=([^&#]*)|#","i").exec(t)||[];return void 0!==n[1]&&decodeURIComponent(n[1])}function mt(e,t,n){H(n)&&(n=location.search);var r=new RegExp("([?&])"+e+"=[^&#]*(&?)|(?=#)|(?:\\?)?$","i");return n.replace(r,(function(n,r,o,a,i){return o=o||"",t||""===t?(r||(a&&a>=(i.lastIndexOf("?",a)+1||i.length+1)?"&":"?"))+e+"="+encodeURIComponent(t)+o:o&&r}))}function gt(e){return new RegExp("(?:^|\\s|;)"+e+"=([^;]+)").test(document.cookie)&&RegExp.$1}function vt(e,t,n){return document.cookie=e+"="+t+";path=/"+(n?";expires="+new Date(Date.now()+n).toGMTString():""),t}function yt(e){document.cookie=e+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT"}function bt(e,t){return{get:function(){return gt(e)},set:function(n){return vt(e,n,t)},delete:function(){return yt(e)}}}function wt(e,t){var n="get post put delete";if("string"==typeof e&&Y(e,n))return wt(t=N({},"string"==typeof t?{baseUrl:t}:t,{methods:e}))[e];var r={baseUrl:(e=N({},e)).baseUrl,token:e.token};return I(e.methods||n,(function(t,o){Y(o,n)&&(x(r,o,(function t(n,a){if(!r.baseUrl)return ve(r,"baseUrl",(function(){return t(n,a)}));var i={"Content-Type":"application/json"};return r.token&&(i.Authorization="Bearer "+r.token),Te.ajax({method:o,url:xe(r.baseUrl,n),headers:i,dataType:"json",data:JSON.stringify(a||{}),success:function(t){D(e.getTokenFromResponse)&&(r.token=e.getTokenFromResponse(t,r.token))}}).catch((function(e){if(0===e.status)throw E(Ze);var t=e.responseJSON;if(t)throw console.error(n+":",t.error||t.message),E(Xe,t.error||t.message);throw E(Xe,e.statusText)}))})),w(r[o],"baseUrl",r),w(r[o],"token",r))})),r}function St(e){return Te.getJSON(Ae(e))}function xt(e,t){return V(e)?e.reduce((function(e,n){return e.then((function(){return xt(n,t)}))}),ae()):(ot[e]||(ot[e]=new Promise((function(n,r){var o=document.createElement("script");if((t=t||{}).nomodule){if("noModule"in o)return void n();o.setAttribute("nomodule","")}t.module&&o.setAttribute("type","module"),o.addEventListener("load",(function(){n({})})),o.addEventListener("error",(function(){r(E(Ke))})),o.src=Ae(e),document.head.appendChild(o)}))),ot[e])}function Ot(e,t){var n=document.createElement("link");n.rel="stylesheet",n.href=Ae(e),t&&(n.media=t),document.head.appendChild(n)}function Pt(e,t){if(!V(e)){var n={},r=function(e){Ne(e)&&(n[RegExp.$1||RegExp.$2||RegExp.$3]=!0)};He(Le(e,1),(function(e){We(e,"img")&&e.src&&(n[e.src]=!0),r(getComputedStyle(e).backgroundImage),r(getComputedStyle(e,"::before").backgroundImage),r(getComputedStyle(e,"::after").backgroundImage)})),e=W(n)}var o=[],a=[];return e.forEach((function(e){o.push(rt[e]||(rt[e]=new Promise((function(t){a.push(e),Te("<img>").on("load error",(function(){rt[e]=!0,t()})).attr("src",e)}))))})),!o.length||o.every((function(e){return!0===e}))?ae():(a.length&&console.log("Preload image",{urls:a}),Promise.race([A(t),ie(me(rt))]))}function kt(e,t,n,r){var o=window.open(t||"data:text/html;base64,TG9hZGluZy4uLg==",n||"_blank",r||"");return o?e.then((function(e){return!o.closed&&(o.location.replace(e),!0)}),(function(e){throw o.close(),e})):ae(!1)}I("allowFullscreen async autofocus autoplay checked controls default defer disabled formNoValidate isMap loop multiple muted noModule noValidate open playsInline readOnly required reversed selected trueSpeed",(function(e,t){at[t.toLowerCase()]=t}));var At=i(992),It=At.compressToUTF16,jt=At.decompressFromUTF16;function Ct(e){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(e)}var Et="undefined";function Tt(e){return e&&"object"===Ct(e)}function Mt(e,t){var n={},r=new WeakMap,o=new Set,a=Object.create(null),i=function(n){try{var r=jt(e.getItem(t)).split("\n");return N(n,JSON.parse(r[0])),r}catch(e){}}(a)||["{}"],u=Q(i,(function(e,t){return e?null:t}));function c(){return u.length?u.shift():i.push("")-1}function s(e,t){n[e]=t,Tt(t)&&r.set(t,+e)}function l(e){r.delete(n[e]),delete n[e]}function f(e,t){var n=0;return JSON.stringify(e,(function(e,a){if(!Tt(a))return"string"==typeof a&&"#"===a[0]?"#"+a:a;if(function(e){return e===window||L(e,RegExp)||L(e,Blob)||L(e,Node)}(a))return n?void 0:{};if(!n++)return a;var u=r.get(a)||c();return s(u,a),t[u]||(t[u]=!0,i[u]=f(a,t),o.delete(a)),"#"+u}))}function p(e,t){if(e&&e!==Et)return JSON.parse(e,(function(e,r){return"string"==typeof r&&"#"===r[0]&&"#"!==(r=r.slice(1))[0]?(r in n?void 0===n[r]&&t.push({o:this,k:e,v:r}):(n[r]=void 0,s(r,p(i[r],t))),n[r]):r}))}function d(e,t){var r=a[e];if(r&&i[r]&&!(r in n))try{var o=[],u=p('{"": "#'+r+'"}',o)[""];I(o,(function(e,t){t.o[t.k]=n[t.v]})),t&&(l(r),s(r,t(u)))}catch(e){i[r]=Et}return n[r]}function h(){var n={};I(o,(function(e,t){var o=r.get(t);o&&(i[o]=f(t,n))})),n={0:!0},I(a,(function e(t,r){n[r]||(n[r]=!0,i[r].replace(/[\[:,]"#(\d+)"/g,e))})),I(i,(function(e){!n[e]&&i[e]&&(i[e]="",u.push(e),l(e))})),o.clear(),i[0]=JSON.stringify(a),e.setItem(t,It(i.join("\n").trim()))}return{keys:function(){return W(a)},has:function(e){return!!a[e]},get:function(e){return d(e)},revive:function(e,t){return l(a[e]),d(e,t)},set:function(e,t){var u=r.get(t)||function(e){var t=a[e];return t&&!(t in n?Tt(n[t]):/^[\[\{]/.test(i[t]))?t:c()}(e);a[e]=u,Tt(t)?(s(u,t),o.add(t)):i[u]=f(t)||Et,ce(h)},persist:function(e){o.add(e),ce(h)},persistAll:function(){I(a,(function(e,t){Tt(n[t])&&o.add(n[t])})),ce(h)},delete:function(e){a[e]&&(delete a[e],ce(h))},clear:function(){i.splice(0,i.length,"{}"),u.splice(0),o.clear(),r=new WeakMap,n={},a=Object.create(null),ce(h)}}}var Nt=c.dom,Rt=Nt.createAutoCleanupMap,qt=Nt.registerCleanup,Ft=Nt.watchAttributes,Ut=Nt.watchElements,$t=Nt.watchOwnAttributes,Lt=c.dom,Vt=Lt,Dt=Lt.beginDrag,_t=Lt.blur,zt=Lt.focus,Ht=Lt.focusable,Wt=Lt.focused,Bt=Lt.releaseFocus,Jt=Lt.releaseModal,Gt=Lt.retainFocus,Qt=Lt.setModal,Zt=Lt.setTabRoot,Kt=Lt.textInputAllowed,Xt=Lt.unsetTabRoot,Yt={},en={},tn=Rt(ee),nn=Ut(Vt.root,"[animate-in],[animate-sequence],[is-animate-sequence]",(function(e){e[0]&&I(tn,(function(e,t){I(t,(function(e,t){t.start()}))}))}));function rn(e,t,n,r){var o="show"===t?':not([animate-on]), [animate-on~="'+t+'"]':'[animate-on~="'+t+'"]';return function(t){return We(t,o)&&(!n||$e(Te(t).closest(n)[0]||Vt.root,e))&&(!r||r(t))&&ze(t)}}function on(e,t,n,r,o){var a=new WeakMap,i=y(),u=le(i,1500).catch((function(){console.warn("Animation might take longer than expected",{element:e,animationType:t,animationTrigger:n})})),c=M((function(){Vt.emit("animationstart",e,{animationType:t,animationTrigger:n},!0),u.then((function(){Vt.emit("animationcomplete",e,{animationType:t,animationTrigger:n},!0)}))})),s=function(e){"inline"===Te(e).css("display")&&Te(e).css("display","inline-block");var n=R(st(e,"animate-in")||"",!0),o=1e3*parseFloat(Te(e).css("transition-delay"))||0;c(),i.waitFor(qe(e,"tweening-"+t),Vt.emit("animate"+t,e)),I(r,(function(t,r){if(n[t]||e.attributes[t]){var a=r.bind(void 0,e,st(e,t)||"");i.waitFor(o?A(o,a):a())}}))};return{promise:u.then(o),animate:s,sequence:function(e,n,r){var o=Z(a,e,Array),u=st(e,"animate-sequence-reverse"),l=st(e,"animate-sequence")||"",f=Te(e).find(">"===l[0]?l:Te(l)).filter(n).attr(r||{}).get();""!==u&&u!==t||f.reverse(),I(f,(function(e,t){o.indexOf(t)<0&&1===o.push(t)&&(c(),i.waitFor(A(50,(function e(){return s(o.shift()),o[0]&&A(50,e)}))))}))}}}function an(e,t,n,r){var o=Z(tn,e,Object),a=o[t]||(o[t]={start:!0===r?an.bind(0,e,t,n):ee}),i=rn(e,t,n,D(r)),u=a.anim||(a.anim=on(e,"in",t,Yt,(function(){a.anim=null})));return Ge("[animate-in]:not([is-animate-sequence],.tweening-in)",e).filter(i).forEach((function(e){u.animate(e)})),Ge("[animate-sequence]",e).filter(i).forEach((function(e){De(e,"tweening-in")||(lt(e,"animate-in",""),u.animate(e)),u.sequence(e,":not(.tweening-in)",{"animate-in":st(e,"animate-sequence-type")||"","animate-on":t,"is-animate-sequence":""})})),nn(!0),u.promise}function un(e,t,n,r,o){var a=rn(e,t,n,r),i=Ge(".tweening-in,[animate-out]",e);o&&i[0]===e&&i.splice(0,1);var u=i.filter(a),c=on(e,"out",t,en,(function(){Te("show"===t?i:u).removeClass("tweening-in tweening-out")}));return Te(u).filter("[animate-out]:not([is-animate-sequence],.tweening-out)").each((function(e,t){c.animate(t)})),Te(u).filter("[animate-out][animate-sequence]").each((function(e,t){c.sequence(t,".tweening-in")})),delete Z(tn,e,Object)[t],c.promise}function cn(e,t){Yt[e]=de(t)}function sn(e,t){en[e]=de(t)}var ln=i(87),fn=ln,pn=ln;pn.pipes["{"]=function(e,t){var n=t.globals,r=n.new,o={};for(n.new=o;t.hasArgs();){var a=t.raw();if("}"===a)break;o[String(a).replace(/:$/,"")]=t.next()}return n.new=r,o},pn.pipes["{"].varargs=!0;var dn=c.dom,hn=dn.cancelLock,mn=dn.locked,gn=dn.notifyAsync,vn=dn.preventLeave,yn=dn.subscribeAsync,bn=c.EventContainer,wn="__BREW__";if(window[wn])throw new Error("Another copy of brew-js is instantiated. Please check your dependencies.");x(window,wn,!0,!0);var Sn,xn,On,Pn,kn,An={},In=new bn,jn=Vt.root,Cn={},En={},Tn={},Mn=[];function Nn(e){return function(t){if(t.target===t.context)return e.apply(this,arguments)}}function Rn(e,t,n){return _(e)?n?K(e,Nn):e:(n&&(t=Nn(t)),(e.indexOf(" ")>=0?R:B)(e,t))}function qn(e,t,n,r,o){if(Tn[t])throw new Error("Extension"+t+"is already initiated");var a=(n=F(n,(function(e){return!Tn[e.replace(/^\?/,"")]}))).length||1,i=function(n){n&&! --a&&(Tn[t]=!0,o(e,r||{}),En[t]&&m(En[t].splice(0))(!0))};n[0]?I(n,(function(e,t){var n=t.replace(/^\?/,"");(En[n]||(En[n]=[])).push(n===t?i:i.bind(0,!0))})):i(!0)}function Fn(e,t,n){var r=d("use-"+e);k(Un,B(r,(function(r){qn(this,e,t,r,n)})))}function Un(){var e=this,t=O(e,"readyState","init",!0);P(e,"element",jn,!0),P(e,"ready",new Promise((function(t,n){Pn=t.bind(0,e),kn=n})),!0),l(e.ready,(function(e,n){t(e?"ready":"error"),e?(xn=!0,Sn.emit("ready")):console.error(n)}))}k(Un,{emit:function(e,t,n,r){if(!L(t,Node))return In.emit(e,this,t,n);var o=Vt.emit(e,t,n,r);return o||t!==jn&&!0!==r&&!(r||"").bubbles||(n=N({target:t},_(n)||{data:n}),o=In.emit(e,this,n,r)),o},define:function(e){b(this,e)},beforeInit:function(e){D(e)&&(e=G(e).call(this)),On.waitFor(e.then(null,kn))},halt:function(){On.waitFor(new Promise(ee))},isElementActive:function(){return!0},detect:function(e,t){var n=this,r={};I(e,(function(e,t){Cn[t]&&(r[t]=D(Cn[t])?Cn[t]=ie(Cn[t]()).catch((function(e){return console.warn("Detection for "+t+" has thrown exception:",e),!1})):Cn[t])})),this.beforeInit(ie(r,(function(e){return e=Object.freeze(N({},n.supports,e)),b(n,{supports:e}),D(t)&&t(e)})))},when:function(e,t){this.beforeInit(ie(e,(function(e){if(e)return t()})))},on:function(e,t,n,r){if(D(t)||void 0===t)return In.add(this,Rn(e,t));var o=Rn(t,n,!0===(r||n));return L(e,Node)?Vt.on(e,o):m(Te(e).get().map((function(e){return Vt.on(e,o)})))},matchElement:ee,beforeUpdate:ee}),ye(Un.prototype);var $n=new Un;function Ln(e){if(de(e),On)throw new Error("brew() can only be called once");return On=y(Vt.ready),Sn=$n,I(An,(function(e,t){var n=t&&D(Sn[d("use-"+e)]);n&&n.call(Sn,t)})),I(Mn,(function(e,t){_(t)?b(Sn,t):de(t)(Sn)})),Sn.beforeInit(G(e)(Sn)),I(En,(function(e,t){m(t)()})),!0,gn(jn,On),On.then(Pn),Ue(window,"pagehide",(function(e){Sn.emit("unload",{persisted:e.persisted},{handleable:!1})})),Sn}function Vn(e,t,n,r){return r=de(r||n||t),n=V(n)||V(t)||[],function(o){!0===e?qn(o,t,n,{},r):Fn(e,n,r)}}function Dn(){return $n.emit.apply($n,arguments)}function _n(e){return!Sn||Sn.isElementActive(e)}Sn={on:$n.on.bind($n)},b(Ln,{with:function(){return Mn.push.apply(Mn,arguments),this}});var zn=Ln;function Hn(e){return Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(e)}function Wn(e,t){return"["+e+"] "+(t=J(t).map((function(e){return L(e,Element)?(n=e).tagName.toLowerCase()+(n.id?"#"+n.id:n.className.trim()&&n.className.replace(/^\s*|\s+(?=\S)/g,"."))+":":e&&"object"===Hn(e)?(t=JSON.stringify(e),'[{"]'.indexOf(t[0])>=0&&t.length>200?t[0]+t.substr(1,199)+"…"+t[t.length-1]:t):e;var t,n})).join(" "))}function Bn(e,t,n){var r;try{console.groupCollapsed(Wn(e,t)),r=!0}catch(e){}try{n(console)}finally{if(r)try{console.groupEnd()}catch(e){}}}var Jn=g(),Gn=Vt.root,Qn=new Set,Zn=new Map,Kn=[],Xn=[],Yn=[],er={},tr={},nr=0,rr=!1;function or(e,t){var n=Jn(t)||Jn(t,{});return n[e]||(n[e]={})}function ar(e,t,n){I(t,(function(t,n){"$$class"===t?Qe(e,n):"$$text"===t?e.textContent=n:"$$html"===t?e.innerHTML=n:"style"===t?Te(e).css(n):ut(e,t)?lt(e,t,n?"":null):e.setAttribute(t,n)})),n||Vt.emit("domchange",e)}function ir(e,t){I(t,(function(t,n){e[t]="$$class"===t||"style"===t?N({},e[t],n):n}))}function ur(e,t){var n=pt(er);if(n){var r,o=new Set;do{e=F(J(e),(function(e){return $e(Gn,e)})),r=J(o),Te(Ge(n,e)).not(r).each((function(e,n){I(er,(function(e,r){n.attributes[e]&&$e(Gn,n)&&(r(n,or.bind(0,e),t),o.add(n))}))}))}while(r.length!==o.size)}}function cr(e,t,n){var r=pt(tr);if(r){var o=[];I(e.reverse(),(function(e,a){Bn("statechange",[a,t?t.get(a).newValues:{}],(function(e){e.log(a===Gn?document:a),Te(Ge(r,a)).not(o).each((function(e,t){I(tr,(function(e,r){t.attributes[e]&&r(t,or.bind(0,e),n)})),o.push(t)}))}))}))}}function sr(e,t,n,r){var o=[],a={target:e,doMount:t.mounted||Y(t,"mounted"),add:function(e){o.push(Sn.on(e,t,n,r))}};return Yn.push(a),o.push((function(){a.disposed=!0,ue((function(){p(Yn,a)}))})),m(o)}function lr(e,t){var n=function(n){Te(Ge(e,n)).each((function(e,n){t.call(n,n)}))};Xn.push(n),xn&&n(Gn)}function fr(e){Kn.push(de(e))}function pr(e){$e(Gn,e)&&Qn.add(e)}function dr(e){if(!nr&&!rr){var t=new Map,n=new Map,r=function(e,t){ir(Z(n,e,Object),t)};rr=!0;try{Bn(Vt.eventSource,"statechange",(function(){ur(Qn,r);var e=Te.uniqueSort(F(Qn,(function(e){return $e(Gn,e)})));Qn.clear(),I(e,(function(e,n){var r=or("oldValues",n),o={},a={};for(I(Er(n,!0),(function(e,t){r[e]!==t&&(o[e]=r[e],a[e]=t,r[e]=t)})),t.set(n,{oldValues:o,newValues:a});n=n.parentNode;){var i=t.get(n);if(i)for(var u in i.newValues)u in a||(a[u]=i.newValues[u],o[u]=i.oldValues[u])}})),cr(e,t,r)})),ie(Kn.map((function(e){return e(n)}))).then((function(){var r=new Map;e||I(t,(function(e){var n=Te(e).filter("[match-path]")[0]||Te(e).parents("[match-path]")[0]||Gn,o=r.get(n);if(!o){var a=function(e){var n,r=e.getAttribute("animate-on-statechange");if(!r)return!0;for(;e&&!(n=t.get(e));e=e.parentNode);return n&&f(r,(function(e){return e in n.newValues}))};o=[],ue((function(){un(n,"statechange","[match-path].hidden",a,!0).then((function(){I(o,(function(e,t){ar(t,X(Zn,t))})),an(n,"statechange","[match-path].hidden",a)}))})),r.set(n,o)}Z(Zn,e,Object),o.push(e)})),I(n,(function(e,t){Zn.has(e)?ir(Zn.get(e),t):ar(e,t)})),I(t,(function(e,t){Dn("statechange",e,{data:Er(e),newValues:t.newValues,oldValues:t.oldValues},!0)}))}))}finally{rr=!1}}}function hr(e,t){var n=!0;try{nr=(nr||0)+1,de(t||e)()}catch(e){throw n=!1,e}finally{! --nr&&n&&dr(!0===e)}}function mr(e){var t=rr;rr=!0,Cr(e);try{var n=function(e,t){ar(e,t,!0)};ur(e,n),cr([e],null,n)}finally{rr=t}for(var r=new Set([e]),o=e===Gn,a=-1,i=0;a<Yn.length;)I(Yn.slice(a<0?0:a),(function(t,n){if(!n.disposed){var o=Ge(n.target,e);o[0]&&(a<0&&n.add(o),n.doMount&&I(o,(function(e,t){r.add(t)})))}})),a=Yn.length,I(Te.uniqueSort(J(r).slice(i)),(function(e,t){Dn("mounted",t)})),o||(o=!0,Dn("mounted",Gn,{target:e})),i=r.size;m(Xn)(e),pr(e),ce(dr)}function gr(e,t){er[e]=de(t)}function vr(e,t){tr[e]=de(t)}var yr=c.InheritedNodeTree,br=Vt.root,wr={var:!0,"auto-var":!0,"loading-scope":{loading:!1},"error-scope":{error:null}},Sr={get app(){return Sn}},xr=new yr(br,(function(){var e=this,t=e.element;I(t.dataset,(function(t,n){P(e,t,fn.eval("`"+he(n||"null")))})),I(Pr(t,!0,e),(function(t,n){P(e,t,n)})),t===br&&(e.loading=null,e.error=null)}),{selector:pt(wr)}),Or=!0;function Pr(e,t,n){var r={};return I(wr,(function(o,a){if(e.attributes[o]){if(!0===a&&(a=Nr(e,o,!1,n),!_(a)))return;for(var i in a)r[i]=void 0===a[i]||t?null:a[i]}})),r}function kr(e,t){t=t||br;for(var n=xr.getNode(t);null!==n;n=Object.getPrototypeOf(n))if(U(n,e))return n;return console.warn("Undeclared state: %s",e,{element:t}),xr.setNode(t)}function Ar(e,t){return kr(e,t).element}function Ir(e,t,n){var r=t&&(_(t)||B(t,n)),o=!1;if("string"==typeof e)hr((function(){Te(e).each((function(e,t){o|=Ir(t,r)}))}));else{var a=xr.setNode(e);I(r||Nr(e,"set-var"),(function(t,n){if(a[t]!==n){var r=kr(t,e);r[t]=n,o=!0,pr(r.element)}})),o&&xn&&ce(dr)}return!!o}function jr(e,t,n){var r=_(t)||B(t,n),o=xr.setNode(e),a={};for(var i in r)D(r[i])?S(o,i,r[i],ee):(P(o,i,o[i]),a[i]=r[i]);return Ir(e,a)}function Cr(e,t){hr((function(){I(xr.descendants(e),(function(e,n){Ir(n.element,Pr(n.element,t))}))}))}function Er(e,t){var n=Or&&(function(e){for(var t in e.dataset)return!0}(e)?xr.setNode(e):xr.getNode(e))||{};if(!0!==t)return t?n[t]:N({},n);if(n.element!==e)return{};var r=Object.getOwnPropertyNames(n);return r.splice(r.indexOf("element"),1),te(n,r)}function Tr(e,t){return e?fn.eval(e,N({},t),{globals:Sr}):null}function Mr(e,t,n){return e?fn(e,N({},t),{globals:Sr,html:!!n}):""}function Nr(e,t,n,r){return(n?Mr:Tr)(st(e,t),r||Er(e))}xr.on("update",(function(e){I(e.updatedNodes,(function(e,t){pr(t.element)}))}));var Rr=Vt.root,qr=new bn,Fr=function(e){return H(e)?null:String(e)},Ur=function(e){return H(e)||isNaN(e)?null:+e},$r={string:[ne,Fr],number:[Ur,function(e){return Fr(Ur(e))}],boolean:[function(e){return!H(e)},function(e){return e?"":null}]};function Lr(e){P(this,"element",e,!0)}function Vr(){}function Dr(e){var t=Q(e.directives,(function(e){return e.attribute})),n=K(e.directives,(function(e){var t=e.attribute,n=$r[e.type]||$r.string;return{get:function(e){return n[0](st(e,t))},set:function(e,r){return r=n[1](r),lt(e,t,r),n[0](r)}}})),r=function(e){var r=this;if(P(r,"element",e,!0),t[0]){var o=function(){I(n,(function(t,n){r[t]=n.get(e)}))};o();var a=$t(e,t,o);r.on("destroy",a.dispose)}};return k(r,Vr),I(n,(function(e){O(r.prototype,e,null,(function(t){return n[e].set(this.element,t)}))})),r}function _r(e){return new Lr(e)}function zr(e,t,n){var r=Dr(n),o=new WeakMap,a=Ut(Rr,t,(function(e,t){I(t,(function(e,t){qr.emit("destroy",X(o,t).context)})),I(e,(function(e,t){var a=new r(t);o.set(t,{component:n.component(t,a),context:a})}))}),!0);S(Lr.prototype,e,(function(){var e=this.element;return!o.has(e)&&We(e,t)&&a(),(o.get(e)||"").component||null}))}k(Vr,{on:function(e,t){return qr.add(this,e,t)}}),ye(Vr.prototype);var Hr="[disabled],.disabled,:disabled",Wr=Vt.root,Br=Rt((function(e,t){t.resolve()})),Jr=new Map,Gr={};function Qr(e){e.preventDefault(),e.stopImmediatePropagation()}function Zr(e,t){Gr[e]=de(t)}function Kr(e){var t=Br.get(Te(e)[0]);return!!t&&!t.closePromise}function Xr(e,t){var n=Te(e||"[is-flyout].open").get();return ie(n.map((function(e){var n=Br.get(e);if(!n)return ae();var r=n.closePromise;return r||(r=ie([qe(e,"closing"),un(e,"open")].map(h),(function(){Br.get(e)===n&&(Br.delete(e),Qe(e,{open:!1,closing:!1,visible:!1}),Vt.emit("flyouthide",e))})),n.closePromise=r,n.resolve(t),Jt(e),Bt(e),_t(e),n.source&&Qe(n.source,"target-opened",!1),Vt.emit("flyoutclose",e)),r})))}function Yr(e,t,n){return eo(e,null,t,n,!0)}function eo(e,t,n,r,o){var a=Te(e)[0];if(!a)return oe();(L(t,Node)||_(n))&&(r=n,n=t,t=null);var i=Br.get(a);if(i&&!i.closePromise)return!0===(o||r)?Xr(a,n&&fn.eval("`"+n.value)):i.path=Sn.path,i.promise;r=N({focus:!n||!Kt(n),tabThrough:ct(a,"tab-through"),modal:ct(a,"is-modal")},r);var u,c=n;c||Ht(a)||(c=Vt.modalElement);var s=new Promise((function(e){u=e}));Br.set(a,{source:n,promise:s,resolve:u,path:Sn.path}),c&&Gt(c,a),n&&Qe(n,"target-opened",!0),t&&Sn.setVar&&Sn.setVar(a,t),Qe(a,{visible:!0,closing:!1}),ie([qe(a,"open"),an(a,"open")].map(h),(function(){if(r.focus&&!Wt(a)){var e=!0===r.focus?a:Te(a).find(r.focus)[0];e?zt(e):zt(a,!1)}})),r.modal&&Qt(a),r.tabThrough?Xt(a):Zt(a);var f=function(e){var t=a.getAttribute("swipe-dismiss");("focusout"===e.type?t||!1===r.closeOnBlur:e.data!==d("swipe-"+t))||(Xr(a),Vt.event&&Vt.event.preventDefault(),e.handled())};return l(s,m(Vt.on(n||a,"focusout",f),Vt.on(a,"gesture",f))),Vt.emit("flyoutshow",a,{data:t}),s}function to(e){return to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},to(e)}function no(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?no(Object(n),!0).forEach((function(t){oo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):no(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oo(e,t,n){var r;return r=function(e,t){if("object"!=to(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=to(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==to(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n,r){var o=new WeakMap,a=function(e,a){lt(a,t,e?"":null),e?o.has(a)||o.set(a,D(n(a))||r&&r.bind(void 0,a)):(X(o,a)||ee)()};Ut(Rr,"["+t+"]",(function(e,t){t.forEach(a.bind(0,!1)),e.forEach(a.bind(0,!0))})),S(Lr.prototype,e,(function(){return null!==st(this.element,t)}),(function(e){return a(e,this.element)}))}("enableLoadingClass","loading-class",(function(e){return yn(e,(function(t){t?Qe(e,"loading",t):h(qe(e,"loading-complete",(function(){Qe(e,"loading",!1)})))}))})),Vt.ready.then((function(){function e(t){var n=t.currentTarget;if(We(n,Hr))return X(Jr,n),void Qr(t);var r=Z(Jr,n,Array),o=null,a=function(e){Ht(n)?e(t):X(Jr,n)};if(I(Gr,(function(e,t){if(n.attributes[e]&&r.indexOf(t)<0)return o=t,!1})),o){r.push(o);var i=o.call(n,t);t.isImmediatePropagationStopped()||(z(i)?(Qr(t),gn(n,i),i.then((function(){a(Ve)}),(function(e){Jr.delete(n),console.warn("Action threw an error:",e)}))):a(e))}else Jr.delete(n)}Ut(Wr,"[tab-root]",(function(e,t){e.forEach(Zt),t.forEach(Xt)}),!0),Sn.on("mounted",(function(e){var t=pt(Gr);t&&Te(Ge(t,e.target)).attr("async-action","")})),Sn.on("beforepageload",(function(){Br.forEach((function(e,t){e.path&&e.path!==Sn.path&&Xr(t)}))})),Ut(Wr,"[async-action]",(function(t,n){Te(t).on("click",e),Te(n).off("click",e)})),Te("body").on("submit","form:not([action])",(function(e){e.preventDefault()})),Te("body").on("click",Hr,Qr),Te("body").on("click","a[href]:not([download]), [data-href]",(function(e){if(!e.isDefaultPrevented()){var t=e.currentTarget,n=(t.origin===location.origin?"":t.origin)+t.pathname+t.search+t.hash,r=t.getAttribute("data-href");if(e.stopPropagation(),!(o=t.target)||"_self"===o||o===window.name){var o,a=function(){console.warn("Navigation cancelled")};"navigate"in Sn&&(r||Sn.isAppPath(n))?(e.preventDefault(),Sn.navigate(r||Sn.fromHref(n)).catch(a)):mn(Wr)&&(e.preventDefault(),hn(Wr).then((function(){var e=F([Y(t.rel,"noreferrer"),Y(t.rel,"noopener")],ne);window.open(r||n,"_self",e.join(","))}),a))}}}))}));var ao=ro(ro(ro(ro(ro(ro({ErrorCode:t,defaults:An},n),r),e),o),a),{},{getDirectiveComponent:_r,registerDirective:zr,getVar:Er,setVar:Ir,declareVar:jr,evalAttr:Nr,isElementActive:_n,handleAsync:function(e,t,n){return z(e)?(gn(t||Gn,e),e.then(n)):G(n||ee)()},preventLeave:function(e){return e?mn(Gn):hn(Gn)},install:function(e,t){Fn(e,[],de(t))},addDetect:function(e,t){Cn[e]=de(t)},addExtension:Vn,addRenderer:vr,addTransformer:gr,addTemplate:function(e,t){Te(t).clone().attr("brew-template",e).appendTo(document.body)}});b(zn,ao);var io=zn,uo=Vn("config",(function(e,t){var n=ye();b(e,{config:n}),e.beforeInit(St(t.path).catch(D(t.fallback)||null).then((function(e){N(n,e),t.freeze&&v(n)})))})),co={},so=Vt.root,lo=Vn(!0,"template",(function(e){var t=e.on.bind(e);e.define({getVar:Er,setVar:Ir,matchElement:lr,beforeUpdate:fr,on:function(e,n,r,o){var a=t(e,n,r,o);return D(n)||"string"!=typeof e?a:m(a,sr(e,n,r,o))}}),e.on("ready",(function(){mr(so)})),gr("apply-template",(function(e,t){var n=t(e),r=st(e,"apply-template"),o=co[r]||co[Nr(e,"apply-template")],a=n.template;if(n.attributes||N(n,{attributes:it(e),childNodes:J(e.childNodes)}),o&&o!==a){n.template=o,o=o.cloneNode(!0),a&&I(a.attributes,(function(t,n){e.removeAttribute(n.name)})),lt(e,n.attributes),ft(o,e);var i=Te(n.childNodes).detach();Te(Ge("content:not([for])",o)).replaceWith(i),Te(Ge("content[for]",o)).each((function(e,t){Te(t).replaceWith(i.filter(st(t,"for")||""))})),Te(e).empty().append(o.childNodes)}})),gr("auto-var",(function(e){Ir(e,Nr(e,"auto-var"))})),gr("foreach",(function(e,t){var n=t(e),r=n.template||(n.template=Te(e).contents().detach().filter((function(e,t){return 1===t.nodeType||/\S/.test(t.data||"")})).get()),o=n.nodes||[],a=n.data||[],i=J(Nr(e,"foreach"));if(i.length!==a.length||i.some((function(e,t){return a[t]!==e}))){var u=Q(i,(function(n){var i=a.indexOf(n);if(i>=0)return a.splice(i,1),o.splice(i*r.length,(i+1)*r.length);var u=Te(r).clone().get(),c=Te(Ge("[foreach]",u));return c[0]&&Te(Ge("[foreach]",r)).each((function(e,n){t(c[e]).template=t(n).template})),I(u,(function(t,r){1===r.nodeType&&(Te(e).append(r),jr(r,{foreach:n}),mr(r))})),u}));N(n,{nodes:u,data:i.slice()}),Te(o).detach(),Te(e).append(u)}})),gr("switch",(function(e,t,n){var r=st(e,"switch")||"";if(_n(e)&&r){var o=t(e);void 0===o.matched&&jr(e,"matched",(function(){return o.matched&&Er(o.matched,!0)}));var a,i,u,c=Er(e),s=fn.eval(r,c),l=Te("[match-"+r+"]",e).filter((function(t,n){return Te(n).parents("[switch]")[0]===e})),f=!Y("switch",st(e,"keep-child-state")||""),p=o.matched,d=new Map;l.each((function(e,t){var n=fn.eval('"null" ?? '+st(t,"match-"+r),Er(t));if(d.set(t,n),fn.eval("$0 == $1",[s,n]))return a=t,!1})),a=a||l.filter("[default]")[0]||l[0]||null,p!==a?Bn("switch",[e,r,"→",s],(function(e){e.log("Matched: ",a||"(none)"),a&&(f&&Cr(a),Ir(a)),p&&f&&Cr(p,!0),l.each((function(e,t){n(t,{$$class:{active:t===a}})}))})):(i="switch",u=[e,r,"→",s,"(unchanged)"],console.log(Wn(i,u)),r in c&&void 0!==d.get(a)&&Ir(e,r,d.get(a))),o.matched=a}})),vr("template",(function(e,t,n){var r=t(e),o=r.templates;o||(o={},I(e.attributes,(function(t,n){var r;r=n.name,!er[r]&&!tr[r]&&n.value.indexOf("{{")>=0&&(o[n.name]=ut(e,n.name)?n.value.replace(/^{{|}}$/g,""):n.value)})),!e.childElementCount&&(e.textContent||"").indexOf("{{")>=0&&(o.$$html=e.textContent.replace(/(\{\{(?:\}(?!\})|[^}])*\}*\}\})|</g,(function(e,t){return t||"&lt;"}))),r.templates=o);var a=Er(e),i={};I(o,(function(t,n){var r=function(e,t,n,r,o){return(o?Mr:Tr)(e,t)}(n,a,0,0,!ut(e,t));("$$html"===t?e.innerHTML:(st(e,t)||"").replace(/["']/g,""))!==r&&(i[t]=r)})),n(e,i)})),vr("set-style",(function(e,t,n){var r=Re(Nr(e,"set-style",!0));I("background-image",(function(e,t){var n=Ne(r[t]);n&&(r[t]='url("'+Ae(je(n))+'")')})),n(e,{style:r})})),vr("set-class",(function(e,t,n){n(e,{$$class:Nr(e,"set-class")})})),vr("data-src",(function(e,t,n){n(e,{src:Ae(Nr(e,"data-src",!0))})})),vr("data-bg-src",(function(e,t,n){n(e,{style:{backgroundImage:'url("'+Ae(Nr(e,"data-bg-src",!0))+'")'}})})),vr("prevent-leave",(function(t,n){var r=n(t),o=Nr(t,"prevent-leave");if(j(o,r.value))if(r.value=o,o){var a=new Promise((function(e){r.resolve=e}));vn(t,a,(function(){return ae(e.emit("preventLeave",t,null,!0)).then((function(e){if(!e)throw E(tt)}))}))}else r.resolve()})),Zr("validate",(function(e){var t=Je(st(this,"validate")||"",e.target);if(t){var n=Vt.emit("validate",t)||!t.checkValidity||t.checkValidity();if(n){if(z(n))return n.then((function(e){if(!e)throw E(Ye)}))}else e.stopImmediatePropagation(),e.preventDefault()}})),Zr("context-method",(function(t){var n=t.currentTarget,r=d(st(n,"context-method")||"");if(D(e[r])){var o,a=st(n,"context-form"),i=a?Je(a,n):n.form,u=!0;return i?(u=Vt.emit("validate",i)||i.checkValidity(),o=[dt(i)]):o=J(Nr(n,"method-args")),ie(u,(function(t){if(!t)throw E(Ye);return e[r].apply(e,o)}))}})),lr("form[form-var]",(function(e){var t=st(e,"form-var"),n={},r=function(r){if(r&&(n=dt(e)),t){var o=Er(e,t)||{};C(n,te(o,W(n)))||Ir(e,t,N({},o,n))}else Ir(e,n)};Ft(e,"value",(function(){ce(r)})),Ut(e,":input",(function(e){I(e,(function(e,t){qt(t,Ue(t,"change input",(function(){ce(r)})))})),r(!0)}),!0),Vt.on(e,"reset",(function(){return t?_n(Ar(t,e))||e.reset():I(e.elements,(function(t,n){_n(Ar(n.name,e))||(n.value=null)})),!0}))})),lr("[loading-scope]",(function(e){Vt.subscribeAsync(e,(function(t){Ir(e,"loading",t)}))})),lr("[error-scope]",(function(e){Vt.subscribeAsync(e),Vt.on(e,{asyncStart:function(){Ir(e,"error",null)},error:function(t){var n=t.error||{};Ir(e,"error",n.code||n.message||!0)}})})),e.on("pageenter",(function(e){Te(Ge("form[form-var]",e.target)).each((function(e,t){Te(":input:eq(0)",t).trigger("change")}))})),Vt.ready.then((function(){Te("[brew-template]").each((function(e,t){var n=t.cloneNode(!0);n.removeAttribute("brew-template"),co[st(t,"brew-template")]=n})),Te("apply-attributes").each((function(e,t){var n=Te(st(t,"elements")||"",t.parentNode||so);I(t.attributes,(function(e,t){"elements"!==t.name&&n.each((function(e,n){n.setAttribute(t.name,t.value)}))}))})).remove(),Te("body").on("click","[set-var]:not([match-path])",(function(e){var t=e.currentTarget;t===Te(e.target).closest("[set-var]")[0]&&(Ir(t),Xr())})),Te("body").on("click","[toggle]",(function(e){var t=e.currentTarget,n=t.getAttribute("toggle"),r=n?Je(n,t):Te(t).closest("[is-flyout]")[0];e.stopPropagation(),!r||t.attributes["toggle-if"]&&!Nr(t,"toggle-if")||Yr(r,t)})),Te("body").on("click","[toggle-class]",(function(e){var t=e.currentTarget;if(e.stopPropagation(),!t.attributes["toggle-if"]||Nr(t,"toggle-if")){var n=t.getAttribute("toggle-class-for"),r=n?Je(n,t):e.currentTarget;I(t.getAttribute("toggle-class"),(function(e,t){Qe(r,t.slice(1),"+"===t[0])}))}})),ct(so,"loading-scope")&&Ir(so,"loading","initial")}))}));function fo(e){if(e){var t={};return I(e,(function(e,n){var r=n.toLowerCase();t[r]=n,r.indexOf("-")>0&&(t[r.split("-")[0]]=n)})),t}}function po(e,t){return e&&t?e[t.toLowerCase()]:t}function ho(e,t){var n=navigator.languages||[navigator.language||""];return e?(n=fo(n),V(e)&&(e=fo(e)),pe(n,(function(t,n){return e[n]}))||t||W(e)[0]):n[0]}var mo=Vn("i18n",(function(e,t){var n=fo(t.languages),r=e.route&&t.routeParam,o=t.cookie&&bt(t.cookie,864e5),a=po(n,r&&e.route[r])||po(n,o&&o.get())||(!1!==t.detectLanguage?ho:po)(n,t.defaultLanguage),i=function(t){e.language=t};O(e,"language",a,(function(i){return i=po(n,i)||a,o&&o.set(i),r&&xn&&e.route.replace(r,i.toLowerCase()),a!==i&&(a=i,t.reloadOnChange&&location.reload()),a})),e.define({setLanguage:i,detectLanguage:ho}),r&&(e.route.watch(r,i),e.on("ready",(function(){e.route.replace(r,a.toLowerCase())})))})),go=Vn("login",(function(e,t){var n=bt((t=N({loginPagePath:"",defaultRedirectPath:"",cookie:"",expiry:0,logout:null,login:null,tokenLogin:null,getTokenFromResponse:null},t)).cookie,t.expiry),r=O(e,"loggedIn",!1,!0);function o(o){r(!0),D(t.getTokenFromResponse)&&n.set(t.getTokenFromResponse(o)),e.emit("login",{data:o})}var a=e.initialPath,i=n.get();i&&D(t.tokenLogin)&&e.beforeInit(h(ie(t.tokenLogin(i),o))),e.define({login:function(n,i,u){return u=D(u||i),i="string"==typeof i&&i,ie(t.login(n)).then((function(e){return o(e),u&&u()}),(function(e){throw r(!1),e.status>=500?"server-error":"incorrect-cred"})).then((function(){a===e.resolvePath(t.loginPagePath)&&(a=""),e.navigate(i||a||t.defaultRedirectPath),a=""}))},logout:function(o,a){return e.loggedIn?(a=D(a||o),o="string"==typeof o&&o,hn(e.element).then((function(){return t.logout()})).then((function(){return r(!1),n.delete(),e.emit("logout"),a&&a()})).then((function(){e.navigate(o||t.loginPagePath)}))):ae()}}),e.on("navigate",(function(n){var r=e.resolvePath(t.loginPagePath);j(e.loggedIn,n.pathname!==r)&&(e.loggedIn?e.navigate(t.defaultRedirectPath):(a=n.pathname,e.navigate(r)))}))})),vo="background-image".split(" "),yo=Vn(!0,"preloadImage",["?htmlRouter"],(function(e){e.beforeUpdate((function(e){var t={};return I(e,(function(e,n){(n.src||n.style)&&_n(e)&&(n.src&&(t[Ie(n.src)]=!0),n.style&&I(vo,(function(e,r){var o=Ne(n.style[r]);o&&(t[Ie(o)]=!0)})))})),Pt(W(t),200)})),e.beforePageEnter&&e.beforePageEnter((function(e){return Pt(e,1e3)}))})),bo=(i(649),"[scrollable]"),wo="[scrollable-target]",So=Vn("scrollable",(function(e,t){t=N({content:"[scrollable-target]:not(.disabled)",bounce:!1},t);var n=window.DOMMatrix||window.WebKitCSSMatrix||window.MSCSSMatrix;function r(t){return{handle:Y(t.dir,"auto scrollbar content")||"content",hScroll:!Y(t.dir,"y-only"),vScroll:!Y(t.dir,"x-only"),pageItem:t.selector,snapToPage:"always"===t.paged||t.paged===e.orientation}}function o(){Te(bo).scrollable("refresh")}function a(){Te('[animate-on~="scroll-into-view"]').filter(":visible").each((function(e,t){var r=new n(getComputedStyle(t).transform),o=_e(Vt.root),a=_e(t),i=Be(o,a.translate(-r.e||0,0))||Be(o,a.translate(0,-r.f||0));i^De(t,"tweening-in")&&(i||t.attributes["animate-out"])&&(i?an:un)(t,"scroll-into-view")}))}zr("scrollable",bo,{component:function(n,o){var a=Te.scrollable(n,N({},t,r(o))),i=[];function u(t){if(t&&!u.d++){var r,c,s=!1,l=!1,f=0;i.push(e.on("orientationchange",(function(){a.setOptions({snapToPage:"always"===o.paged||o.paged===e.orientation})})),e.on(n,{statechange:function(e){if(o.selector&&!s){var t=e.data[o.varname];(0|_e(p(t)).width)>(0|_e().width)?h(t,"left center"):h(t)}},scrollMove:function(e){s=!0,o.selector&&!r&&d(e.pageIndex)},scrollStop:function(e){s=!1,o.selector&&(d(e.pageIndex),l&&m())}},!0),Ue(window,"resize",(function(){o.selector&&(clearTimeout(c),c=setTimeout(m,200))})))}function p(e){return o.selector&&Te(o.selector,n).get()[e]}function d(t){var r=f;f=t,o.varname&&e.setVar&&e.setVar(n,o.varname,t),r!==t&&e.emit("scrollIndexChange",n,{oldIndex:r,newIndex:t},!0)}function h(e,t){var o=p(e);t=t||"center top",!s&&ze(n)&&o&&(s=!0,r=!0,d(e),a.scrollToElement(o,t,t,200,(function(){s=!1,r=!1})))}function m(){("always"===o.paged||o.paged===e.orientation)&&ze(n)&&(s?l=!0:(l=!1,h(f)))}}function c(t){if(t&&!c.d++){var r={},u=!1,s=function(){var e=r[history.state];e&&a.scrollTo(e.x,e.y,0)};i.push(Vt.on("asyncStart",(function(){u=!0})),Vt.on("asyncEnd",(function(){u=!1,o.persistScroll&&s()})),e.on(n,"scrollStart",(function(e){"script"!==e.source&&delete r[history.state]}),!0),e.on("navigate",(function(e){r[e.oldStateId]={x:a.scrollLeft(),y:a.scrollTop()},setTimeout((function(){!u&&o.persistScroll&&s()}))})))}}return i.push(Vt.on(n,{drag:function(){Dt()},getContentRect:function(e){if(e.target===n||$e(n,Te(e.target).closest(wo)[0])){var t=a.scrollPadding(e.target);return _e(n).expand(t,-1)}},scrollBy:function(e){var t=a.scrollBy(e.x,e.y,"instant"===e.behavior?0:200);return{x:t.deltaX,y:t.deltaY}}})),u.d=0,c.d=0,o.watch((function(){a.setOptions(r(o))})),o.watch("selector",u,!0),o.watch("persistScroll",c,!0),o.on("destroy",(function(){m(i)(),a.destroy()})),a[Ht(n)?"enable":"disable"](),a},directives:{dir:{attribute:"scrollable"},paged:{attribute:"scroller-snap-page"},varname:{attribute:"scroller-state"},selector:{attribute:"scroller-page"},persistScroll:{attribute:"persist-scroll",type:"boolean"}}}),Te.scrollable.hook({scrollStart:function(t){e.emit("scrollStart",this,t,!0)},scrollMove:function(t){e.emit("scrollMove",this,t,!0)},scrollEnd:function(t){e.emit("scrollStop",this,t,!0)},scrollProgressChange:function(t){e.emit("scrollProgressChange",this,t,!0)}}),e.on("statechange orientationchange animationcomplete",(function(){fe(o)})),e.on("pageenter",(function(e){var t=Te(Ge(bo,e.target)).add(Te(e.target).parents(bo));Te(Ge(wo,e.target)).each((function(e,t){Te(t).toggleClass("disabled",!_n(t))})),t.each((function(e,t){_r(t).scrollable.refresh()})),t.filter(":not([keep-scroll-offset])").scrollable("scrollTo",0,0)})),e.on("resize pageenter statechange scrollMove orientationchange",(function(){fe(a)})),Vt.on("modalchange",(function(){Te(bo).each((function(e,t){Te(t).scrollable(Ht(t)?"enable":"disable")}))})),Vt.on("keystroke",(function(e){var t=Vt.event;if(Vt.modalElement&&t&&t.target===document.body&&Y(e.data,"space pageUp pageDown leftArrow rightArrow upArrow downArrow")){var n=Ge(bo,Vt.modalElement)[0];n&&Te(n).triggerHandler(Te.Event("keydown",{keyCode:t.keyCode}))}}))})),xo=c.IS_TOUCH,Oo=Vn(!0,"viewport",(function(e){var t,n,r,o=O(e,"orientation","",!0),a=window.visualViewport,i=xo&&"MacIntel"!==navigator.platform;function u(u){if(a)n=a.width,r=a.height;else{var c=screen.availWidth,s=screen.availHeight;n=i?c:document.body.offsetWidth,r=i?c===window.innerWidth?s:window.innerHeight:document.body.offsetHeight}var l=t;if(o((t=n/r)>=1?"landscape":"portrait"),!1!==u){var f={aspectRatio:t,orientation:e.orientation,viewportWidth:n,viewportHeight:r};e.emit("resize",f),j(t>=1,l>=1)&&e.emit("orientationchange",f)}}b(e,{get aspectRatio(){return t},get viewportWidth(){return n},get viewportHeight(){return r}}),e.on("orientationchange",(function(){an(Vt.root,"orientationchange")})),a?(Ue(a,"resize",u),u(!1)):(Ue(window,"resize",(function(){fe(u)})),e.beforeInit((function(){return Vt.ready.then((function(){u(!1)}))})))}));function Po(e){return Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Po(e)}var ko,Ao,Io=g(),jo=Map.prototype,Co={},Eo=Vt.root,To=[],Mo=function(e){return!!Ce(e,ko)},No=function(e){return Ce(e,ko)||"/"},Ro=function(e){return xe(ko,e)},qo=ne,Fo=ne;function Uo(e,t,n){return e&&e.test||(e=zo(e)),V(t)||(t=Ee(t)),e.test(t,n)}function $o(){return location.search+location.hash}function Lo(){return location.pathname+$o()}function Vo(e){var t=new Map(e&&Object.entries(e));return Object.setPrototypeOf(t,Vo.prototype),t}function Do(e){return"symbol"===Po(e)?e:String(e)}function _o(e){N(this,e)}function zo(e){if(e=String(e),!Co[e]){var t,n=new _o,r={};e.replace(/\/(\*|[^{][^\/]*|\{([a.-z_$][a-z0-9_$]*)(\?)?(?::(?![*+?])((?:(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])([*+?]|\{\d+(?:,\d+)\})?)+))?\})(?=\/|$)/gi,(function(e,o,a,i,u){if(i&&!t&&(t=n.length),a){var c=u?new RegExp("^"+u+"$","i"):/./;r[a]=n.length,n.push({name:a,test:c.test.bind(c)})}else n.push(o.toLowerCase())})),N(n,{pattern:e,params:r,exact:!("*"===n[n.length-1]&&n.splice(-1)),minLength:t||n.length}),Co[e]=v(n)}return Co[e]}function Ho(e,t,n){return e=e||[],t=t.map(encodeURIComponent),{route:e,params:T(n,["remainingSegments"]),minPath:Pe(t.slice(0,e.minLength).join("/")),maxPath:Pe(t.slice(0,e.length).join("/"))}}function Wo(e,t,n){return pe(e,(function(e){var r=pe(e.params,(function(e,n){return null!==t[n]}));if(r&&!n&&(r=!pe(t,(function(t,n){return t&&"remainingSegments"!==n&&!e.has(n)}))),r){for(var o=[],a=0,i=e.length;a<i;a++){var u=e[a].name;if(u&&!e[a].test(t[u]||"")){if(a<e.minLength||t[u])return!1;break}o[a]=u?t[u]:e[a]}return Ho(e,o,te(t,W(e.params)))}}))||!n&&Wo(e,t,!0)}function Bo(e,t,n){var r=this,o={},a=Io(r,{routes:t.map(zo),params:o,app:e});I(a.routes,(function(e,t){I(t.params,(function(e){o[e]=null}))})),N(r,o,r.parse(n)),a.current=a.lastMatch,a.handleChanges=ge(r,!0),Object.preventExtensions(r),Object.getOwnPropertyNames(r).forEach((function(e){O(r,e,null,(function(e){return H(e)||""===e?null:String(e)}))})),ge(r,(function(){var t=a.lastMatch;C(t.params,T(r,["remainingSegments"]))||(t=Wo(a.routes,r)||a.current);var n=t.route.exact?"/":Pe(r.remainingSegments),o=qo(xe(t.maxPath,n));a.current=t,r.set(N({},a.params,t.params,{remainingSegments:n})),$(o,ke(e.path))||(e.path=o)}))}function Jo(e){for(var t in e)P(this,t,e[t],!0)}function Go(e,t){var n=e.pageId;I(To,(function(e,r){r.pageId===n&&t(r)}))}k(Vo,Map,{has:function(e){return jo.has.call(this,Do(e))},get:function(e){return jo.get.call(this,Do(e))},set:function(e,t){return jo.set.call(this,Do(e),t)},delete:function(e){return jo.delete.call(this,Do(e))},toJSON:function(){return K(this,ne)}}),k(_o,Array,{has:function(e){return e in this.params},match:function(e,t){"string"==typeof e&&(e=this.params[e]);var n=this[e];return!!n&&(n.name?n.test(t):$(n,t))},test:function(e,t){var n=this;return e.length>=n.minLength&&(t||!n.exact||e.length<=n.length)&&!f(n,(function(t,n){return e[n]&&!(t.name?t.test(e[n]):$(e[n],t))}))}}),k(Bo,{parse:function(e){var t=Io(this),n=Ee(Fo(ke(e))),r=f(t.routes,(function(e){return Uo(e,n,!0)})),o=N({},t.params);return r&&I(r.params,(function(e,t){o[e]=n[t]})),o.remainingSegments=!r||r.exact?"/":Pe(n.slice(r.length).join("/")),t.lastMatch=Ho(r,n,o),o},set:function(e){var t=this;if("string"==typeof e){if($(e,t.toString()))return;e=t.parse(e)}Io(t).handleChanges((function(){N(t,e)}))},replace:function(e,t){var n,r=this;return Io(r).handleChanges((function(){var o=r.getPath(N(r,_(e)||B(e,t)));n=Io(r).app.navigate(o+(o===r.toString()?$o():""),!0)})),n},getPath:function(e){var t=Wo(Io(this).routes,e);return qo(t?xe(t.maxPath||"/",t.route.exact?"/":e.remainingSegments):"/")},toJSON:function(){return N({},this)},toString:function(){return qo(xe(Io(this).current.maxPath||"/",this.remainingSegments))}}),ye(Bo.prototype),k(Jo,{clearNavigateData:function(){Go(this,(function(e){e.data=null})),P(this,"data",null,!0)},clearHistoryStorage:function(){Go(this,(function(e){e.storage.clear()}))}}),Co["/*"]=v(new _o({value:"/*",exact:!1,length:0,minLength:0,params:{},test:function(){return!0}}));var Qo,Zo=Vn("router",(function(e,t){var n,r,o,a=re(),i=a,u="/",c="",s={},f=0,p=0,d={},h={};function m(e,t){return Ao.revive(e,t)||Z(Ao,e,t)}function g(t){c=t,e.path=t}function v(e,t,n,r){return Object.freeze({id:e,path:t,navigated:!1!==r,redirected:!!n,originalPath:n||null})}function b(t,r,o,a,i,u,c,s,l){(c=c||To[f])&&c.sessionId!==u&&(c=null),void 0===i&&(i=null),l&&Ao.set(t,l);var p,y,b=ee,w=ee,S=ke(r),x=c&&a?c.pageId:t,O=[t,r,o,a,i,u],P={id:t,path:r,index:o,pathname:S,data:i,type:"navigate",previous:c&&(s||a?c.previous:c),pageId:x,sessionId:u,resumedId:c?c.resumedId:u,get done(){return p},get promise(){return y||(y=ae(p||new Promise((function(e,t){b=e,w=t}))))},get pageInfo(){return h[x]||(h[x]=new Jo({path:S,pageId:x,params:q(n.parse(S)),data:i}))},get storage(){return l||(l=m(t,Vo))},reset:function(){return p&&(p=!1,y=null),P},forward:function(e){y&&!p&&e.promise.then((function(e){P.resolve(v(e.id,e.path,P.path,e.navigated))}),P.reject)},resolve:function(n){var r=d;p=n||v(t,P.path),b(p),To[f]===P&&(d=P,g(P.path),p.navigated?e.emit("pageload",{pathname:P.path},{handleable:!1}):"back_forward"===P.type&&e.emit("popstate",{oldStateId:r.id,newStateId:P.id},{handleable:!1}))},reject:function(e){y=null,w(e||E(et))},toJSON:function(){return O[1]=P.path,O[4]=P.data,O}};return P}function w(t,n,r){if(t.path=n,history.replaceState(t.id,"",Ro(n)),t.done){var o=Oe(r).hash,a=Oe(n).hash;return g(n),o!==a&&e.emit("hashchange",{oldHash:o,newHash:a},{handleable:!1}),{promise:ae(v(t.pageId,n,null,!1))}}return t}function S(e,t,n,r,o){var a=To[f];a&&a!==e&&!a.done&&(t?a.forward(e):a.reject()),xn&&!n&&mn(Eo)?hn(Eo).then((function(){To[f]===a&&!1!==o()&&ce(M)}),(function(){e.reject(E(tt))})):!1!==o()&&(n&&r.done?(e.resolve(v(e.pageId,e.path,null,!1)),w(e,e.path,a.path)):ce(M))}function x(e,t,n,r,o){if(!Ce(e=j(e),u))return{promise:oe(E(tt))};var s=To[f],l=s;if(s)if(n)o=new Vo(l.storage.toJSON());else if(H(r)){var h=ke(e);if(h===s.pathname){if(!s.done||t||e===s.path)return w(s,e,s.path);n=!0,o=s.storage}else h===d.pathname&&ke(c)===h&&(n=!0,l=d,o=d.storage)}var m=re(),g=t||s&&!s.done,v=Math.max(0,f+!g),y=b(m,e,p+v,n,n?l.data:r,a,l,g,o);return S(y,t,n,l,(function(){f=v,t||I(To.splice(f),(function(e,t){Ao.delete(t.id),t.resumedId!==i&&Ao.delete(t.resumedId)})),To[f]=y,history[g?"replaceState":"pushState"](m,"",Ro(e))})),y}function k(e,t){var n=To[e].reset(),r=n.index-To[f].index,o=n.pageId===To[f].pageId,a=!o&&mn(Eo);return a&&t&&history.go(-r),S(n,!1,o,To[f],(function(){if(n.type="back_forward",f=e,a&&t&&history.state===n.id){var o=Ue(window,"popstate",(function(){o(),history.go(r)}));return!1}t&&!a||history.go(r)})),n}function A(e){return To.findIndex((function(t,n){return t.id===e}))}function j(t,r,o){var a;if(t=decodeURI(t)||"/",r=r||e.path,"#"===t[0]||"?"===t[0]){var i=Oe(r);return i.pathname+("#"===t[0]?i.search+t:t)}if("~"===t[0]||t.indexOf("{")>=0){var u=(o?qo:ne)(r);a=$(u,n.toString())?Io(n).current:n.parse(u)&&Io(n).lastMatch,t=t.replace(/\{([^}?]+)(\??)\}/g,(function(e,n,r,o){return a.params[n]||(r&&o+e.length===t.length?"":"null")}))}return"~"===t[0]?t=(o?ne:qo)(xe(a.minPath,t.slice(1))):"/"!==t[0]&&(t=xe(ke(r),t)),Pe(t,!0)}function C(t,n,r,o){return r=N({navigationType:n.type,pathname:n.path,oldPathname:d.path,oldStateId:d.id,newStateId:n.id,route:n.pageInfo.params,data:n.data},r),e.emit(t,r,o)}function T(e){var t=e.path,o=y();r=e,g(t),n.set(t),C("beforepageload",e,{waitFor:o.waitFor},{handleable:!1}),l(o,(function(){To[f]===e&&(r=null,s={},e.resolve())}))}function M(){if(xn){var e=To[f],t=e.path;if(d!==e)if(s[t])T(e);else{s[t]=!0,console.log("Nagivate",t);var n=ae(C("navigate",e));gn(Eo,n),n.then((function(){To[f]===e&&T(e)}))}else e.resolve(v(d.pageId,t,null,!1))}}O(e,"path","",(function(e){return xn?((e=j(e))!==c&&x(e),c):c})),ko=Pe(t.baseUrl),"none"===t.urlMode?(ko="/",o=!1,Mo=ne.bind(0,o),No=function(e){var t=Oe(c||"/"+$o());return t.pathname+t.search+Oe(e).hash},Ro=function(e){return location.pathname+location.search+Oe(e).hash}):"query"===t.urlMode?(ko="/",Mo=function(e){return"?"===(e||"")[0]||/^\/($|[?#])/.test(Ce(e,location.pathname)||"")},No=function(e){var n=Oe(e),r=ht(t.queryParam,n.search),o=RegExp.leftContext,a=RegExp.rightContext;return Pe(r||"")+(!1===r?n.search:o+(o||!a?a:"?"+a.slice(1)))+n.hash},Ro=function(e){return e=Oe(e),location.pathname+mt(t.queryParam,e.pathname,e.search||"?")+e.hash}):"/"===ko?(No=ne,Ro=ne):t.explicitBaseUrl?(qo=Ro,Fo=No,No=ne,Ro=ne,u=ko):Se(ko);var R=No(Lo()),F=t.initialPath||t.queryParam&&ht(t.queryParam)||R,U=F===R||ke(F)===ke(R);Ce(F,u)?U&&ke(F)===F&&(F=R):F=u;var L,V={1:"reload",2:"back_forward"}[performance.navigation.type];V?t.resume=!1:t.resume&&(V="resume"),n=new Bo(e,t.routes,F),Ao=Mt(sessionStorage,"brew.router."+("string"==typeof t.resume?t.resume:Oe(Ro("/")).pathname)),e.define({get canNavigateBack(){return(To[f-1]||"").sessionId===a},get canNavigateForward(){return(To[f+1]||"").sessionId===a},get previousPath(){return(To[f].previous||"").path||null},get page(){return(r||d).pageInfo},matchRoute:Uo,parseRoute:zo,resolvePath:j,isAppPath:Mo,toHref:Ro,fromHref:No,snapshot:function(){return To[f]===d&&!!x(c,!1,!0)},navigate:function(e,t,n){return x(e,t,!1,n).promise},back:function(e){return this.canNavigateBack?k(f-1).promise:!!e&&x(e).promise},backToPreviousPath:function(){var e=To[f].previous;return!!e&&k(A(e.id)).promise},historyStorage:{get current(){return(r||d).storage},for:function(e){var t=To[A(e)];return t?t.storage:null}}}),P(e,"basePath",u,!0),P(e,"initialPath",F.replace(/#.*$/,""),!0),P(e,"route",n,!0),P(e,"routes",q(t.routes)),P(e,"cache",m("g",Vo),!0),Ue(window,"popstate",(function(){var e=A(history.state);e<0?x(No(Lo())):e!==f&&k(e,!0)}));try{I(Ao.get("s"),(function(e,t){To.push(b.apply(0,t)),f=e}))}catch(e){}var D=A("resume"===V?Ao.get("c"):history.state);D>=0?(i=To[D].resumedId,f=D,"resume"===V?(p=history.length-f-1,x(To[D].path,!1,!0)):(p=To[D].index-f,a=To[D].sessionId||a,"reload"!==V||t.resumeOnReload||(Ao.delete(history.state),L="none"===t.urlMode)),To[f].type=V):(f=To.length,p=history.length-f,L=!0),L&&(L=x(F,!0)),e.on("ready",(function(){L&&To[f]===L&&U&&x(No(Lo()),!0),M()})),e.on("unload",(function(){Ao.set("c",To[f].id),Ao.set("s",To),Ao.persistAll()})),P(e,"sessionId",i,!0),P(e,"sessionStorage",m(i,Vo),!0)})),Ko=Vt.root,Xo=new Map,Yo=[],ea=[Ko];function ta(e,t){var n=Te(e).closest("[match-path]")[0];return!n||(t||ea).indexOf(n)>=0}function na(e){Te("[match-path]",e).each((function(e,t){if(!Xo.has(t)){var n=document.createElement("div");n.setAttribute("style","display: none !important"),n.setAttribute("match-path",t.getAttribute("match-path")||""),t.attributes.default&&n.setAttribute("default",""),Te(t).before(n),Te(t).detach(),Qe(t,"hidden",!0),Xo.set(n,t),Xo.set(t,t)}}))}var ra=Vn("htmlRouter",(function(e,t){Zo(),e.useRouter(t),function(e,t){var n;e.on("navigate",(function(t){n=[Ko],na(),hr(!0,(function(){for(var r,o=Fo(ke(t.pathname)),a=Te('[switch=""]').get();r=a.shift();)if(ta(r,n)){var i=Te(r).children("[match-path]").get().map((function(t){var n=Z(Xo,t)||t,r=Te('[switch=""]',n).get(),a=e.resolvePath(n.getAttribute("match-path"),o,!0);return{element:n,path:a.replace(/\/\*$/,""),exact:!r[0]&&"/*"!==a.slice(-2),placeholder:t!==n&&t,children:r}}));i.sort((function(e,t){return t.path.localeCompare(e.path)}));var u=pe(i,(function(e){return(e.exact?o===e.path:Ce(o,e.path))&&e.path}));I(i,(function(e,t){if(t.path===u){var r=t.element;n.unshift(r),t.placeholder&&(Te(t.placeholder).replaceWith(r),mr(r),a.push.apply(a,t.children))}}))}})),Te('[switch=""]').each((function(t,r){if(ta(r,n)){var o=Te(r).children("[match-path]"),a=o.filter((function(e,t){return n.indexOf(t)>=0}))[0];if(!a)return e.navigate(qo((o.filter("[default]")[0]||o[0]).getAttribute("match-path")),!0),!1}}))})),e.on("beforepageload",(function(t){var r=ea.slice(0),o=e.previousPath,a=t.pathname,i=Vt.eventSource;ea=n,Qo=Te(n).filter("[page-title]")[0],document.title=Qo?Nr(Qo,"page-title",!0):document.title,hr(!0,(function(){var n=new Map;Bn(i,["pageenter",a],(function(){Xo.forEach((function(t,u){var c=ea.indexOf(t)>=0;if(t!==u&&c===r.indexOf(t)<0)if(c){Cr(t,!1),Ir(t),pr(t);var s=n.get(Te(t).parents("[match-path]")[0]),l=Ee(t.getAttribute("match-path")),f=Yo.map((function(e){if(Uo(e.route,l))return e.callback(t,a)}));f.push(s),n.set(t,ie(f,(function(){ea.indexOf(t)>=0&&(Qe(t,"hidden",!1),an(t,"show","[match-path]",!0),e.emit("pageenter",t,{pathname:a},!0))})))}else e.emit("pageleave",t,{pathname:o},!0),un(t,"show","[match-path]").then((function(){ea.indexOf(t)<0&&Bn(i,["pageleave",o],(function(){Qe(t,"hidden",!0),Cr(t,!0)}))}))}))})),I(n,(function(e,n){gn(e,n),t.waitFor(n)}))}))})),e.on("pageenter",(function(e){Te(Ge("[x-autoplay]",e.target)).each((function(e,t){ta(t)&&(0!==t.readyState&&(t.currentTime=0),t.play())}))})),e.on("pageleave",(function(t){Te(Ge("form",t.target)).each((function(t,n){e.emit("reset",n,null,!1)||n.reset()})),Te(Ge("[x-autoplay]",t.target)).each((function(e,t){t.pause()}))})),e.on("statechange",(function(e){$e(e.target,Qo)&&(document.title=Nr(Qo,"page-title",!0))})),e.on("mounted",(function(e){var n=e.target;Te(Ge('img[src^="/"], video[src^="/"]',n)).each((function(e,t){t.src=Ae(t.getAttribute("src"))})),t.explicitBaseUrl||Te(Ge('a[href^="/"]',n)).each((function(e,t){var n=t.getAttribute("href");t.dataset.href=n,t.href=Ae(n)}))})),Vt.ready.then((function(){Te("[style]").each((function(e,t){var n=Ne(t.style.backgroundImage);n&&(t.setAttribute("data-bg-src",decodeURIComponent(Ae(je(n)))),t.style.backgroundImage="none")})),na()})),Ut(Ko,"video[autoplay], audio[autoplay]",(function(e){Te(e).attr("x-autoplay","").removeAttr("autoplay")}),!0),b(e,{isElementActive:ta,beforePageEnter:function(t,n){D(t)&&(n=t,t="/*"),Yo.push({route:e.parseRoute(t),callback:de(n)})},matchPath:function(e,t,n){D(t)&&(n=t,t=null),this.on("mounted",(function(r){var o=r.target.getAttribute("match-path");o&&Uo(e,o)&&(!t||Te(r.target).is(t))&&n.call(r.target,r.target)}))}})}(e,t)})),oa=Vn("idleTimeout",(function(e,t){var n=t.key||"app.lastInteract",r=Date.now();function o(e){r=e||void 0,t.crossFrame&&(localStorage[n]=e)}Ue(window,"keydown mousedown touchstart wheel",(function(){o(Date.now())})),se((function(){if(t.crossFrame&&(r=+localStorage[n]||r),Date.now()-r>t.timeout)return o(""),e.emit("idle")}),1e4)}));var aa=io.with((function(e){window.app=e}),uo,lo,mo,go,yo,So,Oo,Zo,ra,oa)}(),u=u.default}()}));
//# sourceMappingURL=brew.min.js.map