!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("zeta-dom"),require("jQuery"),function(){try{return require("jq-scrollable")}catch(t){}}(),require("promise-polyfill"),require("waterpipe")):"function"==typeof define&&define.amd?define("brew",["zeta-dom","jQuery","jq-scrollable","promise-polyfill","waterpipe"],e):"object"==typeof exports?exports.brew=e(require("zeta-dom"),require("jQuery"),function(){try{return require("jq-scrollable")}catch(t){}}(),require("promise-polyfill"),require("waterpipe")):t.brew=e(t.zeta,t.jQuery,t["jq-scrollable"],t["promise-polyfill"],t.waterpipe)}(self,(function(t,e,n,r,o){return function(){var a={979:function(t,e,n){"use strict";n.d(e,{default:function(){return Dr}});var r={};n.r(r),n.d(r,{baseUrl:function(){return pt},combinePath:function(){return ht},isSubPathOf:function(){return wt},normalizePath:function(){return gt},removeQueryAndHash:function(){return mt},setBaseUrl:function(){return dt},toAbsoluteUrl:function(){return bt},toRelativeUrl:function(){return yt},withBaseUrl:function(){return vt}});var o={};n.r(o),n.d(o,{apiError:function(){return _t},navigationCancelled:function(){return Bt},navigationRejected:function(){return Jt},networkError:function(){return zt},resourceError:function(){return Wt},timeout:function(){return Qt},validationFailed:function(){return Ht}});var a={};n.r(a),n.d(a,{addStyleSheet:function(){return se},api:function(){return ce},cookie:function(){return ie},copyAttr:function(){return Yt},deleteCookie:function(){return ae},getAttrValues:function(){return Zt},getCookie:function(){return re},getFormValues:function(){return ee},getJSON:function(){return ue},getQueryParam:function(){return ne},loadScript:function(){return le},preloadImages:function(){return fe},selectorForAttr:function(){return te},setAttr:function(){return Xt},setCookie:function(){return oe}});var i={};n.r(i),n.d(i,{addAnimateIn:function(){return je},addAnimateOut:function(){return Ee},animateIn:function(){return Te},animateOut:function(){return Ie}});var c={};n.r(c),n.d(c,{addAsyncAction:function(){return yr},closeFlyout:function(){return wr},openFlyout:function(){return xr}});var u=n(163),l=u.util,s=l.noop,f=(l.pipe,l.either),p=l.is,d=l.isUndefinedOrNull,h=l.isArray,g=l.isFunction,m=l.isThenable,v=l.isPlainObject,b=(l.isArrayLike,l.makeArray),y=l.extend,w=l.each,x=l.map,S=l.grep,A=(l.splice,l.any),P=l.single,O=l.kv,k=(l.fill,l.pick),C=l.exclude,T=(l.mapObject,l.mapGet),I=l.mapRemove,j=(l.arrRemove,l.setAdd,l.equal),E=l.combineFn,N=(l.executeOnce,l.createPrivateStore),M=(l.setTimeout,l.setTimeoutOnce),R=(l.setInterval,l.setIntervalSafe,l.setImmediate),L=l.setImmediateOnce,$=l.throwNotFunction,q=l.errorWithCode,U=(l.isErrorWithCode,l.keys),D=l.values,V=l.hasOwnProperty,F=(l.getOwnPropertyDescriptors,l.define),z=l.definePrototype,W=l.defineOwnProperty,_=l.defineGetterProperty,H=l.defineHiddenProperty,B=l.defineAliasProperty,J=l.defineObservableProperty,Q=l.watch,G=l.watchOnce,K=l.watchable,Z=(l.inherit,l.freeze),X=l.deepFreeze,Y=l.iequal,tt=l.randomId,et=(l.repeat,l.camel),nt=(l.hyphenate,l.ucfirst,l.lcfirst,l.trim),rt=l.matchWord,ot=l.htmlDecode,at=l.resolve,it=l.reject,ct=l.always,ut=l.resolveAll,lt=l.catchAsync,st=l.setPromiseTimeout,ft={http:80,https:443},pt="/";function dt(t){pt=gt(t,!0)}function ht(t,e){return t=gt(t),"/"===(e=gt(e))?t:"/"===t||e.indexOf("://")>0?e:t+e}function gt(t,e,n){if(!t||"/"===t)return n?"":"/";if(/(^(?:[a-z0-9]+:)?\/\/)|\?|#/.test(t)){var r=document.createElement("a");return r.href=t,((RegExp.$1&&(r.origin||r.protocol+"//"+r.hostname+(r.port&&+r.port!==ft[r.protocol.slice(0,-1)]?":"+r.port:"")))+gt(r.pathname,e,!0)||"/")+r.search+r.hash}if(t=String(t).replace(/\/+(\/|$)/g,"$1"),e&&/(^|\/)\.{1,2}(\/|$)/.test(t)){for(var o=t.split("/"),a=0;a<o.length;)"."===o[a]||".."===o[a]&&!a?o.splice(a,1):".."===o[a]?o.splice(--a,2):a++;t=o.join("/")}return"/"===t[0]?t:"/"+t}function mt(t){var e=t.indexOf("?")+1,n=t.indexOf("#")+1;return e||n?t.slice(0,Math.min(e||n,n||e)-1):t}function vt(t){return t=gt(t),pt&&"/"===t[0]&&!wt(t,pt)?ht(pt,t):t}function bt(t){return t.indexOf("://")>0?t:location.origin+vt(t)}function yt(t){return t.substr(0,location.origin.length)===location.origin?t.substr(location.origin.length):t}function wt(t,e){var n=e.length;return t.substr(0,n)===e&&(!t[n]||"/"===t[n]||"/"===e[n-1])&&gt(t.slice(n))}var xt=n(860),St=n(424),At=u.css,Pt=At.parseCSS,Ot=At.isCssUrlValue,kt=At.runCSSTransition,Ct=u.util,Tt=(Ct.domReady,Ct.tagName,Ct.isVisible),It=Ct.matchSelector,jt=(Ct.comparePosition,Ct.connected,Ct.containsOrEquals),Et=(Ct.acceptNode,Ct.combineNodeFilters,Ct.iterateNode),Nt=(Ct.iterateNodeToArray,Ct.getCommonAncestor,Ct.parentsAndSelf,Ct.selectIncludeSelf),Mt=Ct.selectClosestRelative,Rt=Ct.createNodeIterator,Lt=(Ct.createTreeWalker,Ct.bind),$t=Ct.bindUntil,qt=Ct.dispatchDOMMouseEvent,Ut=(Ct.removeNode,Ct.getClass),Dt=Ct.setClass,Vt=(Ct.getScrollOffset,Ct.getScrollParent,Ct.getContentRect,Ct.scrollBy,Ct.scrollIntoView,Ct.makeSelection,Ct.getRect),Ft=(Ct.getRects,Ct.toPlainRect,Ct.rectEquals,Ct.rectCovers,Ct.rectIntersects),zt=(Ct.pointInRect,Ct.mergeRect,Ct.elementFromPoint,"brew/network-error"),Wt="brew/resource-error",_t="brew/api-error",Ht="brew/validation-failed",Bt="brew/navigation-cancelled",Jt="brew/navigation-rejected",Qt="brew/timeout",Gt={},Kt={};function Zt(t){var e={};return w(t.attributes,(function(t,n){e[n.name]=n.value})),e}function Xt(t,e,n){w(v(e)||O(e,n),(function(e,n){t.setAttribute(e,n)}))}function Yt(t,e){w(t.attributes,(function(t,n){e.setAttribute(n.name,n.value)}))}function te(t){return v(t)&&(t=U(t)),"["+t.join("],[")+"]"}function ee(t){var e={};return w(t.elements,(function(n,r){if(r.name&&!(r.name in e)){var o=t.elements[r.name];_(e,r.name,(function(){return"checkbox"===o.type?o.checked:o.value}))}})),e}function ne(t){return new RegExp("[?&]"+t+"=([^&]+)","i").test(location.search)&&decodeURIComponent(RegExp.$1)}function re(t){return new RegExp("(?:^|\\s|;)"+t+"=([^;]+)").test(document.cookie)&&RegExp.$1}function oe(t,e,n){return document.cookie=t+"="+e+";path=/"+(n?";expires="+new Date(Date.now()+n).toGMTString():""),e}function ae(t){document.cookie=t+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT"}function ie(t,e){return{get:function(){return re(t)},set:function(n){return oe(t,n,e)},delete:function(){return ae(t)}}}function ce(t,e){var n="get post delete";if("string"==typeof t&&rt(t,n))return ce(e=y({},"string"==typeof e?{baseUrl:e}:e,{methods:t}))[t];var r={baseUrl:(t=y({},t)).baseUrl,token:t.token};return w(t.methods||n,(function(e,o){rt(o,n)&&(H(r,o,(function e(n,a){if(!r.baseUrl)return G(r,"baseUrl",(function(){return e(n,a)}));var i={"Content-Type":"application/json"};return r.token&&(i.Authorization="Bearer "+r.token),xt.ajax({method:o,url:ht(r.baseUrl,n),headers:i,dataType:"json",data:JSON.stringify(a||{}),success:function(e){g(t.getTokenFromResponse)&&(r.token=t.getTokenFromResponse(e,r.token))}}).catch((function(t){if(0===t.status)throw q(zt);var e=t.responseJSON;if(e)throw console.error(n+":",e.error||e.message),q(_t,e.error||e.message);throw q(_t,t.statusText)}))})),B(r[o],"baseUrl",r),B(r[o],"token",r))})),r}function ue(t){return xt.getJSON(vt(t))}function le(t,e){return h(t)?t.reduce((function(t,n){return t.then((function(){return le(n,e)}))}),at()):(Kt[t]||(Kt[t]=new St((function(n,r){var o=document.createElement("script");if((e=e||{}).nomodule){if("noModule"in o)return void n();o.setAttribute("nomodule","")}e.module&&o.setAttribute("type","module"),o.addEventListener("load",(function(){n({})})),o.addEventListener("error",(function(){r(q(Wt))})),o.src=vt(t),document.head.appendChild(o)}))),Kt[t])}function se(t,e){var n=document.createElement("link");n.rel="stylesheet",n.href=vt(t),e&&(n.media=e),document.head.appendChild(n)}function fe(t,e){if(!h(t)){var n={},r=function(t){Ot(t)&&(n[RegExp.$1||RegExp.$2||RegExp.$3]=!0)};Et(Rt(t,1),(function(t){It(t,"img")&&t.src&&(n[t.src]=!0),r(getComputedStyle(t).backgroundImage),r(getComputedStyle(t,"::before").backgroundImage),r(getComputedStyle(t,"::after").backgroundImage)})),t=U(n)}var o=[],a=[];return t.forEach((function(t){o.push(Gt[t]||(Gt[t]=new St((function(e){a.push(t),xt("<img>").on("load error",(function(){Gt[t]=!0,e()})).attr("src",t)}))))})),!o.length||o.every((function(t){return!0===t}))?at():(a.length&&console.log("Preload image",{urls:a}),st(ut(D(Gt)),e,!0))}const pe=u.dom;var de=u.dom,he=(de.textInputAllowed,de.beginDrag),ge=(de.beginPinchZoom,de.getShortcut,de.setShortcut,de.focusable),me=de.focused,ve=de.setModal,be=de.releaseModal,ye=de.retainFocus,we=(de.releaseFocus,de.iterateFocusPath,de.focus);const xe=pe;var Se={},Ae={},Pe=new Map,Oe=0;function ke(t,e,n,r){if(!n.length)return at();var o,a,i,c=++Oe;n=n.map((function(t){return t instanceof St?lt(t):new St((function(e){t.then(e,e)}))})),lt(ut(n,(function(){clearTimeout(o),i(),Pe.delete(t)}))),n.push(new St((function(t,e){i=t,a=e}))),o=setTimeout((function(){a(q(Qt,"Animation timed out")),console.warn("Animation #%i might take longer than expected",c,n),Pe.delete(t)}),1500);var u=lt(ut(n));return Pe.set(t,u),u}function Ce(t,e,n,r){var o=[kt(t,e),xe.emit(n,t)],a=parseFloat(xt(t).css("transition-delay"));return w(r,(function(e,n){if(t.attributes[e]){var r=t.getAttribute(e);o.push(new St((function(e,o){setTimeout((function(){ut(n(t,r)).then(e,o)}),1e3*a)})))}})),ut(o,(function(){return t}))}function Te(t,e,n,r){if(Pe.has(t))return Pe.get(t).then((function(){return Te(t,e,n,r)}));r=r||function(){return!0},xe.emit("animationstart",t,{animationType:"in",animationTrigger:e},!0);var o=n?xt(n,t):xt(),a="show"===e?':not([animate-on]), [animate-on~="'+e+'"]':'[animate-on~="'+e+'"]',i=[],c=[];return xt(Nt("[animate-in]",t)).filter(a).each((function(t,e){!o.find(e)[0]&&r(e)&&Tt(e)&&(i.push(e),c.push(Ce(e,"tweening-in","animatein",Se)))})),xt(Nt("[animate-sequence]",t)).filter(a).each((function(t,e){if(!o.find(e)[0]&&r(e)&&Tt(e)){var n=e.getAttribute("animate-sequence")||"",a=e.getAttribute("animate-sequence-type")||"",u=xt(e).find(">"===n[0]?n:xt(n));void 0!==xt(e).attr("animate-sequence-reverse")&&[].reverse.apply(u),u.css("transition-duration","0s"),u.attr("animate-in",a).attr("is-animate-sequence",""),u.each((function(t,e){"inline"===xt(e).css("display")&&xt(e).css("display","inline-block"),i.push(e),c.push(new St((function(n,r){setTimeout((function(){xt(e).css("transition-duration",""),Ce(e,"tweening-in","animatein",Se).then(n,r)}),50*t)})))})),e.attributes["animate-in"]||xt(e).attr("animate-in","").addClass("tweening-in")}})),ke(t,0,c).then((function(){xe.emit("animationcomplete",t,{animationType:"in",animationTrigger:e},!0)}))}function Ie(t,e,n,r,o){r=r||function(){return!0},xe.emit("animationstart",t,{animationType:"out",animationTrigger:e},!0);var a=n?xt(n,t):xt(),i="show"===e?':not([animate-on]), [animate-on~="'+e+'"]':'[animate-on~="'+e+'"]',c=[],u=[];return xt((o?xt:Nt)("[animate-out]",t)).filter(i).each((function(t,e){!a.find(e)[0]&&r(e)&&(c.push(e),u.push(Ce(e,"tweening-out","animateout",Ae)))})),ke(t,0,u).then((function(){var n=xt((o?xt:Nt)("[animate-out], .tweening-in, .tweening-out",t));"show"!==e&&(n=n.filter(i)),(n=n.filter((function(t,e){return r(e)}))).removeClass("tweening-in tweening-out"),n.find("[is-animate-sequence]").removeAttr("animate-in").removeClass("tweening-in tweening-out"),xe.emit("animationcomplete",t,{animationType:"out",animationTrigger:e},!0)}))}function je(t,e){Se[t]=$(e)}function Ee(t,e){Ae[t]=$(e)}var Ne=n(256);const Me={};var Re=u.dom,Le=(Re.lock,Re.locked),$e=Re.cancelLock,qe=(Re.notifyAsync,Re.preventLeave),Ue=u.dom,De=(Ue.observe,Ue.registerCleanup),Ve=(Ue.createAutoCleanupMap,Ue.afterDetached),Fe=Ue.watchElements,ze=Ue.watchAttributes;function We(t){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _e(t,e){return"["+t+"] "+(e=b(e).map((function(t){return p(t,Element)?(n=t).tagName.toLowerCase()+(n.id?"#"+n.id:n.className.trim()&&n.className.replace(/^\s*|\s+(?=\S)/g,"."))+":":t&&"object"===We(t)?(e=JSON.stringify(t),'[{"]'.indexOf(e[0])>=0&&e.length>200?e[0]+e.substr(1,199)+"…"+e[e.length-1]:e):t;var e,n})).join(" "))}function He(t,e,n){var r;try{console.groupCollapsed(_e(t,e)),r=!0}catch(t){}try{n(console)}finally{if(r)try{console.groupEnd()}catch(t){}}}var Be,Je=N(),Qe=new Map,Ge={},Ke=[],Ze=xe.root,Xe=[Ze],Ye=function(t){return t},tn=function(t){return wt(t,pt)||"/"},en=function(t){return ht(pt,t)},nn=Ye,rn=Ye;function on(t,e){var n=xt(t).closest("[match-path]")[0];return!n||(e||Xe).indexOf(n)>=0}function an(t,e,n){return t&&t.test||(t=sn(t)),h(e)||(e=cn(e)),t.test(e,n)}function cn(t){return"/"===(t=gt(t))?[]:t.slice(1).split("/").map(decodeURIComponent)}function un(){return location.search+location.hash}function ln(t){y(this,t)}function sn(t){if(t=String(t),!Ge[t]){var e,n=new ln,r={};t.replace(/\/(\*|[^{][^\/]*|\{([a.-z_$][a-z0-9_$]*)(\?)?(?::(?![*+?])((?:(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])([*+?]|\{\d+(?:,\d+)\})?)+))?\})(?=\/|$)/gi,(function(t,o,a,i,c){if(i&&!e&&(e=n.length),a){var u=c?new RegExp("^"+c+"$","i"):/./;r[a]=n.length,n.push({name:a,test:u.test.bind(u)})}else n.push(o.toLowerCase())})),y(n,{pattern:t,params:r,exact:!("*"===n[n.length-1]&&n.splice(-1)),minLength:e||n.length}),Ge[t]=X(n)}return Ge[t]}function fn(t,e,n){return t=t||[],e=e.map(encodeURIComponent),{route:t,params:C(n,["remainingSegments"]),minPath:gt(e.slice(0,t.minLength).join("/")),maxPath:gt(e.slice(0,t.length).join("/"))}}function pn(t,e,n){return P(t,(function(t){var r=P(t.params,(function(t,n){return null!==e[n]}));if(r&&!n&&(r=!P(e,(function(e,n){return e&&!t.has(n)}))),r){for(var o=[],a=0,i=t.length;a<i;a++){var c=t[a].name;if(c&&!t[a].test(e[c]||"")){if(a<t.minLength||e[c])return!1;break}o[a]=c?e[c]:t[a]}return fn(t,o,k(e,U(t.params)))}}))||!n&&pn(t,e,!0)}function dn(t,e,n){var r=this,o={},a=Je(r,{routes:e.map(sn),params:o,app:t});w(a.routes,(function(t,e){w(e.params,(function(t){o[t]=null}))})),y(r,o,r.parse(n)),a.current=a.lastMatch,a.handleChanges=Q(r,!0),Object.preventExtensions(r),Object.getOwnPropertyNames(r).forEach((function(t){J(r,t,null,(function(t){return d(t)||""===t?null:String(t)}))})),Q(r,(function(){var e=C(r,["remainingSegments"]),n=a.current,o=n,i=!j(e,n.params);i&&a.lastMatch&&(n=a.lastMatch,a.lastMatch=null,i=!j(e,n.params)),i&&(n=pn(a.routes,e)||o),a.current=n,n.route.exact&&(r.remainingSegments="/"),r.set(y({},a.params,n.params)),n!==o&&(t.path=nn(ht(n.maxPath,r.remainingSegments)))}))}z(ln,Array,{has:function(t){return t in this.params},match:function(t,e){"string"==typeof t&&(t=this.params[t]);var n=this[t];return!!n&&(n.name?n.test(e):Y(n,e))},test:function(t,e){var n=this;return t.length>=n.minLength&&(e||!n.exact||t.length<=n.length)&&!A(n,(function(e,n){return t[n]&&!(e.name?e.test(t[n]):Y(t[n],e))}))}}),z(dn,{parse:function(t){var e=Je(this),n=cn(rn(mt(t))),r=A(e.routes,(function(t){return an(t,n,!0)})),o={};if(r){for(var a in e.params)o[a]=n[r.params[a]]||null;o.remainingSegments=r.exact?"/":gt(n.slice(r.length).join("/"))}return e.lastMatch=fn(r,n,o),o},set:function(t){var e=this;if("string"==typeof t){if(Y(t,e.toString()))return;t=e.parse(t)}Je(e).handleChanges((function(){y(e,t)}))},replace:function(t,e){var n=this,r=n.getPath(y(n,v(t)||O(t,e)));return Je(n).app.navigate(r+(r===n.toString()?un():""),!0)},getPath:function(t){var e=pn(Je(this).routes,t);return nn(e?ht(e.maxPath||"/",e.route.exact?"/":t.remainingSegments):"/")},toJSON:function(){return y({},this)},toString:function(){return nn(ht(Je(this).current.maxPath||"/",this.remainingSegments))}}),K(dn.prototype),Ge["/*"]=X(new ln({value:"/*",exact:!1,length:0,minLength:0,params:{},test:function(){return!0}}));Yn("router",(function(t,e){var n,r,o="",a={},i="",c=-1,u={},l=[];function f(t,e,n,r){return Object.freeze({id:t,path:e,navigated:!1!==r,redirected:!!n,originalPath:n||null})}function p(t,e){for(var n=mt(t),r=c;r>=0;r--)if(l[r].done&&l[r].pathname===n)return history.replaceState(history.state,"",en(t)),f(l[r].id,t,e,!1)}function d(e,r){e=g(e),i=e;var a=l[c],d=mt(e);if(a&&d===a.pathname)return a.path=e,a.done?(o=e,t.path=e,{promise:at(p(e))}):(history.replaceState(a.id,"",en(e)),a);r=r||c<0,c=Math.max(0,c+!r);var h,m,v=tt(),b=s,y=s,x=l.splice(c),S={id:v,path:e,pathname:d,route:Z(n.parse(d)),previous:a,handled:!1,get done(){return m},get promise(){return h||(h=new Promise((function(t,e){b=t,y=e})))},reset:function(){return S.handled=!1,m&&(m=!1,h=null),S},forward:function(t){h&&!m&&((t.promise||t.then((function(t){return t.promise}))).then((function(t){S.resolve(f(t.id,t.path,S.path))}),y),y=s)},resolve:function(e){m=!0,b(e||f(v,S.path)),w(l,(function(t,e){e.reject()})),l[c]===S&&(u=S,t.emit("pageload",{pathname:S.path},{handleable:!1}))},reject:function(){y(q(Bt))}};return l[c]=S,history[r?"replaceState":"pushState"](v,"",en(e)),t.path=e,x[0]&&(r&&!x[1]?x[0].forward(S):R((function(){w(x,(function(t,e){e.reject()}))}))),S}function h(){return history.back(),--c}function g(e,r,o){var a;if(e=decodeURI(e)||"/",r=r||t.path,"~"===e[0]||e.indexOf("{")>=0){var i=(o?nn:Ye)(r);a=Y(i,n.toString())?Je(n).current:n.parse(i)&&Je(n).lastMatch,e=e.replace(/\{([^}?]+)(\??)\}/g,(function(t,n,r,o){return a.params[n]||(r&&o+t.length===e.length?"":"null")}))}return"~"===e[0]?e=(o?Ye:nn)(ht(a.minPath,e.slice(1))):"/"!==e[0]&&(e=ht(r,e)),gt(e,!0)}function m(t){xt("[match-path]",t).each((function(t,e){if(!Qe.has(e)){var n=document.createElement("div");n.setAttribute("style","display: none !important"),n.setAttribute("match-path",e.getAttribute("match-path")||""),e.attributes.default&&n.setAttribute("default",""),xt(e).before(n),xt(e).detach(),Dt(e,"hidden",!0),Qe.set(n,e),Qe.set(e,e)}}))}function v(e,r){var i=o,u=e.path,s=new Map,f=xe.eventSource,p=Xe.slice(0);o=u,t.path=u,n.set(u),t.emit("beforepageload",{pathname:u},{handleable:!1}),Xe=r,Be=xt(r).filter("[page-title]")[0],a={},document.title=Be?pr(Be,"page-title",!0):document.title,Ln(!0,(function(){He(f,["pageenter",u],(function(){Qe.forEach((function(e,n){var r=Xe.indexOf(e)>=0;if(e!==n&&r===p.indexOf(e)<0)if(r){lr(e,!1),cr(e);var o=s.get(xt(e).parents("[match-path]")[0]),a=cn(e.getAttribute("match-path")),c=Ke.map((function(t){if(an(t.route,a))return t.callback(e,u)}));c.push(o),s.set(e,ut(c,(function(){Xe.indexOf(e)>=0&&(Dt(e,"hidden",!1),Te(e,"show","[match-path]"),t.emit("pageenter",e,{pathname:u},!0))})))}else t.emit("pageleave",e,{pathname:i},!0),Ie(e,"show","[match-path]").then((function(){Xe.indexOf(e)<0&&He(f,["pageleave",i],(function(){Dt(e,"hidden",!0),lr(e,!0)}))}))}))})),w(s,(function(t,e){Nn(e,t)})),ct(ut(s),(function(){l[c]===e&&e.resolve()}))}))}function b(){var e=l[c];if(e&&location.pathname+un()===en(i)||(d(i),e=l[c]),c>0&&mt(i)===mt(o))e.resolve(p(i));else if(!e.handled){e.handled=!0;var n=e.previous,s=i,f=Le(Ze,!0)?$e(Ze):qn();if(f)return r=i===r?null:o,f=at(f).then((function(){return d(s)}),(function(){throw q(Jt)})),l[c-1]===n?h():(l[c]=n,history.replaceState(n.id,"",en(n.path))),void e.forward(f);r=null;var b,y=[Ze];m(),Ln(!0,(function(){for(var t,e=rn(mt(i)),n=xt('[switch=""]').get();t=n.shift();)if(on(t,y)){var r=xt(t).children("[match-path]").get().map((function(t){var n=T(Qe,t)||t,r=xt('[switch=""]',n).get(),o=g(n.getAttribute("match-path"),e,!0);return{element:n,path:o.replace(/\/\*$/,""),exact:!r[0]&&"/*"!==o.slice(-2),placeholder:t!==n&&t,children:r}}));r.sort((function(t,e){return e.path.localeCompare(t.path)}));var o=P(r,(function(t){return(t.exact?e===t.path:wt(e,t.path))&&t.path}));w(r,(function(t,e){if(e.path===o){var r=e.element;y.unshift(r),e.placeholder&&(xt(e.placeholder).replaceWith(r),Mn(r),$n(r),n.push.apply(n,e.children))}}))}})),n&&a[i]&&a[n.path]?v(e,y):(a[i]=!0,xt('[switch=""]').each((function(t,e){if(on(e,y)){var n=xt(e).children("[match-path]");if(!n.filter((function(t,e){return y.indexOf(e)>=0}))[0])return b=nn((n.filter("[default]")[0]||n[0]).getAttribute("match-path")),!1}})),b&&b!==i?b===o?e.resolve(p(b,i)):e.forward(d(b,!0)):(console.log("Nagivate",i),Nn(f=at(t.emit("navigate",{pathname:i,oldPathname:u.path,oldStateId:u.id,newStateId:e.id,route:e.route})),Ze,(function(){l[c]===e&&v(e,y)}))))}}J(t,"path","",(function(t){return zn?((t=g(t))!==o&&(i=t,L(b)),o):o})),dt(e.baseUrl||""),"/"===pt?(tn=Ye,en=Ye):e.explicitBaseUrl&&(nn=en,rn=tn,tn=Ye,en=Ye);var y=e.initialPath||e.queryParam&&ne(e.queryParam),x=!y;y=tn(y||location.pathname),n=new dn(t,e.routes,y),t.define({get canNavigateBack(){return c>0},get previousPath(){return(l[c-1]||"").path||null},parseRoute:sn,resolvePath:g,navigate:function(t,e){return d(t,e).promise},back:function(t){return c>0?l[h()].reset().promise:!!t&&d(t).promise}}),W(t,"initialPath",y+(x?location.search:""),!0),W(t,"route",n,!0),W(t,"routes",Z(e.routes)),t.beforeInit((function(){xe.ready.then((function(){m(),Lt(window,"popstate",(function(){var t=P(l,(function(t,e){return t.id===history.state&&e+1}));t?(i=l[c=t-1].reset().path,L(b)):d(tn(location.pathname))}))}))})),d(y+(x?un():""),!0),t.on("ready",(function(){0===c&&d(y+(x?un():""),!0),b()})),t.on("pageenter",(function(t){xt(Nt("[x-autoplay]",t.target)).each((function(t,e){on(e)&&(0!==e.readyState&&(e.currentTime=0),e.play())}))})),t.on("pageleave",(function(e){xt(Nt("form",e.target)).each((function(e,n){t.emit("reset",n,null,!1)||n.reset()})),xt(Nt("[x-autoplay]",e.target)).each((function(t,e){e.pause()}))})),t.on("statechange",(function(t){jt(t.target,Be)&&(document.title=pr(Be,"page-title",!0))})),Fe(Ze,"video[autoplay], audio[autoplay]",(function(t){xt(t).attr("x-autoplay","").removeAttr("autoplay")}),!0)}));var hn="background-image".split(" "),gn="checked selected disabled readonly multiple ismap",mn=N(),vn=xe.root,bn=new Set,yn=new Map,wn=[],xn=[],Sn=[],An={},Pn={},On={},kn=0,Cn=!1;function Tn(t,e){var n=mn(e)||mn(e,{});return n[t]||(n[t]={})}function In(t,e,n){w(e,(function(e,n){"$$class"===e?Dt(t,n):"$$text"===e?t.textContent=n:"style"===e?xt(t).css(n):rt(e,gn)?t[e]=!!n:t.setAttribute(e,n)})),n||xe.emit("domchange",t)}function jn(t,e){w(e,(function(e,n){t[e]="$$class"===e||"style"===e?y({},t[e],n):n}))}function En(t,e){var n,r=new Set;do{t=S(b(t),(function(t){return jt(vn,t)})),n=b(r),xt(Nt(te(An),t)).not(n).each((function(t,n){w(An,(function(t,o){n.attributes[t]&&(o(n,Tn.bind(0,t),e),r.add(n))}))}))}while(n.length!==r.size)}function Nn(t,e,n){if(!m(t))return at((n||s)());if(e||"script"!==xe.eventSource){var r=ir("loading",(e=e||xe.activeElement)||vn),o=ir("error",e||vn),a=Tn("handleAsync",r);cr(r,{loading:sr(r,"loading")||!0}),cr(o,{error:null}),a.value=(a.value||0)+1,t.then((function(){cr(r,{loading:!!--a.value})}),(function(t){cr(r,{loading:!!--a.value}),cr(o,{error:""+(t.message||t)})}))}return t.then(n||null)}function Mn(t){jt(vn,t)&&bn.add(t)}function Rn(t){if(!kn&&!Cn){var e=new Map,n=new Map,r=function(t,e){jn(T(n,t,Object),e)};Cn=!0;try{He(xe.eventSource,"statechange",(function(){En(bn,r);var t=xt.uniqueSort(S(bn,(function(t){return jt(vn,t)})));bn.clear(),w(t,(function(t,n){var r=Tn("oldValues",n),o={},a={};for(w(sr(n,!0),(function(t,e){r[t]!==e&&(o[t]=r[t],a[t]=e,r[t]=e)})),e.set(n,{oldValues:o,newValues:a});n=n.parentNode;){var i=e.get(n);if(i)for(var c in i.newValues)c in a||(a[c]=i.newValues[c],o[c]=i.oldValues[c])}}));var n=[];w(t.reverse(),(function(t,o){He("statechange",[o,e.get(o).newValues],(function(t){t.log(o===vn?document:o),xt(Nt(te(Pn),o)).not(n).each((function(t,e){w(Pn,(function(t,n){e.attributes[t]&&n(e,Tn.bind(0,t),r)})),n.push(e)}))}))}))})),ut(wn.map((function(t){return t(n)}))).then((function(){var r=new Map;w(n,(function(n,o){if(t)yn.has(n)?jn(yn.get(n),o):In(n,o);else{var a=xt(n).filter("[match-path]")[0]||xt(n).parents("[match-path]")[0]||vn,i=r.get(a);if(!i){var c=function(t){var n,r=t.getAttribute("animate-on-statechange");if(!r)return!0;for(;t&&!(n=e.get(t));t=t.parentNode);return n&&A(r,(function(t){return t in n.newValues}))};i=[],R((function(){Ie(a,"statechange","[match-path]",c,!0).then((function(){w(i,(function(t,e){In(e,I(yn,e))})),Te(a,"statechange","[match-path]",c)}))})),r.set(a,i)}jn(T(yn,n,Object),o),i.push(n)}})),w(e,(function(t,e){xe.emit("statechange",t,{data:sr(t),newValues:e.newValues,oldValues:e.oldValues},!0)}))}))}finally{Cn=!1}}}function Ln(t,e){var n=!0;try{kn=(kn||0)+1,$(e||t)()}catch(t){throw n=!1,t}finally{!--kn&&n&&Rn(!0===t)}}function $n(t){var e=Cn;Cn=!0;try{En(t,(function(t,e){In(t,e,!0)}))}finally{Cn=e}for(var n=[t],r=t===vn,o=-1,a=0;o<Sn.length;)w(Sn.slice(o<0?0:o),(function(e,r){xt(Nt(r.target,t)).each((function(t,e){r.unbindHandlers.push(Fn.on(e,r.handlers)),r.handlers.mounted&&n.indexOf(e)<0&&n.push(e)}))})),o=Sn.length,w(xt.uniqueSort(n.slice(a)),(function(t,e){xe.emit("mounted",e)})),r||(r=!0,xe.emit("mounted",vn,{target:t})),a=n.length;w(xn,(function(e,n){xt(Nt(n.selector,t)).each((function(t,e){n.handler.call(e,e)}))}))}function qn(t){var e=A(xt("[prevent-leave]").get(),(function(t){var e=Tn("preventLeave",t),n=e.allowLeave;if(on(t)||n){var r=pr(t,"prevent-leave");return!r&&n&&delete e.allowLeave,r&&!n}}));return e&&!t?ut(xe.emit("preventLeave",e,null,!0),(function(t){if(!t)throw q(Jt);Tn("preventLeave",e).allowLeave=!0})):!!e}function Un(t,e){On[t]=xt(e)[0]}function Dn(t,e){An[t]=$(e)}function Vn(t,e){Pn[t]=$(e)}Dn("apply-template",(function(t,e){var n=e(t),r=t.getAttribute("apply-template"),o=On[r]||On[pr(t,"apply-template")],a=n.template;if(n.attributes||y(n,{attributes:Zt(t),childNodes:b(t.childNodes)}),o&&o!==a){n.template=o,o=o.cloneNode(!0),a&&w(a.attributes,(function(e,n){t.removeAttribute(n.name)})),Xt(t,n.attributes),Yt(o,t);var i=xt(n.childNodes).detach();xt(Nt("content:not([for])",o)).replaceWith(i),xt(Nt("content[for]",o)).each((function(t,e){xt(e).replaceWith(i.filter(e.getAttribute("for")||""))})),xt(t).empty().append(o.childNodes)}})),Dn("auto-var",(function(t){cr(t,pr(t,"auto-var"))})),Dn("foreach",(function(t,e){var n=e(t),r=n.template||(n.template=xt(t).contents().detach().filter((function(t,e){return 1===e.nodeType||/\S/.test(e.data||"")})).get()),o=n.nodes||[],a=n.data||[],i=b(pr(t,"foreach"));if(i.length!==a.length||i.some((function(t,e){return a[e]!==t}))){var c=x(i,(function(n){var i=a.indexOf(n);if(i>=0)return a.splice(i,1),o.splice(i*r.length,(i+1)*r.length);var c=xt(r).clone().get(),u=xt(Nt("[foreach]",c));return u[0]&&xt(Nt("[foreach]",r)).each((function(t,n){e(u[t]).template=e(n).template})),w(c,(function(e,r){1===r.nodeType&&(xt(t).append(r),ur(r,{foreach:n}),$n(r))})),c}));y(n,{nodes:c,data:i.slice()}),xt(o).detach(),xt(t).append(c)}})),Dn("switch",(function(t,e,n){var r=t.getAttribute("switch")||"";if(on(t)&&r){var o=e(t);void 0===o.matched&&ur(t,"matched",(function(){return o.matched&&sr(o.matched,!0)}));var a,i,c,u=sr(t),l=Ne.eval(r,u),s=xt("[match-"+r+"]",t).filter((function(e,n){return xt(n).parents("[switch]")[0]===t})),f=!rt("switch",t.getAttribute("keep-child-state")||""),p=o.matched,d=new Map;s.each((function(t,e){var n=Ne.eval('"null" ?? '+e.getAttribute("match-"+r),sr(e));if(d.set(e,n),Ne.eval("$0 == $1",[l,n]))return a=e,!1})),a=a||s.filter("[default]")[0]||s[0]||null,p!==a?He("switch",[t,r,"→",l],(function(t){t.log("Matched: ",a||"(none)"),a&&(f&&lr(a),cr(a)),p&&f&&lr(p,!0),s.each((function(t,e){n(e,{$$class:{active:e===a}})}))})):(i="switch",c=[t,r,"→",l,"(unchanged)"],console.log(_e(i,c)),r in u&&void 0!==d.get(a)&&cr(t,r,d.get(a))),o.matched=a}})),Vn("template",(function(t,e,n){var r=e(t),o=r.templates;o||(o={},w(t.attributes,(function(t,e){e.value.indexOf("{{")>=0&&(o[e.name]=rt(e.name,gn)?e.value.replace(/^{{|}}$/g,""):e.value)})),!t.childElementCount&&(t.textContent||"").indexOf("{{")>=0&&(o.$$text=t.textContent),r.templates=o);var a=sr(t),i={};w(o,(function(e,n){var r=fr(n,a,t,e,!rt(e,gn));("$$text"===e?t.textContent:(t.getAttribute(e)||"").replace(/["']/g,""))!==r&&(i[e]=r)})),n(t,i)})),Vn("set-style",(function(t,e,n){var r=Pt(pr(t,"set-style",!0));w(hn,(function(t,e){var n=Ot(r[e]);n&&(r[e]='url("'+vt(yt(n))+'")')})),n(t,{style:r})})),Vn("set-class",(function(t,e,n){n(t,{$$class:pr(t,"set-class")})}));var Fn,zn,Wn,_n=N(),Hn=xe.root,Bn={};function Jn(t){return ut(t.splice(0),(function(){return t.length&&Jn(t)}))}function Qn(t){return function(e){if(e.target===e.context)return t.apply(this,arguments)}}function Gn(t){var e=t.target;xt(Nt('img[src^="/"], video[src^="/"]',e)).each((function(t,e){e.src=vt(e.getAttribute("src"))})),xt(Nt('a[href^="/"]',e)).each((function(t,e){e.href=vt(e.getAttribute("href"))})),xt(Nt("[data-src]",e)).each((function(t,e){e.src=vt(e.dataset.src),e.removeAttribute("data-src")})),xt(Nt("[data-bg-src]",e)).each((function(t,e){e.style.backgroundImage='url("'+vt(e.dataset.bgSrc)+'")',e.removeAttribute("data-bg-src")})),xt(Nt("form",e)).on("submit",(function(t){t.preventDefault()}))}function Kn(){var t=this;_n(t,{init:[],options:{}}),W(t,"element",Hn,!0),W(t,"ready",new Promise((function(e){t.on("ready",e.bind(0,t))})),!0),t.on("mounted",Gn)}function Zn(){if(Wn)throw new Error("brew() can only be called once");return Fn=new Kn,w(Me,(function(t,e){var n=e&&g(Fn[et("use-"+t)]);n&&n.call(Fn,e)})),w(arguments,(function(t,e){$(e)(Fn)})),Wn=!0,cr(Hn,{loading:"initial"}),Nn(ut([xe.ready,Jn(_n(Fn).init)],(function(){zn=!0,$n(Hn),Fn.emit("ready")})),Hn),Fn}function Xn(t,e){$(e),z(Kn,O(et("use-"+t),(function(n){var r=_n(this);r.options[t]=y(r.options[t]||{},n),e(this,r.options[t])})))}function Yn(t,e,n){return!0===t?function(t){n(t,{})}:Xn.bind(0,t,e)}z(Kn,{emit:function(t,e,n,r){return p(e,Node)||(r=n,n=e,e=this.element),xe.emit(t,e,n,r)},define:function(t){F(this,t)},beforeInit:function(t){g(t)&&(t=t.call(this)),_n(this).init.push(t)},detect:function(t,e){var n=this,r={};w(t,(function(t,e){Bn[e]&&(r[e]=g(Bn[e])?Bn[e]=ut(Bn[e]()).catch((function(t){return console.warn("Detection for "+e+" has thrown exception:",t),!1})):Bn[e])})),this.beforeInit(ut(r,(function(t){return t=Object.freeze(y({},n.supports,t)),F(n,{supports:t}),g(e)&&e(t)})))},when:function(t,e){this.beforeInit(ut(t,(function(t){if(t)return e()})))},on:function(t,e,n,r){r=!0===(r||n),g(e)&&(n=e,e=t,t=Hn);var o=e;if("string"==typeof e)r&&(n=Qn(n)),e.indexOf(" ")>=0?(o={},w(e,(function(t,e){o[e]=n}))):o=O(e,n);else if(r)for(var a in e)e[a]=Qn(e[a]);var i=[];return"string"==typeof t?(!function(t,e,n){Sn.push({target:t,handlers:e,unbindHandlers:n})}(t,o,i),t=xt(t).get()):t instanceof Node&&(t=[t]),w(t,(function(t,e){i.push(xe.on(e,o))})),E(i)},matchPath:function(t,e,n){g(e)&&(n=e,e=null),this.on("mounted",(function(r){var o=r.target.getAttribute("match-path");o&&an(t,o)&&(!e||xt(r.target).is(e))&&n.call(r.target,r.target)}))},matchElement:function(t,e){xn.push({selector:t,handler:e})},matchRoute:an,beforeUpdate:function(t){wn.push($(t))},beforePageEnter:function(t,e){g(t)&&(e=t,t="/*"),Ke.push({route:sn(t),callback:$(e)})}}),K(Kn.prototype);u.TraversableNode,u.TraversableNodeTree,u.InheritedNode;var tr=u.InheritedNodeTree,er=(u.TreeWalker,xe.root),nr={var:!0,"auto-var":!0,"error-scope":{error:null}},rr=new tr(er,(function(){var t=this,e=t.element;w(e.dataset,(function(e,n){W(t,e,Ne.eval("`"+nt(n||"null")))})),w(or(e,!0,t),(function(e,n){W(t,e,n)})),e===er&&(t.loading=null,t.error=null)}),{selector:te(nr)});function or(t,e,n){var r={};return w(nr,(function(o,a){if(t.attributes[o]){if(!0===a&&(a=pr(t,o,!1,n),!v(a)))return;for(var i in a)r[i]=void 0===a[i]||e?null:a[i]}})),r}function ar(t,e){e=e||er;for(var n=rr.getNode(e);null!==n;n=Object.getPrototypeOf(n))if(V(n,t))return n;return console.warn("Undeclared state: %s",t,{element:e}),rr.setNode(e)}function ir(t,e){return ar(t,e).element}function cr(t,e,n){var r=e&&(v(e)||O(e,n)),o=!1;if("string"==typeof t)Ln((function(){xt(t).each((function(t,e){o|=cr(e,r)}))}));else{var a=rr.setNode(t);w(r||pr(t,"set-var"),(function(e,n){if(a[e]!==n){var r=ar(e,t);r[e]=n,o=!0,Mn(r.element)}})),o&&zn&&L(Rn)}return!!o}function ur(t,e,n){var r=v(e)||O(e,n),o=rr.setNode(t),a={};for(var i in r)g(r[i])?_(o,i,r[i],s):(W(o,i,o[i]),a[i]=r[i]);return cr(t,a)}function lr(t,e){Ln((function(){w(rr.descendants(t),(function(t,n){cr(n.element,or(n.element,e))}))}))}function sr(t,e){var n=function(t){for(var e in t.dataset)return!0}(t)?rr.setNode(t):rr.getNode(t)||{};if(!0!==e)return e?n[e]:y({},n);if(n.element!==t)return{};var r=Object.getOwnPropertyNames(n);return r.splice(r.indexOf("element"),1),k(n,r)}function fr(t,e,n,r,o){var a={globals:{app:Fn}};return o?ot(Ne(t,y({},e),a)):Ne.eval(t,y({},e),a)}function pr(t,e,n,r){var o=t.getAttribute(e);return o?fr(o,r||sr(t),0,0,n):n?"":null}rr.on("update",(function(t){w(t.updatedNodes,(function(t,e){Mn(e.element)}))}));var dr="button,input,select,textarea,[contenteditable],a[href],area[href],iframe",hr="[is-flyout]:not([tab-through]),[tab-root]",gr=xe.root,mr=new Map,vr=new Map,br={};function yr(t,e){br[t]=$(e)}function wr(t,e){var n=xt(t||"[is-flyout].open").get();return ut(n.map((function(t){var n=mr.get(t);return n&&(mr.delete(t),be(t),n.resolve(e),n.source&&Dt(n.source,"target-opened",!1)),lt(t.attributes["animate-out"]?(Dt(t,"closing",!0),Ie(t,"open")):kt(t,"closing")).then((function(){Dt(t,{open:!1,closing:!1,visible:!1})}))})))}function xr(t,e,n,r){var o=n||gr,a=t?Mt(t,o):xt(o).closest("[is-flyout]")[0];if(!a)return it();var i,c=mr.get(a);if(c)return r?wr(a,n&&Ne.eval("`"+n.value)):c.path=Fn.path,c.promise;var u=new St((function(t){i=t}));mr.set(a,{source:n,promise:u,resolve:i,path:Fn.path}),n&&(Dt(n,"target-opened",!0),ye(a,n)),e&&cr(a,e),Dt(a,"visible",!0),kt(a,"open",(function(){we(a)})),Te(a,"open"),a.attributes["is-modal"]&&(qe(a,u),ve(a));var l=function(t){var e=a.getAttribute("swipe-dismiss");("focusout"===t.type?e:t.data!==et("swipe-"+e))||(wr(a),xe.event&&xe.event.preventDefault(),t.handled())};return ct(u,xe.on(a,{focusout:l,gesture:l})),u}yr("validate",(function(t){var e=Mt(this.getAttribute("validate")||"",t.target);if(e){var n=xe.emit("validate",e)||!e.checkValidity||e.checkValidity();if(n){if(m(n))return n.then((function(t){if(!t)throw q(Ht)}))}else t.stopImmediatePropagation(),t.preventDefault()}})),yr("context-method",(function(t){var e=t.currentTarget,n=et(e.getAttribute("context-method")||"");if(g(Fn[n])){var r,o=e.getAttribute("context-form"),a=o?Mt(o,e):e.form,i=!0;return a?(i=xe.emit("validate",a)||a.checkValidity(),r=[ee(a)]):r=b(pr(e,"method-args")),ut(i,(function(t){if(!t)throw q(Ht);return Fn[n].apply(Fn,r)}))}})),xe.ready.then((function(){var t=new WeakMap,e=gr;function n(n){xt(n||dr).each((function(n,r){(xt(r).closest(hr)[0]||gr)!==e?(t.has(r)||t.set(r,r.tabIndex),r.tabIndex=-1):xt(r).attr("tabindex",I(t,r)||null)}))}xe.on("focuschange",(function(){var t=A(xt(hr).get().reverse(),(function(t){return me(t)}))||gr;t!==e&&(e=t,n())})),Fe(gr,dr,n,!0),Fn.on("mounted",(function(t){xt(Nt(te(br),t.target)).attr("async-action","")})),Fn.on("navigate",(function(){setTimeout((function(){mr.forEach((function(t,e){t.path!==Fn.path&&wr(e)}))}))})),xt("body").on("click","[disabled], .disabled, :disabled",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),xt("body").on("click","[async-action]",(function(t){var e=t.currentTarget,n=T(vr,e,Array),r=null;if(w(br,(function(t,o){if(e.attributes[t]&&n.indexOf(o)<0)return r=o,!1})),r){n.push(r);var o=r.call(e,t);m(o)&&!t.isImmediatePropagationStopped()&&(t.stopImmediatePropagation(),t.preventDefault(),Nn(o).then((function(){qt(t)}),(function(t){vr.delete(e),console.warn("Action threw an error:",t)})))}else vr.delete(e)})),xt("body").on("click","a[href]:not([rel]), [data-href]",(function(t){if(!t.isDefaultPrevented()){var e=t.currentTarget,n=e.getAttribute("data-href")||e.getAttribute("href");if(t.preventDefault(),t.stopPropagation(),"_blank"===e.getAttribute("target"))window.open(n,tt());else{var r=function(){!("navigate"in Fn)||/^([a-z0-9]+:|\/\/)/.test(n)?location.href=n:Fn.navigate(n)},o=xt(e).closest("[is-modal]")[0];o?(xr(o).then(r),wr(o)):(r(),wr())}}})),xt("body").on("click","[set-var]:not([match-path])",(function(t){var e=t.currentTarget;e===xt(t.target).closest("[set-var]")[0]&&(cr(e),wr())})),xt("body").on("click","[toggle]",(function(t){var e=t.currentTarget;t.stopPropagation(),e.attributes["toggle-if"]&&!pr(e,"toggle-if")||xr(e.getAttribute("toggle"),null,e,!0)})),xt("body").on("click","[toggle-class]",(function(t){var e=t.currentTarget;if(t.stopPropagation(),!e.attributes["toggle-if"]||pr(e,"toggle-if")){var n=e.getAttribute("toggle-class-for"),r=n?Mt(n,e):t.currentTarget;w(e.getAttribute("toggle-class"),(function(t,e){Dt(r,e.slice(1),"+"===e[0])}))}}))})),xe.ready.then((function(){xt("[brew-template]").each((function(t,e){Un(e.getAttribute("brew-template")||"",e.cloneNode(!0))})),xt("apply-attributes").each((function(t,e){var n=xt(e.getAttribute("elements")||"",e.parentNode||xe.root);w(e.attributes,(function(t,e){"elements"!==e.name&&n.each((function(t,n){n.setAttribute(e.name,e.value)}))}))})).remove(),xt("[style]").each((function(t,e){var n=Ot(e.style.backgroundImage);n&&(e.setAttribute("data-bg-src",decodeURIComponent(vt(yt(n)))),e.style.backgroundImage="none")})),window.onbeforeunload=function(t){qn(!0)&&(t.returnValue="",t.preventDefault())}}));function Sr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Sr(Object(n),!0).forEach((function(e){Pr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Or=Ar(Ar(Ar(Ar(Ar({ErrorCode:o,defaults:Me},a),r),i),c),{},{getVar:sr,setVar:cr,declareVar:ur,evalAttr:pr,isElementActive:on,handleAsync:Nn,preventLeave:qn,install:Xn,addDetect:function(t,e){Bn[t]=$(e)},addExtension:Yn,addTemplate:Un,with:function(){var t=this.bind.apply(Zn,[0].concat(x(arguments,(function(t){return v(t)?function(e){F(e,t)}:g(t)||s}))));return F(t,Or),t}});F(Zn,Or);const kr=Zn,Cr=Yn("config",(function(t,e){var n=K();F(t,{config:n}),t.beforeInit(ue(e.path).catch(g(e.fallback)||null).then((function(t){y(n,t),e.freeze&&X(n)})))})),Tr=Yn(!0,"formVar",(function(t){t.matchElement("form[form-var]",(function(e){var n=e.getAttribute("form-var"),r={},o=function(t){if(t&&(r=ee(e)),n){var o=sr(e,n)||{};j(r,k(o,U(r)))||cr(e,n,y({},o,r))}else cr(e,r)};ze(e,"value",(function(){L(o)})),Fe(e,":input",(function(t){w(t,(function(t,n){var r=Ve(n,e);$t(r,n,"change input",(function(){L(o)})),r.then(o.bind(null,!0))})),o(!0)}),!0),t.on(e,"reset",(function(){return n?on(ir(n,e))||e.reset():w(e.elements,(function(t,n){on(ir(n.name,e))||(n.value=null)})),!0}))})),t.on("pageenter",(function(t){xt(Nt("form[form-var]",t.target)).each((function(t,e){xt(":input:eq(0)",e).trigger("change")}))}))}));function Ir(t){if(t){var e={};return w(t,(function(t,n){var r=n.toLowerCase();e[r]=n,r.indexOf("-")>0&&(e[r.split("-")[0]]=n)})),e}}function jr(t,e){return t&&e?t[e.toLowerCase()]:e}function Er(t,e){var n=navigator.languages||[navigator.language||""];return t?(n=Ir(n),h(t)&&(t=Ir(t)),P(n,(function(e,n){return t[n]}))||e||U(t)[0]):n[0]}const Nr=Yn("i18n",(function(t,e){var n=Ir(e.languages),r=t.route&&e.routeParam,o=e.cookie&&ie(e.cookie,864e5),a=jr(n,r&&t.route[r])||jr(n,o&&o.get())||Er(n,e.defaultLanguage),i=function(e){t.language=e};J(t,"language",a,(function(i){return i=jr(n,i)||a,o&&o.set(i),r&&zn&&t.route.replace(r,i.toLowerCase()),a!==i&&(a=i,e.reloadOnChange&&location.reload()),a})),t.define({setLanguage:i,detectLanguage:Er}),r&&(t.route.watch(r,i),t.on("ready",(function(){t.route.replace(r,a.toLowerCase())})))})),Mr=Yn("login",(function(t,e){var n=ie((e=y({loginPagePath:"",defaultRedirectPath:"",cookie:"",expiry:0,logout:null,login:null,tokenLogin:null,getTokenFromResponse:null},e)).cookie,e.expiry),r=J(t,"loggedIn",!1,!0);function o(o){r(!0),g(e.getTokenFromResponse)&&n.set(e.getTokenFromResponse(o)),t.emit("login",{data:o})}var a=t.initialPath,i=n.get();i&&g(e.tokenLogin)&&t.beforeInit(lt(ut(e.tokenLogin(i),o))),t.define({login:function(n,i,c){return c=g(c||i),i="string"==typeof i&&i,ut(e.login(n)).then((function(t){return o(t),c&&c()}),(function(t){throw r(!1),t.status>=500?"server-error":"incorrect-cred"})).then((function(){a===t.resolvePath(e.loginPagePath)&&(a=""),t.navigate(i||a||e.defaultRedirectPath),a=""}))},logout:function(o,a){return t.loggedIn?(a=g(a||o),o="string"==typeof o&&o,at(qn()).then((function(){return e.logout()})).then((function(){return r(!1),n.delete(),t.emit("logout"),a&&a()})).then((function(){t.navigate(o||e.loginPagePath)}))):at()}}),t.on("navigate",(function(n){var r=t.resolvePath(e.loginPagePath);f(t.loggedIn,n.pathname!==r)&&(t.loggedIn?t.navigate(e.defaultRedirectPath):(a=n.pathname,t.navigate(r)))}))}));var Rr="background-image".split(" ");Me.preloadImage=!0;const Lr=Yn("preloadImage",(function(t){t.beforeUpdate((function(t){var e={};return w(t,(function(t,n){(n.src||n.style)&&on(t)&&(n.src&&(e[bt(n.src)]=!0),n.style&&w(Rr,(function(t,r){var o=Ot(n.style[r]);o&&(e[bt(o)]=!0)})))})),fe(U(e),200)})),t.beforePageEnter((function(t){return fe(t,1e3)}))})),$r=Yn("scrollable",(function(t,e){e=y({bounce:!1},e);var n=window.DOMMatrix||window.WebKitCSSMatrix||window.MSCSSMatrix,r=N(),o=0;function a(t){return r(t)||r(t,{childClass:"scrollable-target-"+ ++o})}function i(){xt("[scrollable]:visible").scrollable("refresh")}function c(){xt('[animate-on~="scroll-into-view"]:visible').each((function(t,e){var r=new n(getComputedStyle(e).transform),o=Vt(xe.root),a=Vt(e),i=Ft(o,a.translate(-r.e||0,0))||Ft(o,a.translate(0,-r.f||0));i^Ut(e,"tweening-in")&&(i||e.attributes["animate-out"])&&(i?Te:Ie)(e,"scroll-into-view")}))}t.on("ready",(function(){Fe(xe.root,te(["scrollable","scrollable-target"]),(function(n){xt(n).filter("[scrollable-target]").each((function(t,e){var n=xt(e).closest("[scrollable]")[0];xt(e).addClass(a(n).childClass)})),xt(n).filter("[scrollable]").each((function(n,r){!function(n){var r,o,i=a(n).childClass,c=n.getAttribute("scrollable"),u=n.getAttribute("scroller-snap-page")||"",l=n.getAttribute("scroller-state")||"",s=n.getAttribute("scroller-page")||"",f=n.hasAttribute("persist-scroll"),p={},d=!1,h=!1;function g(t){return s&&xt(s,n).get()[t]}function m(t){if(l){var e={};e[l]=t,cr(n,e)}}function v(t,e){var o=g(t);e=e||"center top",!d&&Tt(n)&&o&&(d=!0,r=!0,m(t),xt(n).scrollable("scrollToElement",o,e,e,200,(function(){d=!1,r=!1})))}function b(){("always"===u||u===t.orientation)&&Tt(n)&&(d?h=!0:(h=!1,v(sr(n,l))))}if(xt(n).scrollable(y({},e,{handle:rt(c,"auto scrollbar content")||"content",hScroll:!rt(c,"y-only"),vScroll:!rt(c,"x-only"),content:"."+a(n).childClass+":visible:not(.disabled)",pageItem:s,snapToPage:"always"===u||u===t.orientation,scrollStart:function(e){"script"!==xe.eventSource&&delete p[history.state],t.emit("scrollStart",n,e,!0)},scrollMove:function(e){t.emit("scrollMove",n,e,!0)},scrollEnd:function(e){t.emit("scrollStop",n,e,!0)}})),De(n,(function(){xt(n).scrollable("destroy")})),De(n,xe.on(n,{drag:function(){he()},getContentRect:function(t){if(t.target===n||xt(t.target).closest("."+i)[0]){var e=Vt(n),r=xt(n).scrollable("scrollPadding");return e.top+=r.top,e.left+=r.left,e.right-=r.right,e.bottom-=r.bottom,e}},scrollBy:function(t){xt(n).scrollable("stop");var e=xt(n).scrollable("scrollLeft"),r=xt(n).scrollable("scrollTop");return xt(n).scrollable("scrollBy",t.x,t.y,200),{x:e-xt(n).scrollable("scrollLeft"),y:r-xt(n).scrollable("scrollTop")}}})),s&&("always"!==u&&De(n,t.on("orientationchange",(function(){xt(n).scrollable("setOptions",{snapToPage:u===t.orientation})}))),l&&(De(n,t.on(n,{statechange:function(t){var e=t.data[l];d||((0|Vt(g(e)).width)>(0|Vt().width)?v(e,"left center"):v(e))},scrollMove:function(t){d=!0,r||m(t.pageIndex)},scrollStop:function(t){m(t.pageIndex),d=!1,h&&b()}},!0)),De(n,Lt(window,"resize",(function(){clearTimeout(o),o=setTimeout(b,200)}))))),f){var w=!1,x=function(){var t=p[history.state];t&&xt(n).scrollable("scrollTo",t.x,t.y,0)};De(n,E(xe.on("asyncStart",(function(){w=!0})),xe.on("asyncEnd",(function(){w=!1,x()})),t.on("navigate",(function(t){p[t.oldStateId]={x:xt(n).scrollable("scrollLeft"),y:xt(n).scrollable("scrollTop")},setTimeout((function(){w||x()}))}))))}}(r),xt(r).scrollable(ge(r)?"enable":"disable")}))}))})),t.on("statechange orientationchange animationcomplete",(function(){M(i)})),t.on("pageenter",(function(t){var e=xt(Nt("[scrollable]",t.target)).add(xt(t.target).parents("[scrollable]"));xt(Nt("[scrollable-target]",t.target)).each((function(t,e){xt(e).toggleClass("disabled",!on(e))})),e.scrollable("refresh"),e.filter(":not([keep-scroll-offset])").scrollable("scrollTo",0,0)})),t.on("resize pageenter statechange scrollMove orientationchange",(function(){M(c)})),xe.on("modalchange",(function(){xt("[scrollable]").each((function(t,e){xt(e).scrollable(ge(e)?"enable":"disable")}))})),xe.on("keystroke",(function(t){var e=xe.event;if(xe.modalElement&&e&&e.target===document.body&&rt(t.data,"space pageUp pageDown leftArrow rightArrow upArrow downArrow")){var n=Nt("[scrollable]",xe.modalElement)[0];n&&xt(n).triggerHandler(xt.Event("keydown",{keyCode:e.keyCode}))}}))}));u.IS_IOS,u.IS_IE10,u.IS_IE,u.IS_MAC;var qr=u.IS_TOUCH;const Ur=Yn(!0,"viewport",(function(t){var e,n,r,o=J(t,"orientation","",!0),a=qr&&"MacIntel"!==navigator.platform;function i(i){var c=screen.availWidth,u=screen.availHeight,l=e;n=a?c:document.body.offsetWidth,r=a?c===window.innerWidth?u:window.innerHeight:document.body.offsetHeight,o((e=n/r)>=1?"landscape":"portrait"),!1!==i&&(t.emit("resize",{aspectRatio:e,viewportWidth:n,viewportHeight:r}),f(e>=1,l>=1)&&t.emit("orientationchange",{orientation:t.orientation}))}F(t,{get aspectRatio(){return e},get viewportWidth(){return n},get viewportHeight(){return r}}),t.on("orientationchange",(function(){Te(xe.root,"orientationchange")})),xt(window).on("resize",(function(){M(i)})),xt((function(){i(!1)}))}));const Dr=kr.with((function(t){window.app=t}),Cr,Tr,Nr,Mr,Lr,$r,Ur)},860:function(t,e,n){var r=window.jQuery||n(609);t.exports=r;try{n(172)}catch(t){}},424:function(t,e,n){var r=window.Promise||n(804).default;t.exports=r},256:function(t,e,n){var r=window.waterpipe||n(160);t.exports=r;var o=r;o.pipes["{"]=function(t,e){var n=e.globals,r=n.new,o={};for(n.new=o;e.hasArgs();){var a=e.raw();if("}"===a)break;o[String(a).replace(/:$/,"")]=e.next()}return n.new=r,o},o.pipes["{"].varargs=!0},609:function(t){"use strict";t.exports=e},172:function(t){"use strict";if(void 0===n){var e=new Error("Cannot find module 'jq-scrollable'");throw e.code="MODULE_NOT_FOUND",e}t.exports=n},804:function(t){"use strict";t.exports=r},160:function(t){"use strict";t.exports=o},163:function(e){"use strict";e.exports=t}},i={};function c(t){if(i[t])return i[t].exports;var e=i[t]={exports:{}};return a[t](e,e.exports,c),e.exports}return c.d=function(t,e){for(var n in e)c.o(e,n)&&!c.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c(979)}().default}));
//# sourceMappingURL=brew.min.js.map