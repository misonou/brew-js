!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("zeta-dom"),require("jQuery"),function(){try{return require("jq-scrollable")}catch(t){}}(),require("promise-polyfill"),require("waterpipe")):"function"==typeof define&&define.amd?define("brew",["zeta-dom","jQuery","jq-scrollable","promise-polyfill","waterpipe"],e):"object"==typeof exports?exports.brew=e(require("zeta-dom"),require("jQuery"),function(){try{return require("jq-scrollable")}catch(t){}}(),require("promise-polyfill"),require("waterpipe")):t.brew=e(t.zeta,t.jQuery,t["jq-scrollable"],t["promise-polyfill"],t.waterpipe)}(self,(function(t,e,n,r,o){return function(){var a={434:function(t,e,n){"use strict";n.d(e,{default:function(){return cr}});var r={};n.r(r),n.d(r,{baseUrl:function(){return ut},combinePath:function(){return st},isSubPathOf:function(){return gt},normalizePath:function(){return ft},setBaseUrl:function(){return lt},toAbsoluteUrl:function(){return dt},toRelativeUrl:function(){return ht},withBaseUrl:function(){return pt}});var o={};n.r(o),n.d(o,{addStyleSheet:function(){return Yt},api:function(){return Kt},cookie:function(){return Gt},copyAttr:function(){return zt},deleteCookie:function(){return Qt},getAttrValues:function(){return Dt},getCookie:function(){return Bt},getFormValues:function(){return _t},getJSON:function(){return Zt},getQueryParam:function(){return Ht},loadScript:function(){return Xt},preloadImages:function(){return te},selectorForAttr:function(){return Wt},setAttr:function(){return Ft},setCookie:function(){return Jt}});var a={};n.r(a),n.d(a,{addAnimateIn:function(){return pe},addAnimateOut:function(){return de},animateIn:function(){return se},animateOut:function(){return fe}});var i={};n.r(i),n.d(i,{addAsyncAction:function(){return Fn},closeFlyout:function(){return zn},openFlyout:function(){return Wn}});var c=n(163),u=c.util,l=u.noop,s=u.either,f=u.is,p=(u.isUndefinedOrNull,u.isArray),d=u.isFunction,h=u.isThenable,g=u.isPlainObject,m=(u.isArrayLike,u.makeArray),v=u.extend,b=u.each,y=u.map,w=u.grep,x=(u.splice,u.any),P=u.single,S=u.kv,A=u.pick,O=u.exclude,k=u.mapGet,T=u.mapRemove,j=(u.arrRemove,u.setAdd,u.equal),C=u.combineFn,I=(u.executeOnce,u.createPrivateStore),E=u.setTimeoutOnce,N=u.setImmediate,M=u.setImmediateOnce,R=u.throwNotFunction,$=u.keys,q=u.values,L=u.hasOwnProperty,U=(u.getOwnPropertyDescriptors,u.define),V=u.definePrototype,D=u.defineOwnProperty,F=u.defineGetterProperty,z=u.defineHiddenProperty,W=u.defineAliasProperty,_=u.defineObservableProperty,H=u.watch,B=u.watchOnce,J=u.watchable,Q=(u.inherit,u.deepFreeze),G=u.iequal,K=u.randomId,Z=(u.repeat,u.camel),X=(u.hyphenate,u.ucfirst,u.lcfirst,u.trim),Y=u.matchWord,tt=u.htmlDecode,et=u.resolve,nt=u.reject,rt=u.always,ot=u.resolveAll,at=u.catchAsync,it=u.setPromiseTimeout,ct={http:80,https:443},ut="/";function lt(t){ut=ft(t,!0)}function st(t,e){return t=ft(t),e=ft(e),"/"===t?e:"/"===e?t:t+e}function ft(t,e){if(!t||"/"===t)return"/";if(/(:\/\/)|\?|#/.test(t)){var n=document.createElement("a");return n.href=t,(RegExp.$1&&(n.origin||n.protocol+"//"+n.hostname+(n.port&&+n.port!==ct[n.protocol.slice(0,-1)]?":"+n.port:"")))+ft(n.pathname,e)+n.search+n.hash}if(t=String(t).replace(/\/+(\/|$)/g,"$1"),e&&/(^|\/)\.{1,2}(\/|$)/.test(t)){for(var r=t.split("/"),o=0;o<r.length;)"."===r[o]||".."===r[o]&&!o?r.splice(o,1):".."===r[o]?r.splice(--o,2):o++;t=r.join("/")}return"/"===t[0]?t:"/"+t}function pt(t){return t=ft(t),ut&&"/"===t[0]&&!gt(t,ut)?st(ut,t):t}function dt(t){return t.indexOf("://")>0?t:location.origin+pt(t)}function ht(t){return t.substr(0,location.origin.length)===location.origin?t.substr(location.origin.length):t}function gt(t,e){var n=e.length;return t.substr(0,n)===e&&(!t[n]||"/"===t[n]||"/"===e[n-1])&&ft(t.slice(n))}var mt=n(860),vt=n(424),bt=c.css,yt=bt.parseCSS,wt=bt.isCssUrlValue,xt=bt.runCSSTransition,Pt=c.util,St=(Pt.domReady,Pt.tagName,Pt.is,Pt.isVisible),At=Pt.matchSelector,Ot=(Pt.comparePosition,Pt.connected,Pt.containsOrEquals),kt=(Pt.acceptNode,Pt.combineNodeFilters,Pt.iterateNode),Tt=(Pt.iterateNodeToArray,Pt.getCommonAncestor,Pt.parentsAndSelf,Pt.selectIncludeSelf),jt=Pt.selectClosestRelative,Ct=Pt.createNodeIterator,It=(Pt.createTreeWalker,Pt.bind),Et=Pt.bindUntil,Nt=Pt.dispatchDOMMouseEvent,Mt=(Pt.removeNode,Pt.getClass),Rt=Pt.setClass,$t=(Pt.getScrollOffset,Pt.getScrollParent,Pt.getContentRect,Pt.scrollBy,Pt.scrollIntoView),qt=(Pt.createRange,Pt.rangeIntersects,Pt.rangeEquals,Pt.rangeCovers,Pt.compareRangePosition,Pt.makeSelection,Pt.getRect),Lt=(Pt.getRects,Pt.toPlainRect,Pt.rectEquals,Pt.rectCovers,Pt.rectIntersects),Ut=(Pt.pointInRect,Pt.mergeRect,Pt.elementFromPoint,{}),Vt={};function Dt(t){var e={};return b(t.attributes,(function(t,n){e[n.name]=n.value})),e}function Ft(t,e,n){b(g(e)||S(e,n),(function(e,n){t.setAttribute(e,n)}))}function zt(t,e){b(t.attributes,(function(t,n){e.setAttribute(n.name,n.value)}))}function Wt(t){return g(t)&&(t=$(t)),"["+t.join("],[")+"]"}function _t(t){var e={};return b(t.elements,(function(n,r){if(r.name&&!(r.name in e)){var o=t.elements[r.name];F(e,r.name,(function(){return"checkbox"===o.type?o.checked:o.value}))}})),e}function Ht(t){return new RegExp("[?&]"+t+"=([^&]+)","i").test(location.search)&&decodeURIComponent(RegExp.$1)}function Bt(t){return new RegExp("(?:^|\\s|;)"+t+"=([^;]+)").test(document.cookie)&&RegExp.$1}function Jt(t,e,n){return document.cookie=t+"="+e+";path=/"+(n?";expires="+new Date(Date.now()+n).toGMTString():""),e}function Qt(t){document.cookie=t+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT"}function Gt(t,e){return{get:function(){return Bt(t)},set:function(n){return Jt(t,n,e)},delete:function(){return Qt(t)}}}function Kt(t,e){var n="get post delete";if("string"==typeof t&&Y(t,n))return Kt(e=v({},"string"==typeof e?{baseUrl:e}:e,{methods:t}))[t];var r={baseUrl:(t=v({},t)).baseUrl,token:t.token};return b(t.methods||n,(function(e,o){Y(o,n)&&(z(r,o,(function e(n,a){if(!r.baseUrl)return B(r,"baseUrl",(function(){return e(n,a)}));var i={"Content-Type":"application/json"};return r.token&&(i.Authorization="Bearer "+r.token),mt.ajax({method:o,url:st(r.baseUrl,n),headers:i,dataType:"json",data:JSON.stringify(a||{}),success:function(e){d(t.getTokenFromResponse)&&(r.token=t.getTokenFromResponse(e,r.token))}}).catch((function(t){if(0===t.status)throw"network-failed";var e=t.responseJSON;if(e)throw console.error(n+":",e.error||e.message),e.error||e.message;throw t.statusText}))})),W(r[o],"baseUrl",r),W(r[o],"token",r))})),r}function Zt(t){return mt.getJSON(pt(t))}function Xt(t,e){return p(t)?t.reduce((function(t,n){return t.then((function(){return Xt(n,e)}))}),et()):(Vt[t]||(Vt[t]=new vt((function(n,r){var o=document.createElement("script");if((e=e||{}).nomodule){if("noModule"in o)return void n();o.setAttribute("nomodule","")}e.module&&o.setAttribute("type","module"),o.addEventListener("load",(function(){n({})})),o.addEventListener("error",(function(){r()})),o.src=pt(t),document.head.appendChild(o)}))),Vt[t])}function Yt(t,e){var n=document.createElement("link");n.rel="stylesheet",n.href=pt(t),e&&(n.media=e),document.head.appendChild(n)}function te(t,e){if(!p(t)){var n={},r=function(t){wt(t)&&(n[RegExp.$1||RegExp.$2||RegExp.$3]=!0)};kt(Ct(t,1),(function(t){At(t,"img")&&t.src&&(n[t.src]=!0),r(getComputedStyle(t).backgroundImage),r(getComputedStyle(t,"::before").backgroundImage),r(getComputedStyle(t,"::after").backgroundImage)})),t=$(n)}var o=[],a=[];return t.forEach((function(t){o.push(Ut[t]||(Ut[t]=new vt((function(e){a.push(t),mt("<img>").on("load error",(function(){Ut[t]=!0,e()})).attr("src",t)}))))})),!o.length||o.every((function(t){return!0===t}))?et():(a.length&&console.log("Preload image",{urls:a}),it(ot(q(Ut)),e,!0))}var ee=c.dom,ne=c.dom,re=(ne.textInputAllowed,ne.beginDrag,ne.beginPinchZoom,ne.getShortcut,ne.setShortcut,ne.focusable,ne.focused,ne.setModal,ne.releaseModal,ne.retainFocus,ne.releaseFocus,ne.focus,ee),oe={},ae={},ie=new Map,ce=0;function ue(t,e,n,r){if(!n.length)return et();var o,a,i,c=++ce;n=n.map((function(t){return t instanceof vt?at(t):new vt((function(e){t.then(e,e)}))})),at(ot(n,(function(){clearTimeout(o),i(),ie.delete(t),console.log("Animation #%i completed",c)}))),n.push(new vt((function(t,e){i=t,a=e}))),o=setTimeout((function(){a("Animation #"+c+" timed out"),console.log("Animation #%i might take longer than expected",c,n),ie.delete(t)}),1500);var u=at(ot(n));return console.log("Animation #%i triggered on %s",c,r,{elements:e}),ie.set(t,u),u}function le(t,e,n,r){var o=[xt(t,e),re.emit(n,t)],a=parseFloat(mt(t).css("transition-delay"));return b(r,(function(e,n){if(t.attributes[e]){var r=t.getAttribute(e);o.push(new vt((function(e,o){setTimeout((function(){ot(n(t,r)).then(e,o)}),1e3*a)})))}})),ot(o,(function(){return t}))}function se(t,e,n,r){if(ie.has(t))return ie.get(t).then((function(){return se(t,e,n,r)}));r=r||function(){return!0},re.emit("animationstart",t,{animationType:"in",animationTrigger:e},!0);var o=n?mt(n,t):mt(),a="show"===e?':not([animate-on]), [animate-on~="'+e+'"]':'[animate-on~="'+e+'"]',i=[],c=[];return mt(Tt("[animate-in]",t)).filter(a).each((function(t,e){!o.find(e)[0]&&r(e)&&St(e)&&(i.push(e),c.push(le(e,"tweening-in","animatein",oe)))})),mt(Tt("[animate-sequence]",t)).filter(a).each((function(t,e){if(!o.find(e)[0]&&r(e)&&St(e)){var n=e.getAttribute("animate-sequence")||"",a=e.getAttribute("animate-sequence-type")||"",u=mt(e).find(">"===n[0]?n:mt(n));void 0!==mt(e).attr("animate-sequence-reverse")&&[].reverse.apply(u),u.css("transition-duration","0s"),u.attr("animate-in",a).attr("is-animate-sequence",""),u.each((function(t,e){"inline"===mt(e).css("display")&&mt(e).css("display","inline-block"),i.push(e),c.push(new vt((function(n,r){setTimeout((function(){mt(e).css("transition-duration",""),le(e,"tweening-in","animatein",oe).then(n,r)}),50*t)})))})),e.attributes["animate-in"]||mt(e).attr("animate-in","").addClass("tweening-in")}})),ue(t,i,c,e).then((function(){re.emit("animationcomplete",t,{animationType:"in",animationTrigger:e},!0)}))}function fe(t,e,n,r,o){r=r||function(){return!0},re.emit("animationstart",t,{animationType:"out",animationTrigger:e},!0);var a=n?mt(n,t):mt(),i="show"===e?':not([animate-on]), [animate-on~="'+e+'"]':'[animate-on~="'+e+'"]',c=[],u=[];return mt((o?mt:Tt)("[animate-out]",t)).filter(i).each((function(t,e){!a.find(e)[0]&&r(e)&&(c.push(e),u.push(le(e,"tweening-out","animateout",ae)))})),ue(t,c,u,e).then((function(){var n=mt((o?mt:Tt)("[animate-out], .tweening-in, .tweening-out",t));"show"!==e&&(n=n.filter(i)),(n=n.filter((function(t,e){return r(e)}))).removeClass("tweening-in tweening-out"),n.find("[is-animate-sequence]").removeAttr("animate-in").removeClass("tweening-in tweening-out"),re.emit("animationcomplete",t,{animationType:"out",animationTrigger:e},!0)}))}function pe(t,e){oe[t]=R(e)}function de(t,e){ae[t]=R(e)}var he=n(256),ge={};function me(t){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ve(t,e){return"["+t+"] "+(e=m(e).map((function(t){return f(t,Element)?(n=t).tagName.toLowerCase()+(n.id?"#"+n.id:n.className.trim()&&n.className.replace(/^\s*|\s+(?=\S)/g,"."))+":":t&&"object"===me(t)?(e=JSON.stringify(t),'[{"]'.indexOf(e[0])>=0&&e.length>200?e[0]+e.substr(1,199)+"…"+e[e.length-1]:e):t;var e,n})).join(" "))}function be(t,e,n){var r;try{console.groupCollapsed(ve(t,e)),r=!0}catch(t){}try{n(console)}finally{if(r)try{console.groupEnd()}catch(t){}}}var ye,we=I(),xe=new Map,Pe={},Se=[],Ae=re.root,Oe=[Ae],ke=function(t){return t},Te=function(t){return gt(t,ut)||"/"},je=function(t){return st(ut,t)},Ce=ke,Ie=ke;function Ee(t,e){var n=mt(t).closest("[match-path]")[0];return!n||(e||Oe).indexOf(n)>=0}function Ne(t,e,n){return t&&t.test||(t=Re(t)),p(e)||(e=Me(e)),t.test(e,n)}function Me(t){return"/"===(t=ft(t))?[]:t.slice(1).split("/")}function Re(t){if(t=String(t),!Pe[t]){var e,n=[],r={};t.replace(/\/(\*|[^{][^\/]*|\{([a.-z_$][a-z0-9_$]*)(\?)?(?::(?![*+?])((?:(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])([*+?]|\{\d+(?:,\d+)\})?)+))?\})(?=\/|$)/gi,(function(t,o,a,i,c){i&&!e&&(e=n.length),a&&(r[a]=n.length),n.push(a?{name:a,pattern:c?new RegExp("^"+c+"$","i"):/./}:o.toLowerCase())})),U(n,{value:t,params:r,exact:!("*"===n[n.length-1]&&n.splice(-1)),minLength:e||n.length,test:function(t,e){return t.length>=n.minLength&&(e||!n.exact||t.length<=n.length)&&!x(n,(function(e,n){return t[n]&&!(e.name?e.pattern.test(t[n]):G(t[n],e))}))}}),Pe[t]=n}return Pe[t]}function $e(t,e,n){return{route:t=t||[],params:O(n,["remainingSegments"]),minPath:ft(e.slice(0,t.minLength).join("/")),maxPath:ft(e.slice(0,t.length).join("/"))}}function qe(t,e){return P(t,(function(t){if(P(t.params,(function(t,n){return null!==e[n]}))){for(var n=[],r=0,o=t.length;r<o;r++){var a=t[r].name;if(a&&!t[r].pattern.test(e[a]||"")){if(r<t.minLength||e[a])return!1;break}n[r]=a?e[a]:t[r]}return $e(t,n,A(e,$(t.params)))}}))}function Le(t,e,n){var r=this,o={},a=we(r,{routes:e.map(Re),params:o,app:t});b(a.routes,(function(t,e){b(e.params,(function(t){o[t]=null}))})),v(r,o,r.parse(n)),a.current=a.lastMatch,a.handleChanges=H(r,!0),Object.preventExtensions(r),Object.getOwnPropertyNames(r).forEach((function(t){_(r,t)})),H(r,(function(){var e=O(r,["remainingSegments"]),n=a.current,o=n,i=!j(e,n.params);i&&a.lastMatch&&(n=a.lastMatch,a.lastMatch=null,i=!j(e,n.params)),i&&(n=qe(a.routes,e)||o),a.current=n,n.route.exact&&(r.remainingSegments="/"),r.set(v({},a.params,n.params)),n!==o&&(t.path=Ce(st(n.maxPath,r.remainingSegments)))}))}V(Le,{parse:function(t){var e=we(this),n=Me(Ie(t)),r=x(e.routes,(function(t){return Ne(t,n,!0)})),o={};if(r){for(var a in e.params)o[a]=n[r.params[a]]||null;o.remainingSegments=r.exact?"/":ft(n.slice(r.length).join("/"))}return e.lastMatch=$e(r,n,o),o},set:function(t){var e=this;if("string"==typeof t){if(G(t,e.toString()))return;t=e.parse(t)}we(e).handleChanges((function(){v(e,t)}))},replace:function(t,e){var n=this,r=n.getPath(v(n,g(t)||S(t,e)));return we(n).app.navigate(r,!0)},getPath:function(t){var e=qe(we(this).routes,t);return Ce(e?st(e.maxPath||"/",e.route.exact?"/":t.remainingSegments):"/")},toJSON:function(){return v({},this)},toString:function(){return Ce(st(we(this).current.maxPath||"/",this.remainingSegments))}}),J(Le.prototype),Pe["/*"]={value:"/*",exact:!1,length:0,minLength:0,params:{},test:function(){return!0}};An("router",(function(t,e){var n,r,o=t.path||e.initialPath||e.queryParam&&Ht(e.queryParam)||location.pathname.substr(e.baseUrl.length)||"/",a=new Le(t,e.routes,o),i="",c={},u={},s=-1,f=[];function p(t,e,n,r){return Object.freeze({id:t,path:e,navigated:!1!==r,redirected:!!n,originalPath:n||null})}function d(t,e){for(var n=s;n>=0;n--)if(f[n].result&&f[n].path===t)return history.replaceState(history.state,"",je(t)),p(f[n].result,t,e,!1)}function h(e,n){var o=f[s];if(e=m(e),o&&e===o.path&&e===r)return o.result?{promise:et(d(e))}:o;s=Math.max(0,s+!n);var a,i,c=K(),u=l,h=l,g=f.splice(s),v={id:c,path:e,result:"",get promise(){return a||(a=new Promise((function(t,e){var n=function(t){return function(e){i=!0,t(e)}};i=!1,u=n(t),h=n(e)})))},reset:function(){return i&&(a=null),v},forward:function(t){a&&!i&&((t.promise||t.then((function(t){return t.promise}))).then((function(t){v.resolve(p(t.id,t.path,e))}),h),h=l)},resolve:function(t){t=t||p(c,e),v.path=t.path,v.result=v.result||t.id,u(t),b(f,(function(t,e){e.reject()}))},reject:function(){h("cancelled")}};return f[s]=v,history[n?"replaceState":"pushState"](c,"",je(e)),t.path=e,n&&!g[1]?g[0].forward(v):N((function(){b(g,(function(t,e){e.reject()}))})),v}function g(){return history.back(),--s}function m(e,n,r){var o;if(e=decodeURI(e)||"/",n=n||t.path,"~"===e[0]||e.indexOf("{")>=0){var i=(r?Ce:ke)(n);o=G(i,a.toString())?we(a).current:a.parse(i)&&we(a).lastMatch,e=e.replace(/\{([^}?]+)(\??)\}/g,(function(t,n,r,a){return o.params[n]||(r&&a+t.length===e.length?"":"null")}))}switch(e[0]){case"~":return(r?ke:Ce)(st(o.minPath,e.slice(1)));case"/":return ft(e,!0);default:return st(n,e)}}function y(t){mt("[match-path]",t).each((function(t,e){if(!xe.has(e)){var n=document.createElement("div");n.setAttribute("style","display: none !important"),n.setAttribute("match-path",e.getAttribute("match-path")||""),e.attributes.default&&n.setAttribute("default",""),mt(e).before(n),mt(e).detach(),Rt(e,"hidden",!0),xe.set(n,e),xe.set(e,e)}}))}function w(e,n,r){var o=f[s],a=new Map,i=re.eventSource,c=Oe.slice(0);Oe=r,ye=mt(r).filter("[page-title]")[0],u={},document.title=ye?Ln(ye,"page-title",!0):document.title,an(!0,(function(){be(i,["pageenter",e],(function(){xe.forEach((function(r,o){var u=Oe.indexOf(r)>=0;if(r!==o&&u===c.indexOf(r)<0)if(u){Rn(r,!1),Nn(r);var l=a.get(mt(r).parents("[match-path]")[0]),s=Me(r.getAttribute("match-path")),f=Se.map((function(t){if(Ne(t.route,s))return t.callback(r,e)}));f.push(l),a.set(r,ot(f,(function(){Oe.indexOf(r)>=0&&(Rt(r,"hidden",!1),se(r,"show","[match-path]"),t.emit("pageenter",r,{pathname:e},!0))})))}else t.emit("pageleave",r,{pathname:n},!0),fe(r,"show","[match-path]").then((function(){Oe.indexOf(r)<0&&be(i,["pageleave",n],(function(){Rt(r,"hidden",!0),Rn(r,!0)}))}))}))})),b(a,(function(t,e){nn(e,t)})),rt(ot(a),(function(){o.resolve()}))}))}function x(){var e=f[s];if(e&&location.pathname===je(r)||(h(r),e=f[s]),s>0&&r===i)e.resolve(d(r));else{var o=r,c=re.locked(Ae,!0)?re.cancelLock(Ae):un();if(c)return n=r===n?null:i,c=et(c).then((function(){var t=h(o);return M(x),t})),g(),void e.forward(c);n=null;var l,p=[Ae],S=i;y(),an(!0,(function(){for(var t,e=Ie(r),n=mt('[switch=""]').get();t=n.shift();)if(Ee(t,p)){var o=mt(t).children("[match-path]").get().map((function(t){var n=k(xe,t)||t,r=mt('[switch=""]',n).get(),o=m(n.getAttribute("match-path"),e,!0);return{element:n,path:o.replace(/\/\*$/,""),exact:!r[0]&&"/*"!==o.slice(-2),placeholder:t!==n&&t,children:r}}));o.sort((function(t,e){return e.path.localeCompare(t.path)}));var a=P(o,(function(t){return(t.exact?e===t.path:gt(e,t.path))&&t.path}));b(o,(function(t,e){if(e.path===a){var r=e.element;p.unshift(r),e.placeholder&&(mt(e.placeholder).replaceWith(r),rn(r),cn(r),n.push.apply(n,e.children))}}))}})),u[r]&&u[S]?w(r,S,p):(u[r]=!0,mt('[switch=""]').each((function(t,e){if(Ee(e,p)){var n=mt(e).children("[match-path]");if(!n.filter((function(t,e){return p.indexOf(e)>=0}))[0])return l=Ce((n.filter("[default]")[0]||n[0]).getAttribute("match-path")),!1}})),l&&l!==r?l===i?e.resolve(d(l,r)):e.forward(h(l,!0)):(console.log("Nagivate",r),i=r,t.path=r,a.set(r),nn(c=et(t.emit("navigate",{pathname:r,oldPathname:S,route:Object.freeze(v({},a))})),Ae,(function(){f[s]===e&&w(r,S,p)}))))}}H(c,!0),_(c,"path","",(function(t){return dn?((t=m(t,i))!==i&&t!==r&&(r=t,M(x)),i):i})),lt(e.baseUrl||""),"/"===ut?(Te=ke,je=ke):e.explicitBaseUrl&&(Ce=je,Ie=Te,Te=ke,je=ke,gt(o,ut)||(o=ut)),t.define({get canNavigateBack(){return s>0},get previousPath(){return(f[s-1]||"").path||null},resolvePath:m,navigate:function(t,e){return h(t,e).promise},back:function(t){return s>0?f[g()].reset().promise:!!t&&h(t).promise}}),D(t,"initialPath",o,!0),D(t,"route",a,!0),W(t,"path",c),t.beforeInit((function(){re.ready.then((function(){y(),It(window,"popstate",(function(){var t=P(f,(function(t,e){return t.id===history.state&&e+1}));t?(r=f[s=t-1].reset().path,M(x)):h(Te(location.pathname))}))}))})),t.on("ready",(function(){h(o)})),t.on("pageenter",(function(t){mt(Tt("[x-autoplay]",t.target)).each((function(t,e){Ee(e)&&(0!==e.readyState&&(e.currentTime=0),e.play())}))})),t.on("pageleave",(function(e){mt(Tt("form",e.target)).each((function(e,n){t.emit("reset",n,null,!1)||n.reset()})),mt(Tt("[x-autoplay]",e.target)).each((function(t,e){e.pause()}))})),t.on("statechange",(function(t){Ot(t.target,ye)&&(document.title=Ln(ye,"page-title",!0))})),re.watchElements(Ae,"video[autoplay], audio[autoplay]",(function(t){mt(t).attr("x-autoplay","").removeAttr("autoplay")}),!0)}));var Ue="background-image".split(" "),Ve="checked selected disabled readonly multiple ismap",De=I(),Fe=re.root,ze=new Set,We=new Map,_e=[],He=[],Be=[],Je={},Qe={},Ge={},Ke=0,Ze=!1;function Xe(t,e){var n=De(e)||De(e,{});return n[t]||(n[t]={})}function Ye(t,e,n){b(e,(function(e,n){"$$class"===e?Rt(t,n):"$$text"===e?t.textContent=n:"style"===e?mt(t).css(n):Y(e,Ve)?t[e]=!!n:t.setAttribute(e,n)})),n||re.emit("domchange",t)}function tn(t,e){b(e,(function(e,n){t[e]="$$class"===e||"style"===e?v({},t[e],n):n}))}function en(t,e){var n,r=new Set;do{t=w(m(t),(function(t){return Ot(Fe,t)})),n=m(r),mt(Tt(Wt(Je),t)).not(n).each((function(t,n){b(Je,(function(t,o){n.attributes[t]&&(o(n,Xe.bind(0,t),e),r.add(n))}))}))}while(n.length!==r.size)}function nn(t,e,n){if(!h(t))return et((n||l)());if(e||"script"!==re.eventSource){var r=En("loading",(e=e||re.activeElement)||Fe),o=En("error",e||Fe),a=Xe("handleAsync",r);Nn(r,{loading:$n(r,"loading")||!0}),Nn(o,{error:null}),a.value=(a.value||0)+1,t.then((function(){Nn(r,{loading:!!--a.value})}),(function(t){Nn(r,{loading:!!--a.value}),Nn(o,{error:""+(t.message||t)})}))}return t.then(n||null)}function rn(t){ze.add(t)}function on(t){if(!Ke&&!Ze){var e=new Map,n=new Map,r=function(t,e){tn(k(n,t,Object),e)};Ze=!0;try{be(re.eventSource,"statechange",(function(){en(ze,r);var t=mt.uniqueSort(w(ze,(function(t){return Ot(Fe,t)&&ze.delete(t)})));b(t,(function(t,n){var r=Xe("oldValues",n),o={},a={};for(b($n(n,!0),(function(t,e){r[t]!==e&&(o[t]=r[t],a[t]=e,r[t]=e)})),e.set(n,{oldValues:o,newValues:a});n=n.parentNode;){var i=e.get(n);if(i)for(var c in i.newValues)c in a||(a[c]=i.newValues[c],o[c]=i.oldValues[c])}}));var n=[];b(t.reverse(),(function(t,o){be("statechange",[o,e.get(o).newValues],(function(t){t.log(o===Fe?document:o),mt(Tt(Wt(Qe),o)).not(n).each((function(t,e){b(Qe,(function(t,n){e.attributes[t]&&n(e,Xe.bind(0,t),r)})),n.push(e)}))}))}))})),ot(_e.map((function(t){return t(n)}))).then((function(){var r=new Map;b(n,(function(n,o){if(t)We.has(n)?tn(We.get(n),o):Ye(n,o);else{var a=mt(n).filter("[match-path]")[0]||mt(n).parents("[match-path]")[0]||Fe,i=r.get(a);if(!i){var c=function(t){var n,r=t.getAttribute("animate-on-statechange");if(!r)return!0;for(;t&&!(n=e.get(t));t=t.parentNode);return n&&x(r,(function(t){return t in n.newValues}))};i=[],N((function(){fe(a,"statechange","[match-path]",c,!0).then((function(){b(i,(function(t,e){Ye(e,T(We,e))})),se(a,"statechange","[match-path]",c)}))})),r.set(a,i)}tn(k(We,n,Object),o),i.push(n)}})),b(e,(function(t,e){re.emit("statechange",t,{data:$n(t),newValues:e.newValues,oldValues:e.oldValues},!0)}))}))}finally{Ze=!1}}}function an(t,e){var n=!0;try{Ke=(Ke||0)+1,R(e||t)()}catch(t){throw n=!1,t}finally{!--Ke&&n&&on(!0===t)}}function cn(t){var e=Ze;Ze=!0;try{en(t,(function(t,e){Ye(t,e,!0)}))}finally{Ze=e}for(var n=[t],r=t===Fe,o=-1,a=0;o<Be.length;)b(Be.slice(o<0?0:o),(function(e,r){mt(Tt(r.target,t)).each((function(t,e){r.unbindHandlers.push(pn.on(e,r.handlers)),r.handlers.mounted&&n.indexOf(e)<0&&n.push(e)}))})),o=Be.length,b(mt.uniqueSort(n.slice(a)),(function(t,e){re.emit("mounted",e)})),r||(r=!0,re.emit("mounted",Fe,{target:t})),a=n.length;b(He,(function(e,n){mt(Tt(n.selector,t)).each((function(t,e){n.handler.call(e,e)}))}))}function un(t){var e=x(mt("[prevent-leave]").get(),(function(t){var e=Xe("preventLeave",t),n=e.allowLeave;if(Ee(t)||n){var r=Ln(t,"prevent-leave");return!r&&n&&delete e.allowLeave,r&&!n}}));return e&&!t?ot(re.emit("preventLeave",e,null,!0),(function(t){if(!t)throw"user_rejected";Xe("preventLeave",e).allowLeave=!0})):!!e}function ln(t,e){Ge[t]=mt(e)[0]}function sn(t,e){Je[t]=R(e)}function fn(t,e){Qe[t]=R(e)}sn("apply-template",(function(t,e){var n=e(t),r=t.getAttribute("apply-template"),o=Ge[r]||Ge[Ln(t,"apply-template")],a=n.template;if(n.attributes||v(n,{attributes:Dt(t),childNodes:m(t.childNodes)}),o&&o!==a){n.template=o,o=o.cloneNode(!0),a&&b(a.attributes,(function(e,n){t.removeAttribute(n.name)})),Ft(t,n.attributes),zt(o,t);var i=mt(n.childNodes).detach();mt(Tt("content:not([for])",o)).replaceWith(i),mt(Tt("content[for]",o)).each((function(t,e){mt(e).replaceWith(i.filter(e.getAttribute("for")||""))})),mt(t).empty().append(o.childNodes)}})),sn("auto-var",(function(t){Nn(t,Ln(t,"auto-var"))})),sn("foreach",(function(t,e){var n=e(t),r=n.template||(n.template=mt(t).contents().detach().filter((function(t,e){return 1===e.nodeType||/\S/.test(e.data||"")})).get()),o=n.nodes||[],a=n.data||[],i=m(Ln(t,"foreach"));if(i.length!==a.length||i.some((function(t,e){return a[e]!==t}))){var c=y(i,(function(n){var i=a.indexOf(n);if(i>=0)return a.splice(i,1),o.splice(i*r.length,(i+1)*r.length);var c=mt(r).clone().get(),u=mt(Tt("[foreach]",c));return u[0]&&mt(Tt("[foreach]",r)).each((function(t,n){e(u[t]).template=e(n).template})),b(c,(function(e,r){1===r.nodeType&&(mt(t).append(r),Mn(r,{foreach:n}),cn(r))})),c}));v(n,{nodes:c,data:i.slice()}),mt(o).detach(),mt(t).append(c)}})),sn("switch",(function(t,e,n){var r=t.getAttribute("switch")||"";if(Ee(t)&&r){var o=e(t);void 0===o.matched&&Mn(t,"matched",(function(){return o.matched&&$n(o.matched,!0)}));var a,i,c,u=$n(t),l=he.eval(r,u),s=mt("[match-"+r+"]",t).filter((function(e,n){return mt(n).parents("[switch]")[0]===t})),f=!Y("switch",t.getAttribute("keep-child-state")||""),p=o.matched,d=new Map;s.each((function(t,e){var n=he.eval('"null" ?? '+e.getAttribute("match-"+r),$n(e));if(d.set(e,n),he.eval("$0 == $1",[l,n]))return a=e,!1})),a=a||s.filter("[default]")[0]||s[0]||null,p!==a?be("switch",[t,r,"→",l],(function(t){t.log("Matched: ",a||"(none)"),a&&(f&&Rn(a),Nn(a)),p&&f&&Rn(p,!0),s.each((function(t,e){n(e,{$$class:{active:e===a}})}))})):(i="switch",c=[t,r,"→",l,"(unchanged)"],console.log(ve(i,c)),r in u&&void 0!==d.get(a)&&Nn(t,r,d.get(a))),o.matched=a}})),fn("template",(function(t,e,n){var r=e(t),o=r.templates;o||(o={},b(t.attributes,(function(t,e){e.value.indexOf("{{")>=0&&(o[e.name]=Y(e.name,Ve)?e.value.replace(/^{{|}}$/g,""):e.value)})),!t.childElementCount&&(t.textContent||"").indexOf("{{")>=0&&(o.$$text=t.textContent),r.templates=o);var a=$n(t),i={};b(o,(function(e,n){var r=qn(n,a,t,e,!Y(e,Ve));("$$text"===e?t.textContent:(t.getAttribute(e)||"").replace(/["']/g,""))!==r&&(i[e]=r)})),n(t,i)})),fn("set-style",(function(t,e,n){var r=yt(Ln(t,"set-style",!0));b(Ue,(function(t,e){var n=wt(r[e]);n&&(r[e]='url("'+pt(ht(n))+'")')})),n(t,{style:r})})),fn("set-class",(function(t,e,n){n(t,{$$class:Ln(t,"set-class")})}));var pn,dn,hn,gn=I(),mn=re.root,vn={};function bn(t){return ot(t.splice(0),(function(){return t.length&&bn(t)}))}function yn(t){return function(e){if(e.target===e.context)return t.apply(this,arguments)}}function wn(t){var e=t.target;mt(Tt('img[src^="/"], video[src^="/"]',e)).each((function(t,e){e.src=pt(e.getAttribute("src"))})),mt(Tt('a[href^="/"]',e)).each((function(t,e){e.href=pt(e.getAttribute("href"))})),mt(Tt("[data-src]",e)).each((function(t,e){e.src=pt(e.dataset.src),e.removeAttribute("data-src")})),mt(Tt("[data-bg-src]",e)).each((function(t,e){e.style.backgroundImage='url("'+pt(e.dataset.bgSrc)+'")',e.removeAttribute("data-bg-src")})),mt(Tt("form",e)).on("submit",(function(t){t.preventDefault()}))}function xn(){var t=this;gn(t,{init:[],options:{}}),D(t,"element",mn,!0),D(t,"ready",new Promise((function(e){t.on("ready",e.bind(0,t))})),!0),t.on("mounted",wn)}function Pn(){if(hn)throw new Error("brew() can only be called once");return pn=new xn,b(ge,(function(t,e){var n=e&&d(pn[Z("use-"+t)]);n&&n.call(pn,e)})),b(arguments,(function(t,e){R(e)(pn)})),hn=!0,Nn(mn,{loading:"initial"}),nn(ot([re.ready,bn(gn(pn).init)],(function(){dn=!0,cn(mn),pn.emit("ready")})),mn),pn}function Sn(t,e){R(e),V(xn,S(Z("use-"+t),(function(n){var r=gn(this);r.options[t]=v(r.options[t]||{},n),e(this,r.options[t])})))}function An(t,e,n){return!0===t?function(t){n(t,{})}:Sn.bind(0,t,e)}V(xn,{emit:function(t,e,n,r){return f(e,Node)||(r=n,n=e,e=this.element),re.emit(t,e,n,r)},define:function(t){U(this,t)},beforeInit:function(t){d(t)&&(t=t.call(this)),gn(this).init.push(t)},detect:function(t,e){var n=this,r={};b(t,(function(t,e){vn[e]&&(r[e]=d(vn[e])?vn[e]=ot(vn[e]()).catch((function(t){return console.warn("Detection for "+e+" has thrown exception:",t),!1})):vn[e])})),this.beforeInit(ot(r,(function(t){return t=Object.freeze(v({},n.supports,t)),U(n,{supports:t}),d(e)&&e(t)})))},when:function(t,e){this.beforeInit(ot(t,(function(t){if(t)return e()})))},on:function(t,e,n,r){r=!0===(r||n),d(e)&&(n=e,e=t,t=mn);var o=e;if("string"==typeof e)r&&(n=yn(n)),e.indexOf(" ")>=0?(o={},b(e,(function(t,e){o[e]=n}))):o=S(e,n);else if(r)for(var a in e)e[a]=yn(e[a]);var i=[];return"string"==typeof t?(!function(t,e,n){Be.push({target:t,handlers:e,unbindHandlers:n})}(t,o,i),t=mt(t).get()):t instanceof Node&&(t=[t]),b(t,(function(t,e){i.push(re.on(e,o))})),C(i)},matchPath:function(t,e,n){d(e)&&(n=e,e=null),this.on("mounted",(function(r){var o=r.target.getAttribute("match-path");o&&Ne(t,o)&&(!e||mt(r.target).is(e))&&n.call(r.target,r.target)}))},matchElement:function(t,e){He.push({selector:t,handler:e})},matchRoute:Ne,beforeUpdate:function(t){_e.push(R(t))},beforePageEnter:function(t,e){d(t)&&(e=t,t="/*"),Se.push({route:Re(t),callback:R(e)})}}),J(xn.prototype);c.TraversableNode,c.TraversableNodeTree,c.InheritedNode;var On=c.InheritedNodeTree,kn=(c.TreeWalker,re.root),Tn={var:!0,"auto-var":!0,"error-scope":{error:null}},jn=new On(kn,(function(){var t=this,e=t.element;b(e.dataset,(function(e,n){D(t,e,he.eval("`"+X(n||"null")))})),b(Cn(e,!0,t),(function(e,n){D(t,e,n)})),e===kn&&(t.loading=null,t.error=null)}),{selector:Wt(Tn)});function Cn(t,e,n){var r={};return b(Tn,(function(o,a){if(t.attributes[o]){if(!0===a&&(a=Ln(t,o,!1,n),!g(a)))return;for(var i in a)r[i]=void 0===a[i]||e?null:a[i]}})),r}function In(t,e){e=e||kn;for(var n=jn.getNode(e);null!==n;n=Object.getPrototypeOf(n))if(L(n,t))return n;return console.warn("Undeclared state: %s",t,{element:e}),jn.setNode(e)}function En(t,e){return In(t,e).element}function Nn(t,e,n){var r=e&&(g(e)||S(e,n)),o=!1;if("string"==typeof t)an((function(){mt(t).each((function(t,e){o|=Nn(e,r)}))}));else{var a=jn.setNode(t);b(r||Ln(t,"set-var"),(function(e,n){if(a[e]!==n){var r=In(e,t);r[e]=n,o=!0,rn(r.element)}})),o&&dn&&M(on)}return!!o}function Mn(t,e,n){var r=g(e)||S(e,n),o=jn.setNode(t),a={};for(var i in r)d(r[i])?F(o,i,r[i],l):(D(o,i,o[i]),a[i]=r[i]);return Nn(t,a)}function Rn(t,e){an((function(){b(jn.descendants(t),(function(t,n){Nn(n.element,Cn(n.element,e))}))}))}function $n(t,e){var n=function(t){for(var e in t.dataset)return!0}(t)?jn.setNode(t):jn.getNode(t)||{};if(!0!==e)return e?n[e]:v({},n);if(n.element!==t)return{};var r=Object.getOwnPropertyNames(n);return r.splice(r.indexOf("element"),1),A(n,r)}function qn(t,e,n,r,o){var a={globals:{app:pn}};return o?tt(he(t,v({},e),a)):he.eval(t,v({},e),a)}function Ln(t,e,n,r){var o=t.getAttribute(e);return o?qn(o,r||$n(t),0,0,n):n?"":null}jn.on("update",(function(t){b(t.updatedNodes,(function(t,e){rn(e.element)}))}));var Un=new Map,Vn=new Map,Dn={};function Fn(t,e){Dn[t]=R(e)}function zn(t,e){var n=mt(t||"[is-flyout].open").get();return ot(n.map((function(t){var n=Un.get(t);return n&&(Un.delete(t),re.releaseModal(t),n.resolve(e),n.source&&Rt(n.source,"target-opened",!1)),at(t.attributes["animate-out"]?fe(t,"open"):xt(t,"closing")).then((function(){Rt(t,{open:!1,closing:!1})}))})))}function Wn(t,e,n,r){var o=n||re.root,a=t?jt(t,o):mt(o).closest("[is-flyout]")[0];if(!a)return nt();var i,c=Un.get(a);if(c)return r?zn(a,n&&he.eval("`"+n.value)):c.path=pn.path,c.promise;var u=new vt((function(t){i=t}));return Un.set(a,{source:n,promise:u,resolve:i,path:pn.path}),n&&Rt(n,"target-opened",!0),e&&Nn(a,e),xt(a,"open",(function(){re.focus(a)})),se(a,"open"),a.attributes["is-modal"]&&(re.lock(a,u),re.setModal(a)),u}Fn("validate",(function(t){var e=jt(this.getAttribute("validate")||"",t.target);if(e){var n=re.emit("validate",e)||!e.checkValidity||e.checkValidity();if(n){if(h(n))return n.then((function(t){if(!t)throw"validation-failed"}))}else t.stopImmediatePropagation(),t.preventDefault()}})),Fn("context-method",(function(t){var e=t.currentTarget,n=Z(e.getAttribute("context-method")||"");if(d(pn[n])){var r,o=e.getAttribute("context-form"),a=o?jt(o,e):e.form,i=!0;return a?(i=re.emit("validate",a)||a.checkValidity(),r=[_t(a)]):r=m(Ln(e,"method-args")),ot(i,(function(t){if(!t)throw"validation-failed";return pn[n].apply(pn,r)}))}})),re.ready.then((function(){pn.on("mounted",(function(t){mt(Tt(Wt(Dn),t.target)).attr("async-action","")})),pn.on("navigate",(function(){setTimeout((function(){Un.forEach((function(t,e){t.path!==pn.path&&zn(e)}))}))})),mt("body").on("click","[disabled], .disabled, :disabled",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),mt("body").on("click","[async-action]",(function(t){var e=t.currentTarget,n=k(Vn,e,Array),r=null;if(b(Dn,(function(t,o){if(e.attributes[t]&&n.indexOf(o)<0)return r=o,!1})),r){n.push(r);var o=r.call(e,t);h(o)&&!t.isImmediatePropagationStopped()&&(t.stopImmediatePropagation(),t.preventDefault(),nn(o).then((function(){Nt(t)}),(function(t){Vn.delete(e),console.warn("Action threw an error:",t)})))}else Vn.delete(e)})),mt("body").on("click","a[href]:not([rel]), [data-href]",(function(t){var e=t.currentTarget,n=e.getAttribute("data-href")||e.getAttribute("href");if(t.preventDefault(),t.stopPropagation(),"_blank"===e.getAttribute("target"))window.open(n,K());else if("navigate"in pn){var r=mt(e).closest("[is-modal]")[0];r?(Wn(r).then((function(){pn.navigate(n)})),zn(r)):(pn.navigate(n),zn())}else location.href=n})),mt("body").on("click","[set-var]:not([match-path])",(function(t){var e=t.currentTarget;e===mt(t.target).closest("[set-var]")[0]&&(Nn(e),zn())})),mt("body").on("click","[toggle]",(function(t){var e=t.currentTarget;t.stopPropagation(),e.attributes["toggle-if"]&&!Ln(e,"toggle-if")||Wn(e.getAttribute("toggle"),null,e,!0)})),mt("body").on("click","[toggle-class]",(function(t){var e=t.currentTarget;if(t.stopPropagation(),!e.attributes["toggle-if"]||Ln(e,"toggle-if")){var n=e.getAttribute("toggle-class-for"),r=n?jt(n,e):t.currentTarget;b(e.getAttribute("toggle-class"),(function(t,e){Rt(r,e.slice(1),"+"===e[0])}))}})),mt("body").on("click",(function(){mt("[is-flyout].open").each((function(t,e){re.focused(e)||zn(e)}))}))})),re.ready.then((function(){mt("[brew-template]").each((function(t,e){ln(e.getAttribute("brew-template")||"",e.cloneNode(!0))})),mt("apply-attributes").each((function(t,e){var n=mt(e.getAttribute("elements")||"",e.parentNode||re.root);b(e.attributes,(function(t,e){"elements"!==e.name&&n.each((function(t,n){n.setAttribute(e.name,e.value)}))}))})).remove(),mt("[style]").each((function(t,e){var n=wt(e.style.backgroundImage);n&&(e.setAttribute("data-bg-src",decodeURIComponent(pt(ht(n)))),e.style.backgroundImage="none")})),window.onbeforeunload=function(t){un(!0)&&(t.returnValue="",t.preventDefault())}}));function _n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_n(Object(n),!0).forEach((function(e){Bn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jn=Hn(Hn(Hn(Hn(Hn({defaults:ge},o),r),a),i),{},{getVar:$n,setVar:Nn,declareVar:Mn,evalAttr:Ln,isElementActive:Ee,handleAsync:nn,preventLeave:un,install:Sn,addDetect:function(t,e){vn[t]=R(e)},addExtension:An,addTemplate:ln,with:function(){var t=this.bind.apply(Pn,[0].concat(y(arguments,(function(t){return g(t)?function(e){U(e,t)}:d(t)||l}))));return U(t,Jn),t}});U(Pn,Jn);var Qn=Pn,Gn=An("config",(function(t,e){var n=J();U(t,{config:n}),t.beforeInit(Zt(e.path).catch(d(e.fallback)||null).then((function(t){v(n,t),e.freeze&&Q(n)})))})),Kn=An(!0,"formVar",(function(t){t.matchElement("form[form-var]",(function(e){var n=e.getAttribute("form-var"),r={},o=function(t){if(t&&(r=_t(e)),n){var o=$n(e,n)||{};j(r,A(o,$(r)))||Nn(e,n,v({},o,r))}else Nn(e,r)};re.watchAttributes(e,"value",(function(){M(o)})),re.watchElements(e,":input",(function(t){b(t,(function(t,n){var r=re.afterDetached(n,e);Et(r,n,"change input",(function(){M(o)})),r.then(o.bind(null,!0))})),o(!0)}),!0),t.on(e,"reset",(function(){return n?Ee(En(n,e))||e.reset():b(e.elements,(function(t,n){Ee(En(n.name,e))||(n.value=null)})),!0}))})),t.on("pageenter",(function(t){mt(Tt("form[form-var]",t.target)).each((function(t,e){mt(":input:eq(0)",e).trigger("change")}))}))}));function Zn(t){if(t){var e={};return b(t,(function(t,n){var r=n.toLowerCase();e[r]=n,r.indexOf("-")>0&&(e[r.split("-")[0]]=n)})),e}}function Xn(t,e){return t&&e?t[e.toLowerCase()]:e}function Yn(t,e){var n=navigator.languages||[navigator.language||""];return t?(n=Zn(n),p(t)&&(t=Zn(t)),P(n,(function(e,n){return t[n]}))||e||$(t)[0]):n[0]}var tr=An("i18n",(function(t,e){var n=Zn(e.languages),r=t.route&&e.routeParam,o=e.cookie&&Gt(e.cookie,864e5),a=Xn(n,r&&t.route[r])||Xn(n,o&&o.get())||Yn(n,e.defaultLanguage),i=function(e){t.language=e};_(t,"language",a,(function(i){return i=Xn(n,i)||a,o&&o.set(i),r&&t.route.replace(r,i.toLowerCase()),a!==i&&(a=i,e.reloadOnChange&&location.reload()),a})),t.define({setLanguage:i,detectLanguage:Yn}),r&&(t.route.watch(r,i),t.on("ready",(function(){t.route.replace(r,a.toLowerCase())})))})),er=An("login",(function(t,e){var n=Gt((e=v({loginPagePath:"",defaultRedirectPath:"",cookie:"",expiry:0,logout:null,login:null,tokenLogin:null,getTokenFromResponse:null},e)).cookie,e.expiry),r=_(t,"loggedIn",!1,!0);function o(o){r(!0),d(e.getTokenFromResponse)&&n.set(e.getTokenFromResponse(o)),t.emit("login",{data:o})}var a=t.initialPath,i=n.get();i&&d(e.tokenLogin)&&t.beforeInit(at(ot(e.tokenLogin(i),o))),t.define({login:function(n,i,c){return c=d(c||i),i="string"==typeof i&&i,ot(e.login(n)).then((function(t){return o(t),c&&c()}),(function(t){throw r(!1),t.status>=500?"server-error":"incorrect-cred"})).then((function(){a===t.resolvePath(e.loginPagePath)&&(a=""),t.navigate(i||a||e.defaultRedirectPath),a=""}))},logout:function(o,a){return t.loggedIn?(a=d(a||o),o="string"==typeof o&&o,et(un()).then((function(){return e.logout()})).then((function(){return r(!1),n.delete(),t.emit("logout"),a&&a()})).then((function(){t.navigate(o||e.loginPagePath)}))):et()}}),t.on("navigate",(function(n){var r=t.resolvePath(e.loginPagePath);s(t.loggedIn,n.pathname!==r)&&(t.loggedIn?t.navigate(e.defaultRedirectPath):(a=n.pathname,t.navigate(r)))}))})),nr="background-image".split(" ");ge.preloadImage=!0;var rr=An("preloadImage",(function(t){t.beforeUpdate((function(t){var e={};return b(t,(function(t,n){(n.src||n.style)&&Ee(t)&&(n.src&&(e[dt(n.src)]=!0),n.style&&b(nr,(function(t,r){var o=wt(n.style[r]);o&&(e[dt(o)]=!0)})))})),te($(e),200)})),t.beforePageEnter((function(t){return te(t,1e3)}))})),or=An("scrollable",(function(t,e){e=v({bounce:!1},e);var n=window.DOMMatrix||window.WebKitCSSMatrix||window.MSCSSMatrix,r=I(),o=0;function a(t){return r(t)||r(t,{childClass:"scrollable-target-"+ ++o})}function i(){mt("[scrollable]:visible").scrollable("refresh")}function c(){mt('[animate-on~="scroll-into-view"]:visible').each((function(t,e){var r=new n(getComputedStyle(e).transform),o=qt(re.root),a=qt(e),i=Lt(o,a.translate(-r.e||0,0))||Lt(o,a.translate(0,-r.f||0));i^Mt(e,"tweening-in")&&(i||e.attributes["animate-out"])&&(i?se:fe)(e,"scroll-into-view")}))}t.on("ready",(function(){re.watchElements(re.root,Wt(["scrollable","scrollable-target"]),(function(n){mt(n).filter("[scrollable-target]").each((function(t,e){var n=mt(e).closest("[scrollable]")[0];mt(e).addClass(a(n).childClass)})),mt(n).filter("[scrollable]").each((function(n,r){!function(n){var r,o,i=n.getAttribute("scrollable"),c=n.getAttribute("scroller-snap-page")||"",u=n.getAttribute("scroller-state")||"",l=n.getAttribute("scroller-page")||"",s=l&&mt(l,n).get(),f=!1,p=!1;function d(t){if(u){var e={};e[u]=t,Nn(n,e)}}function h(t,e){e=e||"center top",!f&&St(n)&&s[t]&&(f=!0,r=!0,d(t),mt(n).scrollable("scrollToElement",s[t],e,e,200,(function(){f=!1,r=!1})))}function g(){("always"===c||c===t.orientation)&&St(n)&&(f?p=!0:(p=!1,h($n(n,u))))}mt(n).scrollable(v({},e,{handle:Y(i,"auto scrollbar content")||"content",hScroll:!Y(i,"y-only"),vScroll:!Y(i,"x-only"),content:"."+a(n).childClass+":visible:not(.disabled)",pageItem:l,snapToPage:"always"===c||c===t.orientation,scrollStart:function(e){t.emit("scrollStart",n,e,!0)},scrollMove:function(e){t.emit("scrollMove",n,e,!0)},scrollEnd:function(e){t.emit("scrollStop",n,e,!0)}})),re.on(n,{drag:function(){re.beginDrag()},getContentRect:function(){var t=qt(n),e=mt(n).scrollable("scrollPadding");return t.top+=e.top,t.left+=e.left,t.right-=e.right,t.bottom-=e.bottom,t},scrollBy:function(t){mt(n).scrollable("stop");var e=mt(n).scrollable("scrollLeft"),r=mt(n).scrollable("scrollTop");return mt(n).scrollable("scrollBy",t.x,t.y,200),{x:e-mt(n).scrollable("scrollLeft"),y:r-mt(n).scrollable("scrollTop")}}}),l&&("always"!==c&&t.on("orientationchange",(function(){mt(n).scrollable("setOptions",{snapToPage:c===t.orientation})})),u&&(t.on(n,{statechange:function(t){var e=t.data[u];f||((0|qt(s[e]).width)>(0|qt().width)?h(e,"left center"):h(e))},scrollMove:function(t){f=!0,r||d(t.pageIndex)},scrollStop:function(t){d(t.pageIndex),f=!1,p&&g()}},!0),mt(window).on("resize",(function(){clearTimeout(o),o=setTimeout(g,200)}))))}(r),mt(r).scrollable(re.focusable(r)?"enable":"disable")}))}))})),t.on("statechange orientationchange animationcomplete",(function(){E(i)})),t.on("pageenter",(function(t){var e=mt(Tt("[scrollable]",t.target)).add(mt(t.target).parents("[scrollable]"));mt(Tt("[scrollable-target]",t.target)).each((function(t,e){mt(e).toggleClass("disabled",!Ee(e))})),e.scrollable("refresh"),e.filter(":not([keep-scroll-offset])").scrollable("scrollTo",0,0)})),t.on("resize pageenter statechange scrollMove orientationchange",(function(){E(c)})),re.on("modalchange",(function(){mt("[scrollable]").each((function(t,e){mt(e).scrollable(re.focusable(e)?"enable":"disable")}))}))})),ar=(c.IS_IOS,c.IS_IE10,c.IS_IE,c.IS_MAC,c.IS_TOUCH),ir=An(!0,"viewport",(function(t){var e,n,r,o=_(t,"orientation","",!0),a=ar&&"MacIntel"!==navigator.platform,i=screen.availWidth,c=screen.availHeight;function u(u){ar&&screen.availWidth===i&&screen.availHeight===c&&screen.availWidth===window.innerWidth?mt("body").css("min-height",mt("body").height()+"px"):mt("body").css("min-height","0"),i=screen.availWidth,c=screen.availHeight;var l=mt("body").height()||0;(mt("html").height()||0)<l&&mt(re.activeElement).is(":text")&&$t(re.activeElement);var f=e;n=a?i:document.body.offsetWidth,r=a?i===window.innerWidth?c:window.innerHeight:document.body.offsetHeight,o((e=n/r)>=1?"landscape":"portrait"),!1!==u&&(t.emit("resize",{aspectRatio:e,viewportWidth:n,viewportHeight:r}),s(e>=1,f>=1)&&t.emit("orientationchange",{orientation:t.orientation}))}U(t,{get aspectRatio(){return e},get viewportWidth(){return n},get viewportHeight(){return r}}),t.on("orientationchange",(function(){se(re.root,"orientationchange")})),mt(window).on("resize",(function(){E(u)})),mt((function(){u(!1)}))}));var cr=Qn.with((function(t){window.app=t}),Gn,Kn,tr,er,rr,or,ir)},860:function(t,e,n){var r=window.jQuery||n(609);t.exports=r;try{n(172)}catch(t){}},424:function(t,e,n){var r=window.Promise||n(804).default;t.exports=r},256:function(t,e,n){var r=window.waterpipe||n(160);t.exports=r;var o=r;o.pipes["{"]=function(t,e){var n=e.globals,r=n.new,o={};for(n.new=o;e.hasArgs();){var a=e.raw();if("}"===a)break;o[String(a).replace(/:$/,"")]=e.next()}return n.new=r,o},o.pipes["{"].varargs=!0},609:function(t){"use strict";t.exports=e},172:function(t){"use strict";if(void 0===n){var e=new Error("Cannot find module 'jq-scrollable'");throw e.code="MODULE_NOT_FOUND",e}t.exports=n},804:function(t){"use strict";t.exports=r},160:function(t){"use strict";t.exports=o},163:function(e){"use strict";e.exports=t}},i={};function c(t){if(i[t])return i[t].exports;var e=i[t]={exports:{}};return a[t](e,e.exports,c),e.exports}return c.d=function(t,e){for(var n in e)c.o(e,n)&&!c.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c(434)}().default}));
//# sourceMappingURL=brew.min.js.map