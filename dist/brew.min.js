!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("zeta-dom"),require("jQuery"),function(){try{return require("jq-scrollable")}catch(e){}}(),require("promise-polyfill"),require("waterpipe")):"function"==typeof define&&define.amd?define("brew",["zeta-dom","jQuery","jq-scrollable","promise-polyfill","waterpipe"],t):"object"==typeof exports?exports.brew=t(require("zeta-dom"),require("jQuery"),function(){try{return require("jq-scrollable")}catch(e){}}(),require("promise-polyfill"),require("waterpipe")):e.brew=t(e.zeta,e.jQuery,e["jq-scrollable"],e["promise-polyfill"],e.waterpipe)}(self,(function(e,t,n,r,o){return function(){var a={979:function(e,t,n){"use strict";n.d(t,{default:function(){return Rr}});var r={};n.r(r),n.d(r,{baseUrl:function(){return se},combinePath:function(){return pe},isSubPathOf:function(){return ve},normalizePath:function(){return de},setBaseUrl:function(){return fe},toAbsoluteUrl:function(){return ge},toRelativeUrl:function(){return me},withBaseUrl:function(){return he}});var o={};n.r(o),n.d(o,{apiError:function(){return Fe},navigationCancelled:function(){return He},navigationRejected:function(){return _e},networkError:function(){return Ve},resourceError:function(){return ze},validationFailed:function(){return We}});var a={};n.r(a),n.d(a,{addStyleSheet:function(){return ct},api:function(){return ot},cookie:function(){return rt},copyAttr:function(){return Ke},deleteCookie:function(){return nt},getAttrValues:function(){return Qe},getCookie:function(){return et},getFormValues:function(){return Xe},getJSON:function(){return at},getQueryParam:function(){return Ye},loadScript:function(){return it},preloadImages:function(){return ut},selectorForAttr:function(){return Ze},setAttr:function(){return Ge},setCookie:function(){return tt}});var i={};n.r(i),n.d(i,{addAnimateIn:function(){return Tt},addAnimateOut:function(){return Ct},animateIn:function(){return Ot},animateOut:function(){return kt}});var c={};n.r(c),n.d(c,{addAsyncAction:function(){return hr},closeFlyout:function(){return gr},openFlyout:function(){return mr}});var u=n(163),l=u.util,s=l.noop,f=(l.pipe,l.either),p=l.is,d=(l.isUndefinedOrNull,l.isArray),h=l.isFunction,g=l.isThenable,m=l.isPlainObject,v=(l.isArrayLike,l.makeArray),b=l.extend,y=l.each,w=l.map,x=l.grep,S=(l.splice,l.any),A=l.single,P=l.kv,O=l.pick,k=l.exclude,T=l.mapGet,C=l.mapRemove,I=(l.arrRemove,l.setAdd,l.equal),j=l.combineFn,E=(l.executeOnce,l.createPrivateStore),N=(l.setTimeout,l.setTimeoutOnce),M=(l.setInterval,l.setIntervalSafe,l.setImmediate),R=l.setImmediateOnce,L=l.throwNotFunction,$=l.errorWithCode,q=l.keys,U=l.values,D=l.hasOwnProperty,V=(l.getOwnPropertyDescriptors,l.define),z=l.definePrototype,F=l.defineOwnProperty,W=l.defineGetterProperty,H=l.defineHiddenProperty,_=l.defineAliasProperty,B=l.defineObservableProperty,J=l.watch,Q=l.watchOnce,G=l.watchable,K=(l.inherit,l.freeze,l.deepFreeze),Z=l.iequal,X=l.randomId,Y=(l.repeat,l.camel),ee=(l.hyphenate,l.ucfirst,l.lcfirst,l.trim),te=l.matchWord,ne=l.htmlDecode,re=l.resolve,oe=l.reject,ae=l.always,ie=l.resolveAll,ce=l.catchAsync,ue=l.setPromiseTimeout,le={http:80,https:443},se="/";function fe(e){se=de(e,!0)}function pe(e,t){return e=de(e),"/"===(t=de(t))?e:"/"===e||t.indexOf("://")>0?t:e+t}function de(e,t,n){if(!e||"/"===e)return n?"":"/";if(/(^(?:[a-z0-9]+:)?\/\/)|\?|#/.test(e)){var r=document.createElement("a");return r.href=e,(RegExp.$1&&(r.origin||r.protocol+"//"+r.hostname+(r.port&&+r.port!==le[r.protocol.slice(0,-1)]?":"+r.port:"")))+de(r.pathname,t,!0)+r.search+r.hash}if(e=String(e).replace(/\/+(\/|$)/g,"$1"),t&&/(^|\/)\.{1,2}(\/|$)/.test(e)){for(var o=e.split("/"),a=0;a<o.length;)"."===o[a]||".."===o[a]&&!a?o.splice(a,1):".."===o[a]?o.splice(--a,2):a++;e=o.join("/")}return"/"===e[0]?e:"/"+e}function he(e){return e=de(e),se&&"/"===e[0]&&!ve(e,se)?pe(se,e):e}function ge(e){return e.indexOf("://")>0?e:location.origin+he(e)}function me(e){return e.substr(0,location.origin.length)===location.origin?e.substr(location.origin.length):e}function ve(e,t){var n=t.length;return e.substr(0,n)===t&&(!e[n]||"/"===e[n]||"/"===t[n-1])&&de(e.slice(n))}var be=n(860),ye=n(424),we=u.css,xe=we.parseCSS,Se=we.isCssUrlValue,Ae=we.runCSSTransition,Pe=u.util,Oe=(Pe.domReady,Pe.tagName,Pe.isVisible),ke=Pe.matchSelector,Te=(Pe.comparePosition,Pe.connected,Pe.containsOrEquals),Ce=(Pe.acceptNode,Pe.combineNodeFilters,Pe.iterateNode),Ie=(Pe.iterateNodeToArray,Pe.getCommonAncestor,Pe.parentsAndSelf,Pe.selectIncludeSelf),je=Pe.selectClosestRelative,Ee=Pe.createNodeIterator,Ne=(Pe.createTreeWalker,Pe.bind),Me=Pe.bindUntil,Re=Pe.dispatchDOMMouseEvent,Le=(Pe.removeNode,Pe.getClass),$e=Pe.setClass,qe=(Pe.getScrollOffset,Pe.getScrollParent,Pe.getContentRect,Pe.scrollBy,Pe.scrollIntoView),Ue=(Pe.makeSelection,Pe.getRect),De=(Pe.getRects,Pe.toPlainRect,Pe.rectEquals,Pe.rectCovers,Pe.rectIntersects),Ve=(Pe.pointInRect,Pe.mergeRect,Pe.elementFromPoint,"brew/network-error"),ze="brew/resource-error",Fe="brew/api-error",We="brew/validation-failed",He="brew/navigation-cancelled",_e="brew/navigation-rejected",Be={},Je={};function Qe(e){var t={};return y(e.attributes,(function(e,n){t[n.name]=n.value})),t}function Ge(e,t,n){y(m(t)||P(t,n),(function(t,n){e.setAttribute(t,n)}))}function Ke(e,t){y(e.attributes,(function(e,n){t.setAttribute(n.name,n.value)}))}function Ze(e){return m(e)&&(e=q(e)),"["+e.join("],[")+"]"}function Xe(e){var t={};return y(e.elements,(function(n,r){if(r.name&&!(r.name in t)){var o=e.elements[r.name];W(t,r.name,(function(){return"checkbox"===o.type?o.checked:o.value}))}})),t}function Ye(e){return new RegExp("[?&]"+e+"=([^&]+)","i").test(location.search)&&decodeURIComponent(RegExp.$1)}function et(e){return new RegExp("(?:^|\\s|;)"+e+"=([^;]+)").test(document.cookie)&&RegExp.$1}function tt(e,t,n){return document.cookie=e+"="+t+";path=/"+(n?";expires="+new Date(Date.now()+n).toGMTString():""),t}function nt(e){document.cookie=e+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT"}function rt(e,t){return{get:function(){return et(e)},set:function(n){return tt(e,n,t)},delete:function(){return nt(e)}}}function ot(e,t){var n="get post delete";if("string"==typeof e&&te(e,n))return ot(t=b({},"string"==typeof t?{baseUrl:t}:t,{methods:e}))[e];var r={baseUrl:(e=b({},e)).baseUrl,token:e.token};return y(e.methods||n,(function(t,o){te(o,n)&&(H(r,o,(function t(n,a){if(!r.baseUrl)return Q(r,"baseUrl",(function(){return t(n,a)}));var i={"Content-Type":"application/json"};return r.token&&(i.Authorization="Bearer "+r.token),be.ajax({method:o,url:pe(r.baseUrl,n),headers:i,dataType:"json",data:JSON.stringify(a||{}),success:function(t){h(e.getTokenFromResponse)&&(r.token=e.getTokenFromResponse(t,r.token))}}).catch((function(e){if(0===e.status)throw $(Ve);var t=e.responseJSON;if(t)throw console.error(n+":",t.error||t.message),$(Fe,t.error||t.message);throw $(Fe,e.statusText)}))})),_(r[o],"baseUrl",r),_(r[o],"token",r))})),r}function at(e){return be.getJSON(he(e))}function it(e,t){return d(e)?e.reduce((function(e,n){return e.then((function(){return it(n,t)}))}),re()):(Je[e]||(Je[e]=new ye((function(n,r){var o=document.createElement("script");if((t=t||{}).nomodule){if("noModule"in o)return void n();o.setAttribute("nomodule","")}t.module&&o.setAttribute("type","module"),o.addEventListener("load",(function(){n({})})),o.addEventListener("error",(function(){r($(ze))})),o.src=he(e),document.head.appendChild(o)}))),Je[e])}function ct(e,t){var n=document.createElement("link");n.rel="stylesheet",n.href=he(e),t&&(n.media=t),document.head.appendChild(n)}function ut(e,t){if(!d(e)){var n={},r=function(e){Se(e)&&(n[RegExp.$1||RegExp.$2||RegExp.$3]=!0)};Ce(Ee(e,1),(function(e){ke(e,"img")&&e.src&&(n[e.src]=!0),r(getComputedStyle(e).backgroundImage),r(getComputedStyle(e,"::before").backgroundImage),r(getComputedStyle(e,"::after").backgroundImage)})),e=q(n)}var o=[],a=[];return e.forEach((function(e){o.push(Be[e]||(Be[e]=new ye((function(t){a.push(e),be("<img>").on("load error",(function(){Be[e]=!0,t()})).attr("src",e)}))))})),!o.length||o.every((function(e){return!0===e}))?re():(a.length&&console.log("Preload image",{urls:a}),ue(ie(U(Be)),t,!0))}var lt=u.dom,st=u.dom,ft=(st.textInputAllowed,st.beginDrag),pt=(st.beginPinchZoom,st.getShortcut,st.setShortcut,st.focusable),dt=st.focused,ht=st.setModal,gt=st.releaseModal,mt=st.retainFocus,vt=(st.releaseFocus,st.iterateFocusPath,st.focus),bt=lt,yt={},wt={},xt=new Map,St=0;function At(e,t,n,r){if(!n.length)return re();var o,a,i,c=++St;n=n.map((function(e){return e instanceof ye?ce(e):new ye((function(t){e.then(t,t)}))})),ce(ie(n,(function(){clearTimeout(o),i(),xt.delete(e),console.log("Animation #%i completed",c)}))),n.push(new ye((function(e,t){i=e,a=t}))),o=setTimeout((function(){a("Animation #"+c+" timed out"),console.log("Animation #%i might take longer than expected",c,n),xt.delete(e)}),1500);var u=ce(ie(n));return console.log("Animation #%i triggered on %s",c,r,{elements:t}),xt.set(e,u),u}function Pt(e,t,n,r){var o=[Ae(e,t),bt.emit(n,e)],a=parseFloat(be(e).css("transition-delay"));return y(r,(function(t,n){if(e.attributes[t]){var r=e.getAttribute(t);o.push(new ye((function(t,o){setTimeout((function(){ie(n(e,r)).then(t,o)}),1e3*a)})))}})),ie(o,(function(){return e}))}function Ot(e,t,n,r){if(xt.has(e))return xt.get(e).then((function(){return Ot(e,t,n,r)}));r=r||function(){return!0},bt.emit("animationstart",e,{animationType:"in",animationTrigger:t},!0);var o=n?be(n,e):be(),a="show"===t?':not([animate-on]), [animate-on~="'+t+'"]':'[animate-on~="'+t+'"]',i=[],c=[];return be(Ie("[animate-in]",e)).filter(a).each((function(e,t){!o.find(t)[0]&&r(t)&&Oe(t)&&(i.push(t),c.push(Pt(t,"tweening-in","animatein",yt)))})),be(Ie("[animate-sequence]",e)).filter(a).each((function(e,t){if(!o.find(t)[0]&&r(t)&&Oe(t)){var n=t.getAttribute("animate-sequence")||"",a=t.getAttribute("animate-sequence-type")||"",u=be(t).find(">"===n[0]?n:be(n));void 0!==be(t).attr("animate-sequence-reverse")&&[].reverse.apply(u),u.css("transition-duration","0s"),u.attr("animate-in",a).attr("is-animate-sequence",""),u.each((function(e,t){"inline"===be(t).css("display")&&be(t).css("display","inline-block"),i.push(t),c.push(new ye((function(n,r){setTimeout((function(){be(t).css("transition-duration",""),Pt(t,"tweening-in","animatein",yt).then(n,r)}),50*e)})))})),t.attributes["animate-in"]||be(t).attr("animate-in","").addClass("tweening-in")}})),At(e,i,c,t).then((function(){bt.emit("animationcomplete",e,{animationType:"in",animationTrigger:t},!0)}))}function kt(e,t,n,r,o){r=r||function(){return!0},bt.emit("animationstart",e,{animationType:"out",animationTrigger:t},!0);var a=n?be(n,e):be(),i="show"===t?':not([animate-on]), [animate-on~="'+t+'"]':'[animate-on~="'+t+'"]',c=[],u=[];return be((o?be:Ie)("[animate-out]",e)).filter(i).each((function(e,t){!a.find(t)[0]&&r(t)&&(c.push(t),u.push(Pt(t,"tweening-out","animateout",wt)))})),At(e,c,u,t).then((function(){var n=be((o?be:Ie)("[animate-out], .tweening-in, .tweening-out",e));"show"!==t&&(n=n.filter(i)),(n=n.filter((function(e,t){return r(t)}))).removeClass("tweening-in tweening-out"),n.find("[is-animate-sequence]").removeAttr("animate-in").removeClass("tweening-in tweening-out"),bt.emit("animationcomplete",e,{animationType:"out",animationTrigger:t},!0)}))}function Tt(e,t){yt[e]=L(t)}function Ct(e,t){wt[e]=L(t)}var It=n(256),jt={},Et=u.dom,Nt=(Et.lock,Et.locked),Mt=Et.cancelLock,Rt=(Et.notifyAsync,Et.preventLeave),Lt=u.dom,$t=(Lt.observe,Lt.registerCleanup),qt=(Lt.createAutoCleanupMap,Lt.afterDetached),Ut=Lt.watchElements,Dt=Lt.watchAttributes;function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zt(e,t){return"["+e+"] "+(t=v(t).map((function(e){return p(e,Element)?(n=e).tagName.toLowerCase()+(n.id?"#"+n.id:n.className.trim()&&n.className.replace(/^\s*|\s+(?=\S)/g,"."))+":":e&&"object"===Vt(e)?(t=JSON.stringify(e),'[{"]'.indexOf(t[0])>=0&&t.length>200?t[0]+t.substr(1,199)+"…"+t[t.length-1]:t):e;var t,n})).join(" "))}function Ft(e,t,n){var r;try{console.groupCollapsed(zt(e,t)),r=!0}catch(e){}try{n(console)}finally{if(r)try{console.groupEnd()}catch(e){}}}var Wt,Ht=E(),_t=new Map,Bt={},Jt=[],Qt=bt.root,Gt=[Qt],Kt=function(e){return e},Zt=function(e){return ve(e,se)||"/"},Xt=function(e){return pe(se,e)},Yt=Kt,en=Kt;function tn(e,t){var n=be(e).closest("[match-path]")[0];return!n||(t||Gt).indexOf(n)>=0}function nn(e,t,n){return e&&e.test||(e=on(e)),d(t)||(t=rn(t)),e.test(t,n)}function rn(e){return"/"===(e=de(e))?[]:e.slice(1).split("/").map(decodeURIComponent)}function on(e){if(e=String(e),!Bt[e]){var t,n=[],r={};e.replace(/\/(\*|[^{][^\/]*|\{([a.-z_$][a-z0-9_$]*)(\?)?(?::(?![*+?])((?:(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])([*+?]|\{\d+(?:,\d+)\})?)+))?\})(?=\/|$)/gi,(function(e,o,a,i,c){i&&!t&&(t=n.length),a&&(r[a]=n.length),n.push(a?{name:a,pattern:c?new RegExp("^"+c+"$","i"):/./}:o.toLowerCase())})),V(n,{value:e,params:r,exact:!("*"===n[n.length-1]&&n.splice(-1)),minLength:t||n.length,test:function(e,t){return e.length>=n.minLength&&(t||!n.exact||e.length<=n.length)&&!S(n,(function(t,n){return e[n]&&!(t.name?t.pattern.test(e[n]):Z(e[n],t))}))}}),Bt[e]=n}return Bt[e]}function an(e,t,n){return e=e||[],t=t.map(encodeURIComponent),{route:e,params:k(n,["remainingSegments"]),minPath:de(t.slice(0,e.minLength).join("/")),maxPath:de(t.slice(0,e.length).join("/"))}}function cn(e,t){return A(e,(function(e){if(A(e.params,(function(e,n){return null!==t[n]}))){for(var n=[],r=0,o=e.length;r<o;r++){var a=e[r].name;if(a&&!e[r].pattern.test(t[a]||"")){if(r<e.minLength||t[a])return!1;break}n[r]=a?t[a]:e[r]}return an(e,n,O(t,q(e.params)))}}))}function un(e,t,n){var r=this,o={},a=Ht(r,{routes:t.map(on),params:o,app:e});y(a.routes,(function(e,t){y(t.params,(function(e){o[e]=null}))})),b(r,o,r.parse(n)),a.current=a.lastMatch,a.handleChanges=J(r,!0),Object.preventExtensions(r),Object.getOwnPropertyNames(r).forEach((function(e){B(r,e)})),J(r,(function(){var t=k(r,["remainingSegments"]),n=a.current,o=n,i=!I(t,n.params);i&&a.lastMatch&&(n=a.lastMatch,a.lastMatch=null,i=!I(t,n.params)),i&&(n=cn(a.routes,t)||o),a.current=n,n.route.exact&&(r.remainingSegments="/"),r.set(b({},a.params,n.params)),n!==o&&(e.path=Yt(pe(n.maxPath,r.remainingSegments)))}))}z(un,{parse:function(e){var t=Ht(this),n=rn(en(e)),r=S(t.routes,(function(e){return nn(e,n,!0)})),o={};if(r){for(var a in t.params)o[a]=n[r.params[a]]||null;o.remainingSegments=r.exact?"/":de(n.slice(r.length).join("/"))}return t.lastMatch=an(r,n,o),o},set:function(e){var t=this;if("string"==typeof e){if(Z(e,t.toString()))return;e=t.parse(e)}Ht(t).handleChanges((function(){b(t,e)}))},replace:function(e,t){var n=this,r=n.getPath(b(n,m(e)||P(e,t)));return Ht(n).app.navigate(r,!0)},getPath:function(e){var t=cn(Ht(this).routes,e);return Yt(t?pe(t.maxPath||"/",t.route.exact?"/":e.remainingSegments):"/")},toJSON:function(){return b({},this)},toString:function(){return Yt(pe(Ht(this).current.maxPath||"/",this.remainingSegments))}}),G(un.prototype),Bt["/*"]={value:"/*",exact:!1,length:0,minLength:0,params:{},test:function(){return!0}};Qn("router",(function(e,t){var n,r,o,a=e.path||t.initialPath||t.queryParam&&Ye(t.queryParam)||location.pathname.substr(t.baseUrl.length)||"/",i=new un(e,t.routes,a),c="",u={},l={},f=-1,p=[];function d(e,t,n,r){return Object.freeze({id:e,path:t,navigated:!1!==r,redirected:!!n,originalPath:n||null})}function h(e,t){for(var n=f;n>=0;n--)if(p[n].result&&p[n].path===e)return history.replaceState(history.state,"",Xt(e)),d(p[n].result,e,t,!1)}function g(t,n){var a=p[f];if(t=v(t),a&&t===a.path&&t===r)return a.result?{promise:re(h(t))}:a;n=n||f<0,f=Math.max(0,f+!n);var i,c,u=X(),l=s,g=s,m=p.splice(f),b={id:u,path:t,result:"",previous:a,get promise(){return i||(i=new Promise((function(e,t){var n=function(e){return function(t){c=!0,e(t)}};c=!1,l=n(e),g=n(t)})))},reset:function(){return c&&(i=null),b},forward:function(e){i&&!c&&((e.promise||e.then((function(e){return e.promise}))).then((function(e){b.resolve(d(e.id,e.path,t))}),g),g=s)},resolve:function(e){e=e||d(u,t),b.path=e.path,b.result=b.result||e.id,o=e,l(e),y(p,(function(e,t){t.reject()}))},reject:function(){g($(He))}};return p[f]=b,history[n?"replaceState":"pushState"](u,"",Xt(t)),e.path=t,m[0]&&(n&&!m[1]?m[0].forward(b):M((function(){y(m,(function(e,t){t.reject()}))}))),b}function m(){return history.back(),--f}function v(t,n,r){var o;if(t=decodeURI(t)||"/",n=n||e.path,"~"===t[0]||t.indexOf("{")>=0){var a=(r?Yt:Kt)(n);o=Z(a,i.toString())?Ht(i).current:i.parse(a)&&Ht(i).lastMatch,t=t.replace(/\{([^}?]+)(\??)\}/g,(function(e,n,r,a){return o.params[n]||(r&&a+e.length===t.length?"":"null")}))}return"~"===t[0]?t=(r?Kt:Yt)(pe(o.minPath,t.slice(1))):"/"!==t[0]&&(t=pe(n,t)),de(t,!0)}function w(e){be("[match-path]",e).each((function(e,t){if(!_t.has(t)){var n=document.createElement("div");n.setAttribute("style","display: none !important"),n.setAttribute("match-path",t.getAttribute("match-path")||""),t.attributes.default&&n.setAttribute("default",""),be(t).before(n),be(t).detach(),$e(t,"hidden",!0),_t.set(n,t),_t.set(t,t)}}))}function x(t,n,r){var o=p[f],a=new Map,i=bt.eventSource,c=Gt.slice(0);Gt=r,Wt=be(r).filter("[page-title]")[0],l={},document.title=Wt?cr(Wt,"page-title",!0):document.title,jn(!0,(function(){Ft(i,["pageenter",t],(function(){_t.forEach((function(r,o){var u=Gt.indexOf(r)>=0;if(r!==o&&u===c.indexOf(r)<0)if(u){or(r,!1),nr(r);var l=a.get(be(r).parents("[match-path]")[0]),s=rn(r.getAttribute("match-path")),f=Jt.map((function(e){if(nn(e.route,s))return e.callback(r,t)}));f.push(l),a.set(r,ie(f,(function(){Gt.indexOf(r)>=0&&($e(r,"hidden",!1),Ot(r,"show","[match-path]"),e.emit("pageenter",r,{pathname:t},!0))})))}else e.emit("pageleave",r,{pathname:n},!0),kt(r,"show","[match-path]").then((function(){Gt.indexOf(r)<0&&Ft(i,["pageleave",n],(function(){$e(r,"hidden",!0),or(r,!0)}))}))}))})),y(a,(function(e,t){Tn(t,e)})),ae(ie(a),(function(){o.resolve()}))}))}function S(){var t=p[f];if(t&&location.pathname===Xt(r)||(g(r),t=p[f]),f>0&&r===c)t.resolve(h(r));else{var a=t.previous,u=r,s=Nt(Qt,!0)?Mt(Qt):Nn();if(s)return n=r===n?null:c,s=re(s).then((function(){var e=g(u);return R(S),e}),(function(){throw $(_e)})),p[f-1]===a?m():(p[f]=a,history.replaceState(a.id,"",Xt(a.path))),void t.forward(s);n=null;var d,P=[Qt],O=c;w(),jn(!0,(function(){for(var e,t=en(r),n=be('[switch=""]').get();e=n.shift();)if(tn(e,P)){var o=be(e).children("[match-path]").get().map((function(e){var n=T(_t,e)||e,r=be('[switch=""]',n).get(),o=v(n.getAttribute("match-path"),t,!0);return{element:n,path:o.replace(/\/\*$/,""),exact:!r[0]&&"/*"!==o.slice(-2),placeholder:e!==n&&e,children:r}}));o.sort((function(e,t){return t.path.localeCompare(e.path)}));var a=A(o,(function(e){return(e.exact?t===e.path:ve(t,e.path))&&e.path}));y(o,(function(e,t){if(t.path===a){var r=t.element;P.unshift(r),t.placeholder&&(be(t.placeholder).replaceWith(r),Cn(r),En(r),n.push.apply(n,t.children))}}))}})),l[r]&&l[O]?x(r,O,P):(l[r]=!0,be('[switch=""]').each((function(e,t){if(tn(t,P)){var n=be(t).children("[match-path]");if(!n.filter((function(e,t){return P.indexOf(t)>=0}))[0])return d=Yt((n.filter("[default]")[0]||n[0]).getAttribute("match-path")),!1}})),d&&d!==r?d===c?t.resolve(h(d,r)):t.forward(g(d,!0)):(console.log("Nagivate",r),c=r,e.path=r,i.set(r),Tn(s=re(e.emit("navigate",{pathname:r,oldPathname:O,oldStateId:o&&o.id,newStateId:t.id,route:Object.freeze(b({},i))})),Qt,(function(){p[f]===t&&x(r,O,P)}))))}}J(u,!0),B(u,"path","",(function(e){return qn?((e=v(e,c))!==c&&e!==r&&(r=e,R(S)),c):c})),fe(t.baseUrl||""),"/"===se?(Zt=Kt,Xt=Kt):t.explicitBaseUrl&&(Yt=Xt,en=Zt,Zt=Kt,Xt=Kt,ve(a,se)||(a=se)),e.define({get canNavigateBack(){return f>0},get previousPath(){return(p[f-1]||"").path||null},resolvePath:v,navigate:function(e,t){return g(e,t).promise},back:function(e){return f>0?p[m()].reset().promise:!!e&&g(e).promise}}),F(e,"initialPath",a,!0),F(e,"route",i,!0),_(e,"path",u),e.beforeInit((function(){bt.ready.then((function(){w(),Ne(window,"popstate",(function(){var e=A(p,(function(e,t){return e.id===history.state&&t+1}));e?(r=p[f=e-1].reset().path,R(S)):g(Zt(location.pathname))}))}))})),e.on("ready",(function(){g(a,!0)})),e.on("pageenter",(function(e){be(Ie("[x-autoplay]",e.target)).each((function(e,t){tn(t)&&(0!==t.readyState&&(t.currentTime=0),t.play())}))})),e.on("pageleave",(function(t){be(Ie("form",t.target)).each((function(t,n){e.emit("reset",n,null,!1)||n.reset()})),be(Ie("[x-autoplay]",t.target)).each((function(e,t){t.pause()}))})),e.on("statechange",(function(e){Te(e.target,Wt)&&(document.title=cr(Wt,"page-title",!0))})),Ut(Qt,"video[autoplay], audio[autoplay]",(function(e){be(e).attr("x-autoplay","").removeAttr("autoplay")}),!0)}));var ln="background-image".split(" "),sn="checked selected disabled readonly multiple ismap",fn=E(),pn=bt.root,dn=new Set,hn=new Map,gn=[],mn=[],vn=[],bn={},yn={},wn={},xn=0,Sn=!1;function An(e,t){var n=fn(t)||fn(t,{});return n[e]||(n[e]={})}function Pn(e,t,n){y(t,(function(t,n){"$$class"===t?$e(e,n):"$$text"===t?e.textContent=n:"style"===t?be(e).css(n):te(t,sn)?e[t]=!!n:e.setAttribute(t,n)})),n||bt.emit("domchange",e)}function On(e,t){y(t,(function(t,n){e[t]="$$class"===t||"style"===t?b({},e[t],n):n}))}function kn(e,t){var n,r=new Set;do{e=x(v(e),(function(e){return Te(pn,e)})),n=v(r),be(Ie(Ze(bn),e)).not(n).each((function(e,n){y(bn,(function(e,o){n.attributes[e]&&(o(n,An.bind(0,e),t),r.add(n))}))}))}while(n.length!==r.size)}function Tn(e,t,n){if(!g(e))return re((n||s)());if(t||"script"!==bt.eventSource){var r=tr("loading",(t=t||bt.activeElement)||pn),o=tr("error",t||pn),a=An("handleAsync",r);nr(r,{loading:ar(r,"loading")||!0}),nr(o,{error:null}),a.value=(a.value||0)+1,e.then((function(){nr(r,{loading:!!--a.value})}),(function(e){nr(r,{loading:!!--a.value}),nr(o,{error:""+(e.message||e)})}))}return e.then(n||null)}function Cn(e){dn.add(e)}function In(e){if(!xn&&!Sn){var t=new Map,n=new Map,r=function(e,t){On(T(n,e,Object),t)};Sn=!0;try{Ft(bt.eventSource,"statechange",(function(){kn(dn,r);var e=be.uniqueSort(x(dn,(function(e){return Te(pn,e)&&dn.delete(e)})));y(e,(function(e,n){var r=An("oldValues",n),o={},a={};for(y(ar(n,!0),(function(e,t){r[e]!==t&&(o[e]=r[e],a[e]=t,r[e]=t)})),t.set(n,{oldValues:o,newValues:a});n=n.parentNode;){var i=t.get(n);if(i)for(var c in i.newValues)c in a||(a[c]=i.newValues[c],o[c]=i.oldValues[c])}}));var n=[];y(e.reverse(),(function(e,o){Ft("statechange",[o,t.get(o).newValues],(function(e){e.log(o===pn?document:o),be(Ie(Ze(yn),o)).not(n).each((function(e,t){y(yn,(function(e,n){t.attributes[e]&&n(t,An.bind(0,e),r)})),n.push(t)}))}))}))})),ie(gn.map((function(e){return e(n)}))).then((function(){var r=new Map;y(n,(function(n,o){if(e)hn.has(n)?On(hn.get(n),o):Pn(n,o);else{var a=be(n).filter("[match-path]")[0]||be(n).parents("[match-path]")[0]||pn,i=r.get(a);if(!i){var c=function(e){var n,r=e.getAttribute("animate-on-statechange");if(!r)return!0;for(;e&&!(n=t.get(e));e=e.parentNode);return n&&S(r,(function(e){return e in n.newValues}))};i=[],M((function(){kt(a,"statechange","[match-path]",c,!0).then((function(){y(i,(function(e,t){Pn(t,C(hn,t))})),Ot(a,"statechange","[match-path]",c)}))})),r.set(a,i)}On(T(hn,n,Object),o),i.push(n)}})),y(t,(function(e,t){bt.emit("statechange",e,{data:ar(e),newValues:t.newValues,oldValues:t.oldValues},!0)}))}))}finally{Sn=!1}}}function jn(e,t){var n=!0;try{xn=(xn||0)+1,L(t||e)()}catch(e){throw n=!1,e}finally{!--xn&&n&&In(!0===e)}}function En(e){var t=Sn;Sn=!0;try{kn(e,(function(e,t){Pn(e,t,!0)}))}finally{Sn=t}for(var n=[e],r=e===pn,o=-1,a=0;o<vn.length;)y(vn.slice(o<0?0:o),(function(t,r){be(Ie(r.target,e)).each((function(e,t){r.unbindHandlers.push($n.on(t,r.handlers)),r.handlers.mounted&&n.indexOf(t)<0&&n.push(t)}))})),o=vn.length,y(be.uniqueSort(n.slice(a)),(function(e,t){bt.emit("mounted",t)})),r||(r=!0,bt.emit("mounted",pn,{target:e})),a=n.length;y(mn,(function(t,n){be(Ie(n.selector,e)).each((function(e,t){n.handler.call(t,t)}))}))}function Nn(e){var t=S(be("[prevent-leave]").get(),(function(e){var t=An("preventLeave",e),n=t.allowLeave;if(tn(e)||n){var r=cr(e,"prevent-leave");return!r&&n&&delete t.allowLeave,r&&!n}}));return t&&!e?ie(bt.emit("preventLeave",t,null,!0),(function(e){if(!e)throw $(_e);An("preventLeave",t).allowLeave=!0})):!!t}function Mn(e,t){wn[e]=be(t)[0]}function Rn(e,t){bn[e]=L(t)}function Ln(e,t){yn[e]=L(t)}Rn("apply-template",(function(e,t){var n=t(e),r=e.getAttribute("apply-template"),o=wn[r]||wn[cr(e,"apply-template")],a=n.template;if(n.attributes||b(n,{attributes:Qe(e),childNodes:v(e.childNodes)}),o&&o!==a){n.template=o,o=o.cloneNode(!0),a&&y(a.attributes,(function(t,n){e.removeAttribute(n.name)})),Ge(e,n.attributes),Ke(o,e);var i=be(n.childNodes).detach();be(Ie("content:not([for])",o)).replaceWith(i),be(Ie("content[for]",o)).each((function(e,t){be(t).replaceWith(i.filter(t.getAttribute("for")||""))})),be(e).empty().append(o.childNodes)}})),Rn("auto-var",(function(e){nr(e,cr(e,"auto-var"))})),Rn("foreach",(function(e,t){var n=t(e),r=n.template||(n.template=be(e).contents().detach().filter((function(e,t){return 1===t.nodeType||/\S/.test(t.data||"")})).get()),o=n.nodes||[],a=n.data||[],i=v(cr(e,"foreach"));if(i.length!==a.length||i.some((function(e,t){return a[t]!==e}))){var c=w(i,(function(n){var i=a.indexOf(n);if(i>=0)return a.splice(i,1),o.splice(i*r.length,(i+1)*r.length);var c=be(r).clone().get(),u=be(Ie("[foreach]",c));return u[0]&&be(Ie("[foreach]",r)).each((function(e,n){t(u[e]).template=t(n).template})),y(c,(function(t,r){1===r.nodeType&&(be(e).append(r),rr(r,{foreach:n}),En(r))})),c}));b(n,{nodes:c,data:i.slice()}),be(o).detach(),be(e).append(c)}})),Rn("switch",(function(e,t,n){var r=e.getAttribute("switch")||"";if(tn(e)&&r){var o=t(e);void 0===o.matched&&rr(e,"matched",(function(){return o.matched&&ar(o.matched,!0)}));var a,i,c,u=ar(e),l=It.eval(r,u),s=be("[match-"+r+"]",e).filter((function(t,n){return be(n).parents("[switch]")[0]===e})),f=!te("switch",e.getAttribute("keep-child-state")||""),p=o.matched,d=new Map;s.each((function(e,t){var n=It.eval('"null" ?? '+t.getAttribute("match-"+r),ar(t));if(d.set(t,n),It.eval("$0 == $1",[l,n]))return a=t,!1})),a=a||s.filter("[default]")[0]||s[0]||null,p!==a?Ft("switch",[e,r,"→",l],(function(e){e.log("Matched: ",a||"(none)"),a&&(f&&or(a),nr(a)),p&&f&&or(p,!0),s.each((function(e,t){n(t,{$$class:{active:t===a}})}))})):(i="switch",c=[e,r,"→",l,"(unchanged)"],console.log(zt(i,c)),r in u&&void 0!==d.get(a)&&nr(e,r,d.get(a))),o.matched=a}})),Ln("template",(function(e,t,n){var r=t(e),o=r.templates;o||(o={},y(e.attributes,(function(e,t){t.value.indexOf("{{")>=0&&(o[t.name]=te(t.name,sn)?t.value.replace(/^{{|}}$/g,""):t.value)})),!e.childElementCount&&(e.textContent||"").indexOf("{{")>=0&&(o.$$text=e.textContent),r.templates=o);var a=ar(e),i={};y(o,(function(t,n){var r=ir(n,a,e,t,!te(t,sn));("$$text"===t?e.textContent:(e.getAttribute(t)||"").replace(/["']/g,""))!==r&&(i[t]=r)})),n(e,i)})),Ln("set-style",(function(e,t,n){var r=xe(cr(e,"set-style",!0));y(ln,(function(e,t){var n=Se(r[t]);n&&(r[t]='url("'+he(me(n))+'")')})),n(e,{style:r})})),Ln("set-class",(function(e,t,n){n(e,{$$class:cr(e,"set-class")})}));var $n,qn,Un,Dn=E(),Vn=bt.root,zn={};function Fn(e){return ie(e.splice(0),(function(){return e.length&&Fn(e)}))}function Wn(e){return function(t){if(t.target===t.context)return e.apply(this,arguments)}}function Hn(e){var t=e.target;be(Ie('img[src^="/"], video[src^="/"]',t)).each((function(e,t){t.src=he(t.getAttribute("src"))})),be(Ie('a[href^="/"]',t)).each((function(e,t){t.href=he(t.getAttribute("href"))})),be(Ie("[data-src]",t)).each((function(e,t){t.src=he(t.dataset.src),t.removeAttribute("data-src")})),be(Ie("[data-bg-src]",t)).each((function(e,t){t.style.backgroundImage='url("'+he(t.dataset.bgSrc)+'")',t.removeAttribute("data-bg-src")})),be(Ie("form",t)).on("submit",(function(e){e.preventDefault()}))}function _n(){var e=this;Dn(e,{init:[],options:{}}),F(e,"element",Vn,!0),F(e,"ready",new Promise((function(t){e.on("ready",t.bind(0,e))})),!0),e.on("mounted",Hn)}function Bn(){if(Un)throw new Error("brew() can only be called once");return $n=new _n,y(jt,(function(e,t){var n=t&&h($n[Y("use-"+e)]);n&&n.call($n,t)})),y(arguments,(function(e,t){L(t)($n)})),Un=!0,nr(Vn,{loading:"initial"}),Tn(ie([bt.ready,Fn(Dn($n).init)],(function(){qn=!0,En(Vn),$n.emit("ready")})),Vn),$n}function Jn(e,t){L(t),z(_n,P(Y("use-"+e),(function(n){var r=Dn(this);r.options[e]=b(r.options[e]||{},n),t(this,r.options[e])})))}function Qn(e,t,n){return!0===e?function(e){n(e,{})}:Jn.bind(0,e,t)}z(_n,{emit:function(e,t,n,r){return p(t,Node)||(r=n,n=t,t=this.element),bt.emit(e,t,n,r)},define:function(e){V(this,e)},beforeInit:function(e){h(e)&&(e=e.call(this)),Dn(this).init.push(e)},detect:function(e,t){var n=this,r={};y(e,(function(e,t){zn[t]&&(r[t]=h(zn[t])?zn[t]=ie(zn[t]()).catch((function(e){return console.warn("Detection for "+t+" has thrown exception:",e),!1})):zn[t])})),this.beforeInit(ie(r,(function(e){return e=Object.freeze(b({},n.supports,e)),V(n,{supports:e}),h(t)&&t(e)})))},when:function(e,t){this.beforeInit(ie(e,(function(e){if(e)return t()})))},on:function(e,t,n,r){r=!0===(r||n),h(t)&&(n=t,t=e,e=Vn);var o=t;if("string"==typeof t)r&&(n=Wn(n)),t.indexOf(" ")>=0?(o={},y(t,(function(e,t){o[t]=n}))):o=P(t,n);else if(r)for(var a in t)t[a]=Wn(t[a]);var i=[];return"string"==typeof e?(!function(e,t,n){vn.push({target:e,handlers:t,unbindHandlers:n})}(e,o,i),e=be(e).get()):e instanceof Node&&(e=[e]),y(e,(function(e,t){i.push(bt.on(t,o))})),j(i)},matchPath:function(e,t,n){h(t)&&(n=t,t=null),this.on("mounted",(function(r){var o=r.target.getAttribute("match-path");o&&nn(e,o)&&(!t||be(r.target).is(t))&&n.call(r.target,r.target)}))},matchElement:function(e,t){mn.push({selector:e,handler:t})},matchRoute:nn,beforeUpdate:function(e){gn.push(L(e))},beforePageEnter:function(e,t){h(e)&&(t=e,e="/*"),Jt.push({route:on(e),callback:L(t)})}}),G(_n.prototype);u.TraversableNode,u.TraversableNodeTree,u.InheritedNode;var Gn=u.InheritedNodeTree,Kn=(u.TreeWalker,bt.root),Zn={var:!0,"auto-var":!0,"error-scope":{error:null}},Xn=new Gn(Kn,(function(){var e=this,t=e.element;y(t.dataset,(function(t,n){F(e,t,It.eval("`"+ee(n||"null")))})),y(Yn(t,!0,e),(function(t,n){F(e,t,n)})),t===Kn&&(e.loading=null,e.error=null)}),{selector:Ze(Zn)});function Yn(e,t,n){var r={};return y(Zn,(function(o,a){if(e.attributes[o]){if(!0===a&&(a=cr(e,o,!1,n),!m(a)))return;for(var i in a)r[i]=void 0===a[i]||t?null:a[i]}})),r}function er(e,t){t=t||Kn;for(var n=Xn.getNode(t);null!==n;n=Object.getPrototypeOf(n))if(D(n,e))return n;return console.warn("Undeclared state: %s",e,{element:t}),Xn.setNode(t)}function tr(e,t){return er(e,t).element}function nr(e,t,n){var r=t&&(m(t)||P(t,n)),o=!1;if("string"==typeof e)jn((function(){be(e).each((function(e,t){o|=nr(t,r)}))}));else{var a=Xn.setNode(e);y(r||cr(e,"set-var"),(function(t,n){if(a[t]!==n){var r=er(t,e);r[t]=n,o=!0,Cn(r.element)}})),o&&qn&&R(In)}return!!o}function rr(e,t,n){var r=m(t)||P(t,n),o=Xn.setNode(e),a={};for(var i in r)h(r[i])?W(o,i,r[i],s):(F(o,i,o[i]),a[i]=r[i]);return nr(e,a)}function or(e,t){jn((function(){y(Xn.descendants(e),(function(e,n){nr(n.element,Yn(n.element,t))}))}))}function ar(e,t){var n=function(e){for(var t in e.dataset)return!0}(e)?Xn.setNode(e):Xn.getNode(e)||{};if(!0!==t)return t?n[t]:b({},n);if(n.element!==e)return{};var r=Object.getOwnPropertyNames(n);return r.splice(r.indexOf("element"),1),O(n,r)}function ir(e,t,n,r,o){var a={globals:{app:$n}};return o?ne(It(e,b({},t),a)):It.eval(e,b({},t),a)}function cr(e,t,n,r){var o=e.getAttribute(t);return o?ir(o,r||ar(e),0,0,n):n?"":null}Xn.on("update",(function(e){y(e.updatedNodes,(function(e,t){Cn(t.element)}))}));var ur="button,input,select,textarea,[contenteditable],a[href],area[href],iframe",lr="[is-flyout]:not([tab-through]),[tab-root]",sr=bt.root,fr=new Map,pr=new Map,dr={};function hr(e,t){dr[e]=L(t)}function gr(e,t){var n=be(e||"[is-flyout].open").get();return ie(n.map((function(e){var n=fr.get(e);return n&&(fr.delete(e),gt(e),n.resolve(t),n.source&&$e(n.source,"target-opened",!1)),ce(e.attributes["animate-out"]?($e(e,"closing",!0),kt(e,"open")):Ae(e,"closing")).then((function(){$e(e,{open:!1,closing:!1})}))})))}function mr(e,t,n,r){var o=n||sr,a=e?je(e,o):be(o).closest("[is-flyout]")[0];if(!a)return oe();var i,c=fr.get(a);if(c)return r?gr(a,n&&It.eval("`"+n.value)):c.path=$n.path,c.promise;var u=new ye((function(e){i=e}));fr.set(a,{source:n,promise:u,resolve:i,path:$n.path}),n&&($e(n,"target-opened",!0),mt(a,n)),t&&nr(a,t),Ae(a,"open",(function(){vt(a)})),Ot(a,"open"),a.attributes["is-modal"]&&(Rt(a,u),ht(a));var l=function(e){"focusout"!==e.type&&e.data!==Y("swipe-"+a.getAttribute("swipe-dismiss"))||(gr(a),bt.event&&bt.event.preventDefault(),e.handled())};return ae(u,bt.on(a,{focusout:l,gesture:l})),u}hr("validate",(function(e){var t=je(this.getAttribute("validate")||"",e.target);if(t){var n=bt.emit("validate",t)||!t.checkValidity||t.checkValidity();if(n){if(g(n))return n.then((function(e){if(!e)throw $(We)}))}else e.stopImmediatePropagation(),e.preventDefault()}})),hr("context-method",(function(e){var t=e.currentTarget,n=Y(t.getAttribute("context-method")||"");if(h($n[n])){var r,o=t.getAttribute("context-form"),a=o?je(o,t):t.form,i=!0;return a?(i=bt.emit("validate",a)||a.checkValidity(),r=[Xe(a)]):r=v(cr(t,"method-args")),ie(i,(function(e){if(!e)throw $(We);return $n[n].apply($n,r)}))}})),bt.ready.then((function(){var e=new WeakMap,t=sr;function n(n){be(n||ur).each((function(n,r){(be(r).closest(lr)[0]||sr)!==t?(e.has(r)||e.set(r,r.tabIndex),r.tabIndex=-1):be(r).attr("tabindex",C(e,r)||null)}))}bt.on("focuschange",(function(){var e=S(be(lr).get().reverse(),(function(e){return dt(e)}))||sr;e!==t&&(t=e,n())})),Ut(sr,ur,n,!0),$n.on("mounted",(function(e){be(Ie(Ze(dr),e.target)).attr("async-action","")})),$n.on("navigate",(function(){setTimeout((function(){fr.forEach((function(e,t){e.path!==$n.path&&gr(t)}))}))})),be("body").on("click","[disabled], .disabled, :disabled",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),be("body").on("click","[async-action]",(function(e){var t=e.currentTarget,n=T(pr,t,Array),r=null;if(y(dr,(function(e,o){if(t.attributes[e]&&n.indexOf(o)<0)return r=o,!1})),r){n.push(r);var o=r.call(t,e);g(o)&&!e.isImmediatePropagationStopped()&&(e.stopImmediatePropagation(),e.preventDefault(),Tn(o).then((function(){Re(e)}),(function(e){pr.delete(t),console.warn("Action threw an error:",e)})))}else pr.delete(t)})),be("body").on("click","a[href]:not([rel]), [data-href]",(function(e){if(!e.isDefaultPrevented()){var t=e.currentTarget,n=t.getAttribute("data-href")||t.getAttribute("href");if(e.preventDefault(),e.stopPropagation(),"_blank"===t.getAttribute("target"))window.open(n,X());else{var r=function(){!("navigate"in $n)||/^([a-z0-9]+:|\/\/)/.test(n)?location.href=n:$n.navigate(n)},o=be(t).closest("[is-modal]")[0];o?(mr(o).then(r),gr(o)):(r(),gr())}}})),be("body").on("click","[set-var]:not([match-path])",(function(e){var t=e.currentTarget;t===be(e.target).closest("[set-var]")[0]&&(nr(t),gr())})),be("body").on("click","[toggle]",(function(e){var t=e.currentTarget;e.stopPropagation(),t.attributes["toggle-if"]&&!cr(t,"toggle-if")||mr(t.getAttribute("toggle"),null,t,!0)})),be("body").on("click","[toggle-class]",(function(e){var t=e.currentTarget;if(e.stopPropagation(),!t.attributes["toggle-if"]||cr(t,"toggle-if")){var n=t.getAttribute("toggle-class-for"),r=n?je(n,t):e.currentTarget;y(t.getAttribute("toggle-class"),(function(e,t){$e(r,t.slice(1),"+"===t[0])}))}}))})),bt.ready.then((function(){be("[brew-template]").each((function(e,t){Mn(t.getAttribute("brew-template")||"",t.cloneNode(!0))})),be("apply-attributes").each((function(e,t){var n=be(t.getAttribute("elements")||"",t.parentNode||bt.root);y(t.attributes,(function(e,t){"elements"!==t.name&&n.each((function(e,n){n.setAttribute(t.name,t.value)}))}))})).remove(),be("[style]").each((function(e,t){var n=Se(t.style.backgroundImage);n&&(t.setAttribute("data-bg-src",decodeURIComponent(he(me(n)))),t.style.backgroundImage="none")})),window.onbeforeunload=function(e){Nn(!0)&&(e.returnValue="",e.preventDefault())}}));function vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(n),!0).forEach((function(t){yr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wr=br(br(br(br(br({ErrorCode:o,defaults:jt},a),r),i),c),{},{getVar:ar,setVar:nr,declareVar:rr,evalAttr:cr,isElementActive:tn,handleAsync:Tn,preventLeave:Nn,install:Jn,addDetect:function(e,t){zn[e]=L(t)},addExtension:Qn,addTemplate:Mn,with:function(){var e=this.bind.apply(Bn,[0].concat(w(arguments,(function(e){return m(e)?function(t){V(t,e)}:h(e)||s}))));return V(e,wr),e}});V(Bn,wr);var xr=Bn,Sr=Qn("config",(function(e,t){var n=G();V(e,{config:n}),e.beforeInit(at(t.path).catch(h(t.fallback)||null).then((function(e){b(n,e),t.freeze&&K(n)})))})),Ar=Qn(!0,"formVar",(function(e){e.matchElement("form[form-var]",(function(t){var n=t.getAttribute("form-var"),r={},o=function(e){if(e&&(r=Xe(t)),n){var o=ar(t,n)||{};I(r,O(o,q(r)))||nr(t,n,b({},o,r))}else nr(t,r)};Dt(t,"value",(function(){R(o)})),Ut(t,":input",(function(e){y(e,(function(e,n){var r=qt(n,t);Me(r,n,"change input",(function(){R(o)})),r.then(o.bind(null,!0))})),o(!0)}),!0),e.on(t,"reset",(function(){return n?tn(tr(n,t))||t.reset():y(t.elements,(function(e,n){tn(tr(n.name,t))||(n.value=null)})),!0}))})),e.on("pageenter",(function(e){be(Ie("form[form-var]",e.target)).each((function(e,t){be(":input:eq(0)",t).trigger("change")}))}))}));function Pr(e){if(e){var t={};return y(e,(function(e,n){var r=n.toLowerCase();t[r]=n,r.indexOf("-")>0&&(t[r.split("-")[0]]=n)})),t}}function Or(e,t){return e&&t?e[t.toLowerCase()]:t}function kr(e,t){var n=navigator.languages||[navigator.language||""];return e?(n=Pr(n),d(e)&&(e=Pr(e)),A(n,(function(t,n){return e[n]}))||t||q(e)[0]):n[0]}var Tr=Qn("i18n",(function(e,t){var n=Pr(t.languages),r=e.route&&t.routeParam,o=t.cookie&&rt(t.cookie,864e5),a=Or(n,r&&e.route[r])||Or(n,o&&o.get())||kr(n,t.defaultLanguage),i=function(t){e.language=t};B(e,"language",a,(function(i){return i=Or(n,i)||a,o&&o.set(i),r&&e.route.replace(r,i.toLowerCase()),a!==i&&(a=i,t.reloadOnChange&&location.reload()),a})),e.define({setLanguage:i,detectLanguage:kr}),r&&(e.route.watch(r,i),e.on("ready",(function(){e.route.replace(r,a.toLowerCase())})))})),Cr=Qn("login",(function(e,t){var n=rt((t=b({loginPagePath:"",defaultRedirectPath:"",cookie:"",expiry:0,logout:null,login:null,tokenLogin:null,getTokenFromResponse:null},t)).cookie,t.expiry),r=B(e,"loggedIn",!1,!0);function o(o){r(!0),h(t.getTokenFromResponse)&&n.set(t.getTokenFromResponse(o)),e.emit("login",{data:o})}var a=e.initialPath,i=n.get();i&&h(t.tokenLogin)&&e.beforeInit(ce(ie(t.tokenLogin(i),o))),e.define({login:function(n,i,c){return c=h(c||i),i="string"==typeof i&&i,ie(t.login(n)).then((function(e){return o(e),c&&c()}),(function(e){throw r(!1),e.status>=500?"server-error":"incorrect-cred"})).then((function(){a===e.resolvePath(t.loginPagePath)&&(a=""),e.navigate(i||a||t.defaultRedirectPath),a=""}))},logout:function(o,a){return e.loggedIn?(a=h(a||o),o="string"==typeof o&&o,re(Nn()).then((function(){return t.logout()})).then((function(){return r(!1),n.delete(),e.emit("logout"),a&&a()})).then((function(){e.navigate(o||t.loginPagePath)}))):re()}}),e.on("navigate",(function(n){var r=e.resolvePath(t.loginPagePath);f(e.loggedIn,n.pathname!==r)&&(e.loggedIn?e.navigate(t.defaultRedirectPath):(a=n.pathname,e.navigate(r)))}))})),Ir="background-image".split(" ");jt.preloadImage=!0;var jr=Qn("preloadImage",(function(e){e.beforeUpdate((function(e){var t={};return y(e,(function(e,n){(n.src||n.style)&&tn(e)&&(n.src&&(t[ge(n.src)]=!0),n.style&&y(Ir,(function(e,r){var o=Se(n.style[r]);o&&(t[ge(o)]=!0)})))})),ut(q(t),200)})),e.beforePageEnter((function(e){return ut(e,1e3)}))})),Er=Qn("scrollable",(function(e,t){t=b({bounce:!1},t);var n=window.DOMMatrix||window.WebKitCSSMatrix||window.MSCSSMatrix,r=E(),o=0;function a(e){return r(e)||r(e,{childClass:"scrollable-target-"+ ++o})}function i(){be("[scrollable]:visible").scrollable("refresh")}function c(){be('[animate-on~="scroll-into-view"]:visible').each((function(e,t){var r=new n(getComputedStyle(t).transform),o=Ue(bt.root),a=Ue(t),i=De(o,a.translate(-r.e||0,0))||De(o,a.translate(0,-r.f||0));i^Le(t,"tweening-in")&&(i||t.attributes["animate-out"])&&(i?Ot:kt)(t,"scroll-into-view")}))}e.on("ready",(function(){Ut(bt.root,Ze(["scrollable","scrollable-target"]),(function(n){be(n).filter("[scrollable-target]").each((function(e,t){var n=be(t).closest("[scrollable]")[0];be(t).addClass(a(n).childClass)})),be(n).filter("[scrollable]").each((function(n,r){!function(n){var r,o,i=n.getAttribute("scrollable"),c=n.getAttribute("scroller-snap-page")||"",u=n.getAttribute("scroller-state")||"",l=n.getAttribute("scroller-page")||"",s=n.hasAttribute("persist-scroll"),f={},p=!1,d=!1;function h(e){return l&&be(l,n).get()[e]}function g(e){if(u){var t={};t[u]=e,nr(n,t)}}function m(e,t){var o=h(e);t=t||"center top",!p&&Oe(n)&&o&&(p=!0,r=!0,g(e),be(n).scrollable("scrollToElement",o,t,t,200,(function(){p=!1,r=!1})))}function v(){("always"===c||c===e.orientation)&&Oe(n)&&(p?d=!0:(d=!1,m(ar(n,u))))}if(be(n).scrollable(b({},t,{handle:te(i,"auto scrollbar content")||"content",hScroll:!te(i,"y-only"),vScroll:!te(i,"x-only"),content:"."+a(n).childClass+":visible:not(.disabled)",pageItem:l,snapToPage:"always"===c||c===e.orientation,scrollStart:function(t){"script"!==bt.eventSource&&delete f[history.state],e.emit("scrollStart",n,t,!0)},scrollMove:function(t){e.emit("scrollMove",n,t,!0)},scrollEnd:function(t){e.emit("scrollStop",n,t,!0)}})),$t(n,(function(){be(n).scrollable("destroy")})),$t(n,bt.on(n,{drag:function(){ft()},getContentRect:function(){var e=Ue(n),t=be(n).scrollable("scrollPadding");return e.top+=t.top,e.left+=t.left,e.right-=t.right,e.bottom-=t.bottom,e},scrollBy:function(e){be(n).scrollable("stop");var t=be(n).scrollable("scrollLeft"),r=be(n).scrollable("scrollTop");return be(n).scrollable("scrollBy",e.x,e.y,200),{x:t-be(n).scrollable("scrollLeft"),y:r-be(n).scrollable("scrollTop")}}})),l&&("always"!==c&&$t(n,e.on("orientationchange",(function(){be(n).scrollable("setOptions",{snapToPage:c===e.orientation})}))),u&&($t(n,e.on(n,{statechange:function(e){var t=e.data[u];p||((0|Ue(h(t)).width)>(0|Ue().width)?m(t,"left center"):m(t))},scrollMove:function(e){p=!0,r||g(e.pageIndex)},scrollStop:function(e){g(e.pageIndex),p=!1,d&&v()}},!0)),$t(n,Ne(window,"resize",(function(){clearTimeout(o),o=setTimeout(v,200)}))))),s){var y=!1,w=function(){var e=f[history.state];e&&be(n).scrollable("scrollTo",e.x,e.y,0)};$t(n,j(bt.on("asyncStart",(function(){y=!0})),bt.on("asyncEnd",(function(){y=!1,w()})),e.on("navigate",(function(e){f[e.oldStateId]={x:be(n).scrollable("scrollLeft"),y:be(n).scrollable("scrollTop")},setTimeout((function(){y||w()}))}))))}}(r),be(r).scrollable(pt(r)?"enable":"disable")}))}))})),e.on("statechange orientationchange animationcomplete",(function(){N(i)})),e.on("pageenter",(function(e){var t=be(Ie("[scrollable]",e.target)).add(be(e.target).parents("[scrollable]"));be(Ie("[scrollable-target]",e.target)).each((function(e,t){be(t).toggleClass("disabled",!tn(t))})),t.scrollable("refresh"),t.filter(":not([keep-scroll-offset])").scrollable("scrollTo",0,0)})),e.on("resize pageenter statechange scrollMove orientationchange",(function(){N(c)})),bt.on("modalchange",(function(){be("[scrollable]").each((function(e,t){be(t).scrollable(pt(t)?"enable":"disable")}))})),bt.on("keystroke",(function(e){var t=bt.event;if(bt.modalElement&&t&&t.target===document.body&&te(e.data,"space pageUp pageDown leftArrow rightArrow upArrow downArrow")){var n=Ie("[scrollable]",bt.modalElement)[0];n&&be(n).triggerHandler(be.Event("keydown",{keyCode:t.keyCode}))}}))})),Nr=(u.IS_IOS,u.IS_IE10,u.IS_IE,u.IS_MAC,u.IS_TOUCH),Mr=Qn(!0,"viewport",(function(e){var t,n,r,o=B(e,"orientation","",!0),a=Nr&&"MacIntel"!==navigator.platform,i=screen.availWidth,c=screen.availHeight;function u(u){Nr&&screen.availWidth===i&&screen.availHeight===c&&screen.availWidth===window.innerWidth?be("body").css("min-height",be("body").height()+"px"):be("body").css("min-height","0"),i=screen.availWidth,c=screen.availHeight;var l=be("body").height()||0;(be("html").height()||0)<l&&be(bt.activeElement).is(":text")&&qe(bt.activeElement);var s=t;n=a?i:document.body.offsetWidth,r=a?i===window.innerWidth?c:window.innerHeight:document.body.offsetHeight,o((t=n/r)>=1?"landscape":"portrait"),!1!==u&&(e.emit("resize",{aspectRatio:t,viewportWidth:n,viewportHeight:r}),f(t>=1,s>=1)&&e.emit("orientationchange",{orientation:e.orientation}))}V(e,{get aspectRatio(){return t},get viewportWidth(){return n},get viewportHeight(){return r}}),e.on("orientationchange",(function(){Ot(bt.root,"orientationchange")})),be(window).on("resize",(function(){N(u)})),be((function(){u(!1)}))}));var Rr=xr.with((function(e){window.app=e}),Sr,Ar,Tr,Cr,jr,Er,Mr)},860:function(e,t,n){var r=window.jQuery||n(609);e.exports=r;try{n(172)}catch(e){}},424:function(e,t,n){var r=window.Promise||n(804).default;e.exports=r},256:function(e,t,n){var r=window.waterpipe||n(160);e.exports=r;var o=r;o.pipes["{"]=function(e,t){var n=t.globals,r=n.new,o={};for(n.new=o;t.hasArgs();){var a=t.raw();if("}"===a)break;o[String(a).replace(/:$/,"")]=t.next()}return n.new=r,o},o.pipes["{"].varargs=!0},609:function(e){"use strict";e.exports=t},172:function(e){"use strict";if(void 0===n){var t=new Error("Cannot find module 'jq-scrollable'");throw t.code="MODULE_NOT_FOUND",t}e.exports=n},804:function(e){"use strict";e.exports=r},160:function(e){"use strict";e.exports=o},163:function(t){"use strict";t.exports=e}},i={};function c(e){if(i[e])return i[e].exports;var t=i[e]={exports:{}};return a[e](t,t.exports,c),t.exports}return c.d=function(e,t){for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c(979)}().default}));
//# sourceMappingURL=brew.min.js.map