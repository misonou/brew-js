/*! brew-js v0.7.3 | (c) misonou | https://misonou.github.io */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("zeta-dom"),require("jquery"),require("waterpipe"),require("jq-scrollable")):"function"==typeof define&&define.amd?define("brew-js",["zeta-dom","jquery","waterpipe","jq-scrollable"],t):"object"==typeof exports?exports["brew-js"]=t(require("zeta-dom"),require("jquery"),require("waterpipe"),require("jq-scrollable")):e.brew=t(e.zeta,e.jQuery,e.waterpipe,e["jq-scrollable"])}(self,(function(e,t,n,r){return function(){var o={992:function(e,t,n){var r,o=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function o(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var i={compressToBase64:function(e){if(null==e)return"";var n=i._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:i._decompress(e.length,32,(function(n){return o(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":i._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:i._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=i.compress(e),n=new Uint8Array(2*t.length),r=0,o=t.length;r<o;r++){var a=t.charCodeAt(r);n[2*r]=a>>>8,n[2*r+1]=a%256}return n},decompressFromUint8Array:function(t){if(null==t)return i.decompress(t);for(var n=new Array(t.length/2),r=0,o=n.length;r<o;r++)n[r]=256*t[2*r]+t[2*r+1];var a=[];return n.forEach((function(t){a.push(e(t))})),i.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),i._decompress(e.length,32,(function(t){return o(n,e.charAt(t))})))},compress:function(t){return i._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,o,i,a={},u={},c="",s="",l="",f=2,p=3,d=2,h=[],g=0,m=0;for(i=0;i<e.length;i+=1)if(c=e.charAt(i),Object.prototype.hasOwnProperty.call(a,c)||(a[c]=p++,u[c]=!0),s=l+c,Object.prototype.hasOwnProperty.call(a,s))l=s;else{if(Object.prototype.hasOwnProperty.call(u,l)){if(l.charCodeAt(0)<256){for(r=0;r<d;r++)g<<=1,m==t-1?(m=0,h.push(n(g)),g=0):m++;for(o=l.charCodeAt(0),r=0;r<8;r++)g=g<<1|1&o,m==t-1?(m=0,h.push(n(g)),g=0):m++,o>>=1}else{for(o=1,r=0;r<d;r++)g=g<<1|o,m==t-1?(m=0,h.push(n(g)),g=0):m++,o=0;for(o=l.charCodeAt(0),r=0;r<16;r++)g=g<<1|1&o,m==t-1?(m=0,h.push(n(g)),g=0):m++,o>>=1}0==--f&&(f=Math.pow(2,d),d++),delete u[l]}else for(o=a[l],r=0;r<d;r++)g=g<<1|1&o,m==t-1?(m=0,h.push(n(g)),g=0):m++,o>>=1;0==--f&&(f=Math.pow(2,d),d++),a[s]=p++,l=String(c)}if(""!==l){if(Object.prototype.hasOwnProperty.call(u,l)){if(l.charCodeAt(0)<256){for(r=0;r<d;r++)g<<=1,m==t-1?(m=0,h.push(n(g)),g=0):m++;for(o=l.charCodeAt(0),r=0;r<8;r++)g=g<<1|1&o,m==t-1?(m=0,h.push(n(g)),g=0):m++,o>>=1}else{for(o=1,r=0;r<d;r++)g=g<<1|o,m==t-1?(m=0,h.push(n(g)),g=0):m++,o=0;for(o=l.charCodeAt(0),r=0;r<16;r++)g=g<<1|1&o,m==t-1?(m=0,h.push(n(g)),g=0):m++,o>>=1}0==--f&&(f=Math.pow(2,d),d++),delete u[l]}else for(o=a[l],r=0;r<d;r++)g=g<<1|1&o,m==t-1?(m=0,h.push(n(g)),g=0):m++,o>>=1;0==--f&&(f=Math.pow(2,d),d++)}for(o=2,r=0;r<d;r++)g=g<<1|1&o,m==t-1?(m=0,h.push(n(g)),g=0):m++,o>>=1;for(;;){if(g<<=1,m==t-1){h.push(n(g));break}m++}return h.join("")},decompress:function(e){return null==e?"":""==e?null:i._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var o,i,a,u,c,s,l,f=[],p=4,d=4,h=3,g="",m=[],v={val:r(0),position:n,index:1};for(o=0;o<3;o+=1)f[o]=o;for(a=0,c=Math.pow(2,2),s=1;s!=c;)u=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(u>0?1:0)*s,s<<=1;switch(a){case 0:for(a=0,c=Math.pow(2,8),s=1;s!=c;)u=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(u>0?1:0)*s,s<<=1;l=e(a);break;case 1:for(a=0,c=Math.pow(2,16),s=1;s!=c;)u=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(u>0?1:0)*s,s<<=1;l=e(a);break;case 2:return""}for(f[3]=l,i=l,m.push(l);;){if(v.index>t)return"";for(a=0,c=Math.pow(2,h),s=1;s!=c;)u=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(u>0?1:0)*s,s<<=1;switch(l=a){case 0:for(a=0,c=Math.pow(2,8),s=1;s!=c;)u=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(u>0?1:0)*s,s<<=1;f[d++]=e(a),l=d-1,p--;break;case 1:for(a=0,c=Math.pow(2,16),s=1;s!=c;)u=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(u>0?1:0)*s,s<<=1;f[d++]=e(a),l=d-1,p--;break;case 2:return m.join("")}if(0==p&&(p=Math.pow(2,h),h++),f[l])g=f[l];else{if(l!==d)return null;g=i+i.charAt(0)}m.push(g),f[d++]=i+g.charAt(0),i=g,0==--p&&(p=Math.pow(2,h),h++)}}};return i}();void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)},649:function(e){"use strict";e.exports=r},87:function(e){"use strict";e.exports=n},914:function(e){"use strict";e.exports=t},231:function(t){"use strict";t.exports=e}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return o[e](n,n.exports,a),n.exports}a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var u={};return function(){"use strict";a.d(u,{default:function(){return ki}});var e={};a.r(e),a.d(e,{baseUrl:function(){return xe},combinePath:function(){return Ae},getQueryAndHash:function(){return Te},isSubPathOf:function(){return Ne},normalizePath:function(){return je},parsePath:function(){return ke},removeQueryAndHash:function(){return Ce},setBaseUrl:function(){return Pe},toAbsoluteUrl:function(){return Ee},toRelativeUrl:function(){return Me},toSegments:function(){return Re},withBaseUrl:function(){return Ie}});var t={};a.r(t),a.d(t,{apiError:function(){return Fe},navigationCancelled:function(){return Ve},navigationRejected:function(){return $e},networkError:function(){return qe},resourceError:function(){return Ue},timeout:function(){return Le},validationFailed:function(){return De}});var n={};a.r(n),a.d(n,{createApiClient:function(){return Je},peekBody:function(){return Be}});var r={};a.r(r),a.d(r,{addStyleSheet:function(){return Ft},api:function(){return Rt},cookie:function(){return Nt},copyAttr:function(){return Ot},deleteCookie:function(){return Mt},getAttr:function(){return St},getAttrValues:function(){return yt},getCookie:function(){return It},getFormValues:function(){return At},getJSON:function(){return qt},getQueryParam:function(){return jt},hasAttr:function(){return wt},isBoolAttr:function(){return bt},loadScript:function(){return Ut},openDeferredURL:function(){return Vt},preloadImages:function(){return Dt},selectorForAttr:function(){return Pt},setAttr:function(){return xt},setCookie:function(){return Et},setQueryParam:function(){return Tt},toQueryString:function(){return Ct}});var o={};a.r(o),a.d(o,{createObjectStorage:function(){return Bt}});var i={};a.r(i),a.d(i,{addAnimateIn:function(){return An},addAnimateOut:function(){return kn},animateIn:function(){return On},animateOut:function(){return Pn}});var c={};a.r(c),a.d(c,{NavigationCancellationRequest:function(){return ho},addAsyncAction:function(){return mo},closeFlyout:function(){return yo},isFlyoutOpen:function(){return vo},openFlyout:function(){return wo},toggleFlyout:function(){return bo}});var s=a(231),l=s.util,f=l.always,p=l.any,d=l.arrRemove,h=l.camel,g=l.catchAsync,m=l.combineFn,v=l.createPrivateStore,y=l.deepFreeze,b=l.deferrable,w=l.define,S=l.defineAliasProperty,x=l.defineGetterProperty,O=l.defineHiddenProperty,P=l.defineObservableProperty,A=l.defineOwnProperty,k=l.definePrototype,j=l.delay,T=l.each,C=l.either,I=l.equal,E=l.errorWithCode,M=(l.exclude,l.executeOnce),N=l.extend,R=l.fill,q=l.freeze,U=l.grep,F=l.hasOwnProperty,D=l.iequal,V=l.is,$=l.isArray,L=l.isError,_=l.isFunction,z=l.isPlainObject,H=l.isThenable,J=l.isUndefinedOrNull,B=l.keys,W=l.kv,G=l.makeArray,Q=l.makeAsync,Z=l.map,K=l.mapGet,X=l.mapObject,Y=l.mapRemove,ee=l.matchWord,te=l.noop,ne=l.pick,re=l.pipe,oe=l.randomId,ie=l.reject,ae=l.resolve,ue=l.resolveAll,ce=l.setImmediate,se=l.setImmediateOnce,le=l.setIntervalSafe,fe=l.setPromiseTimeout,pe=l.setTimeoutOnce,de=l.single,he=l.throwNotFunction,ge=l.throws,me=l.trim,ve=l.values,ye=l.watch,be=l.watchOnce,we=l.watchable,Se={http:80,https:443},xe="/";function Oe(e){var t=e.indexOf("?")+1,n=e.indexOf("#")+1;return t&&n?Math.min(t,n)-1:(t||n)-1}function Pe(e){xe=je(e,!0)}function Ae(e,t){return e=je(e),"/"===(t=je(t))?e:"/"===e||t.indexOf("://")>0?t:e+t}function ke(e){var t=document.createElement("a");return t.href=e,t}function je(e,t,n){if(!e||"/"===e)return n?"":"/";if(e=String(e),!n&&/(^(?:[a-z0-9]+:)?\/\/)|[^A-Za-z0-9-._~:/\[\]@!$&'()*+,;=]/.test(e)){var r=ke(e);return((RegExp.$1&&(r.origin||r.protocol+"//"+r.hostname+(r.port&&+r.port!==Se[r.protocol.slice(0,-1)]?":"+r.port:"")))+je(r.pathname,t,!0)||"/")+r.search+r.hash}if(e=e.replace(/\/+(\/|$)|(%[0-9a-fA-F]{2})/g,(function(e,t,n){return n?n.toUpperCase():t})),t&&/(^|\/)\.{1,2}(\/|$)/.test(e)){for(var o=e.split("/"),i=0;i<o.length;)"."===o[i]||".."===o[i]&&!i?o.splice(i,1):".."===o[i]?o.splice(--i,2):i++;e=o.join("/")}return"/"===e[0]?e:"/"+e}function Te(e){var t=Oe(e);return t>=0?e.slice(t):""}function Ce(e){var t=Oe(e);return t>=0?e.slice(0,t):e}function Ie(e){return e=je(e),xe&&"/"===e[0]&&!Ne(e,xe)?Ae(xe,e):e}function Ee(e){return e.indexOf("://")>0?e:location.origin+Ie(e)}function Me(e){return Ne(e,location.origin)||e}function Ne(e,t){var n=t.length;return e.substr(0,n)===t&&(!e[n]||/[/?#]/.test(e[n])||"/"===t[n-1])&&("/"===e[n]?"":"/")+e.slice(n)}function Re(e){return"/"===(e=je(e))?[]:e.slice(1).split("/").map(decodeURIComponent)}var qe="brew/network-error",Ue="brew/resource-error",Fe="brew/api-error",De="brew/validation-failed",Ve="brew/navigation-cancelled",$e="brew/navigation-rejected",Le="brew/timeout",_e="content-type";function ze(e){return fetch(e).catch((function(e){if(L(e)&&"TypeError"===e.name)return Response.error();throw e}))}function He(e){var t=e.headers.get(_e)||"",n=t.indexOf(";");return n>0&&(t=t.slice(0,n)),"application/json"===t?e.json():"multipart/form-data"===t||"application/x-www-form-urlencoded"===t?e.formData():"text/"===t.slice(0,5)?e.text():e.blob()}function Je(e,t){var n=ze,r=function(e){return function(e,t,n,r){return t(n.clone()).then((function(t){var o=t.status,i=function(i,a,u,c){if(a=E(i,u,{data:c,error:a,status:o}),void 0!==(c=(r.error||te)(a,t,n,e)))return c;throw a};return 0===o?i(qe,null,""):204!==o?He(t).then((function(o){return t.ok?(r.data||re)(o,t,n,e):i(Fe,null,t.statusText,o)}),(function(e){return i(Fe,e,e.message)})):void 0}))}(o,n,e,t||{})},o=function(n,o,i,a){var u=function(e,t,n,r,o){return"string"==typeof n?(t=t.toUpperCase(),(o=N({method:t,body:r},o)).headers=N({},o.headers),"GET"!==t&&"HEAD"!==t&&(J(r)||z(r)||$(r))&&(o.body=JSON.stringify(r||{}),o.headers[_e]="application/json")):(o=n,n=t),"string"==typeof n&&(n=Ae(e,n)),new Request(n,o)}(e,n,o,i,a);return t&&t.request?Q(t.request)(u,r):r(u)};return o.use=function(e){var t=n;n=function(n){return Q(e)(n,t)}},T("head get post put patch delete",(function(e,t){o[t]=function(n,r,i){return e<2&&(i=r,r=void 0),o(t,n,r,i)}})),o}function Be(e){return null===e.body||"GET"===e.method||"HEAD"===e.method?ae():He(e.clone())}var We=a(914),Ge=s.css,Qe=Ge.isCssUrlValue,Ze=Ge.parseCSS,Ke=Ge.runCSSTransition,Xe=s.util,Ye=Xe.bind,et=Xe.bindOnce,tt=Xe.containsOrEquals,nt=Xe.createNodeIterator,rt=Xe.dispatchDOMMouseEvent,ot=Xe.getClass,it=Xe.getRect,at=Xe.isVisible,ut=Xe.iterateNode,ct=Xe.matchSelector,st=Xe.rectIntersects,lt=Xe.selectClosestRelative,ft=Xe.selectIncludeSelf,pt=Xe.setClass,dt={},ht={},gt={};function mt(e,t){return t||""===t||0===t?encodeURIComponent(e)+"="+encodeURIComponent(t):""}function vt(e){return e&&e.indexOf("%")>=0?decodeURIComponent(e):e}function yt(e){var t={};return T(e.attributes,(function(e,n){t[n.name]=n.value})),t}function bt(e,t){return"itemscope"===t||gt[t]in Object.getPrototypeOf(e)}function wt(e,t){return!!e.attributes[t]}function St(e,t){return e.getAttribute(t)}function xt(e,t,n){"string"!=typeof t?T(t,xt.bind(0,e)):null===n?e.removeAttribute(t):(n=String(n),St(e,t)!==n&&e.setAttribute(t,n))}function Ot(e,t){T(e.attributes,(function(e,n){xt(t,n.name,n.value)}))}function Pt(e){return z(e)&&(e=B(e)),e[0]?"["+e.join("],[")+"]":""}function At(e){var t={};return T(e.elements,(function(n,r){if(r.name&&!(r.name in t)){var o=e.elements[r.name];x(t,r.name,(function(){return"checkbox"===o.type?o.checked:o.value}))}})),t}function kt(e,t,n){J(e)&&(e=location.search);for(var r,o,i=function(e,t,n,r){var o=e.indexOf(t,n);return o<0||o>r?r:o},a=i(e,"#",0,e.length),u=i(e,"?",0,a)+1,c=u;c<a;c=r+1)if(r=i(e,"&",c,a),o=i(e,"=",c,r),D(t,vt(e.slice(c,o))))return n(e.slice(o+1,r),e,c,r,u,a);return n(!1,e,-1,-1,u,a)}function jt(e,t){return kt(t,e,vt)}function Tt(e,t,n){return kt(n,e,(function(n,r,o,i,a,u){var c=mt(e,_(t)?t(vt(n)):t),s=function(e,t,n,r){return e.slice(0,t)+r+e.slice(n)};if(!1!==n)return c?s(r,o,i,c):s(r,o-(i>=u-1),i+(i<u),"");var l="?"===r[u-1]?"":u>a?"&":"?";return c?s(r,u,u,l+c):l?r:s(r,u-1,u,"")}))}function Ct(e){var t=Z(e,(function(e,t){return mt(t,e)||null}));return t[0]?"?"+t.join("&"):""}function It(e){return de(document.cookie.split(/;\s?/),(function(t){var n=t.indexOf("=");return e===vt(t.slice(0,n))&&vt(t.slice(n+1))}))}function Et(e,t,n){return"number"==typeof(n=n||{})&&(n={maxAge:n}),document.cookie=mt(e,String(t))+";path="+(n.path||"/")+(n.sameSite?";samesite="+n.sameSite:"")+(n.maxAge?";expires="+new Date(Date.now()+n.maxAge).toGMTString():"")+(n.secure?";secure":""),t}function Mt(e){document.cookie=mt(e,"")+";path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT"}function Nt(e,t){return{get:function(){return It(e)},set:function(n){return Et(e,n,t)},delete:function(){return Mt(e)}}}function Rt(e,t){var n="get post put delete patch head";if("string"==typeof e&&ee(e,n))return Rt(t=N({},"string"==typeof t?{baseUrl:t}:t,{methods:e}))[e];var r={baseUrl:(e=N({},e)).baseUrl,token:e.token};return T(e.methods||n,(function(t,o){ee(o,n)&&(O(r,o,(function t(n,i){if(!r.baseUrl)return be(r,"baseUrl",(function(){return t(n,i)}));var a={"Content-Type":"application/json"};return r.token&&(a.Authorization="Bearer "+r.token),We.ajax({method:o,url:Ae(r.baseUrl,n),headers:a,dataType:"json",data:JSON.stringify(i||{}),success:function(t){_(e.getTokenFromResponse)&&(r.token=e.getTokenFromResponse(t,r.token))}}).catch((function(e){if(0===e.status)throw E(qe);var t=e.responseJSON;if(t)throw console.error(n+":",t.error||t.message),E(Fe,t.error||t.message);throw E(Fe,e.statusText)}))})),S(r[o],"baseUrl",r),S(r[o],"token",r))})),r}function qt(e){return We.getJSON(Ie(e))}function Ut(e,t){return $(e)?e.reduce((function(e,n){return e.then((function(){return Ut(n,t)}))}),ae()):(ht[e]||(ht[e]=new Promise((function(n,r){var o=document.createElement("script");if((t=t||{}).nomodule){if("noModule"in o)return void n();o.setAttribute("nomodule","")}t.module&&o.setAttribute("type","module"),o.addEventListener("load",(function(){n({})})),o.addEventListener("error",(function(){r(E(Ue))})),o.src=Ie(e),document.head.appendChild(o)}))),ht[e])}function Ft(e,t){var n=document.createElement("link");n.rel="stylesheet",n.href=Ie(e),t&&(n.media=t),document.head.appendChild(n)}function Dt(e,t){if(!$(e)){var n={},r=function(e){Qe(e)&&(n[RegExp.$1||RegExp.$2||RegExp.$3]=!0)};ut(nt(e,1),(function(e){ct(e,"img")&&e.src&&(n[e.src]=!0),r(getComputedStyle(e).backgroundImage),r(getComputedStyle(e,"::before").backgroundImage),r(getComputedStyle(e,"::after").backgroundImage)})),e=B(n)}var o=[],i=[];return e.forEach((function(e){o.push(dt[e]||(dt[e]=new Promise((function(t){i.push(e),We("<img>").on("load error",(function(){dt[e]=!0,t()})).attr("src",e)}))))})),!o.length||o.every((function(e){return!0===e}))?ae():(i.length&&console.log("Preload image",{urls:i}),Promise.race([j(t),ue(ve(dt))]))}function Vt(e,t,n,r){var o=window.open(t||"data:text/html;base64,TG9hZGluZy4uLg==",n||"_blank",r||"");return o?e.then((function(e){return!o.closed&&(o.location.replace(e),!0)}),(function(e){throw o.close(),e})):ae(!1)}T("allowFullscreen async autofocus autoplay checked controls default defer disabled formNoValidate isMap loop multiple muted noModule noValidate open playsInline readOnly required reversed selected trueSpeed",(function(e,t){gt[t.toLowerCase()]=t}));var $t=a(992),Lt=$t.compressToUTF16,_t=$t.decompressFromUTF16;function zt(e){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(e)}var Ht="undefined";function Jt(e){return e&&"object"===zt(e)}function Bt(e,t){var n=new Map([[Date,"#Date "],["Date",[Date,te]]]),r={},o=new WeakMap,i=new Set,a=Object.create(null),u=function(n){try{var r=_t(e.getItem(t)).split("\n");return N(n,JSON.parse(r[0])),r}catch(e){}}(a)||["{}"],c=Z(u,(function(e,t){return e?null:t}));function s(){return c.length?c.shift():u.push("")-1}function l(e,t){r[e]=t,Jt(t)&&o.set(t,+e)}function f(e){o.delete(r[e]),delete r[e]}function p(e,t){var r=0,a=JSON.stringify(e,(function(e,n){if(!Jt(n))return"string"==typeof n&&"#"===n[0]?"#"+n:n;if(function(e){return e===window||V(e,RegExp)||V(e,Blob)||V(e,Node)}(n))return r?void 0:{};if(!r++)return n;var a=o.get(n)||s();return l(a,n),t[a]||(t[a]=!0,u[a]=p(n,t),i.delete(n)),"#"+a}));return(e&&"object"===zt(e)&&n.get(e.constructor)||"")+a}function d(e,t){if(e&&e!==Ht){if("#"===e[0]){var o=e.indexOf(" "),i=n.get(e.slice(1,o));if(e=e.slice(o+1),i){var a=t.length,c=d(e,t);if(t.length===a)return new i[0](c);var s=new i[0];return t.push({t:i[1].bind(void 0,s,c)}),s}}return JSON.parse(e,(function(e,n){return"string"==typeof n&&"#"===n[0]&&"#"!==(n=n.slice(1))[0]?(n in r?void 0===r[n]&&t.push({o:this,k:e,v:n}):(r[n]=void 0,l(n,d(u[n],t))),r[n]):n}))}}function h(e){if(e&&u[e]&&!(e in r))try{var t=[];d('{"": "#'+e+'"}',t),T(t,(function(e,t){t.t?t.t():t.o[t.k]=r[t.v]}))}catch(t){u[e]=Ht}return r[e]}function g(){var n={};T(i,(function(e,t){var r=o.get(t);r&&(u[r]=p(t,n))})),n={0:!0},T(a,(function e(t,r){n[r]||(n[r]=!0,u[r].replace(/[\[:,]"#(\d+)"/g,e))})),T(u,(function(e){!n[e]&&u[e]&&(u[e]="",c.push(e),f(e))})),i.clear(),u[0]=JSON.stringify(a),e.setItem(t,Lt(u.join("\n").trim()))}return{registerType:function(e,t,r){(n.has(e)||n.has(t))&&ge("Key or constructor already registered"),n.set(t,"#"+e+" "),n.set(e,[t,r])},keys:function(){return B(a)},has:function(e){return!!a[e]},get:function(e){return h(a[e])},revive:function(e,t){var n=a[e];if(n){var o=h(n),i=F(t,"prototype");return i&&o instanceof t||(f(n),l(n,i?new t(o):t(o))),r[n]}},set:function(e,t){var n=o.get(t)||function(e){var t=a[e];return t&&!(t in r?Jt(r[t]):/^[\[\{]/.test(u[t]))?t:s()}(e);a[e]=n,Jt(t)?(l(n,t),i.add(t)):u[n]=p(t)||Ht,se(g)},persist:function(e){i.add(e),se(g)},persistAll:function(){T(a,(function(e,t){Jt(r[t])&&i.add(r[t])})),se(g)},delete:function(e){a[e]&&(delete a[e],se(g))},clear:function(){u.splice(0,u.length,"{}"),c.splice(0),i.clear(),o=new WeakMap,r={},a=Object.create(null),se(g)}}}var Wt=s.EventContainer,Gt=s.EventSource,Qt=s.dom,Zt=Qt.createAutoCleanupMap,Kt=Qt.registerCleanup,Xt=Qt.watchAttributes,Yt=Qt.watchElements,en=Qt.watchOwnAttributes,tn=s.dom,nn=tn,rn=tn.beginDrag,on=tn.blur,an=tn.focus,un=tn.focusable,cn=tn.focused,sn=tn.releaseFocus,ln=tn.releaseModal,fn=tn.reportError,pn=tn.retainFocus,dn=tn.setModal,hn=tn.setTabRoot,gn=tn.textInputAllowed,mn=tn.unsetTabRoot,vn={},yn={},bn=Zt(te),wn=Yt(nn.root,"[animate-in],[animate-sequence],[is-animate-sequence]",(function(e){e[0]&&T(bn,(function(e,t){T(t,(function(e,t){t.start()}))}))}));function Sn(e,t,n,r){var o="show"===t?':not([animate-on]), [animate-on~="'+t+'"]':'[animate-on~="'+t+'"]';return function(t){return ct(t,o)&&(!n||tt(We(t).closest(n)[0]||nn.root,e))&&(!r||r(t))&&at(t)}}function xn(e,t,n,r,o){var i=new Gt,a=new Set,u=new WeakMap,c=b(),s=fe(c,1500).catch((function(){console.warn("Animation might take longer than expected",{element:e,animationType:t,animationTrigger:n})})),l=M((function(){nn.emit("animationstart",e,{animationType:t,animationTrigger:n},{bubbles:!0,source:i}),s.then((function(){nn.emit("animationcomplete",e,{animationType:t,animationTrigger:n},{bubbles:!0,source:i})}))})),f=function(e){a.add(e),"inline"===We(e).css("display")&&We(e).css("display","inline-block");var n=R(St(e,"animate-in")||"",!0),o=1e3*parseFloat(We(e).css("transition-delay"))||0;l(),c.waitFor(Ke(e,"tweening-"+t),nn.emit("animate"+t,e,null,{source:i})),T(r,(function(t,r){if(n[t]||e.attributes[t]){var i=r.bind(void 0,e,St(e,t)||"");c.waitFor(o?j(o,i):i())}}))};return{promise:s.then((function(){return o(G(a))})),animate:f,sequence:function(e,n,r){var o=K(u,e,Array),i=St(e,"animate-sequence-reverse"),a=St(e,"animate-sequence")||"",s=We(e).find(">"===a[0]?a:We(a)).filter(n).attr(r||{}).get();""!==i&&i!==t||s.reverse(),T(s,(function(e,t){o.indexOf(t)<0&&1===o.push(t)&&(l(),c.waitFor(j(50,(function e(){return f(o.shift()),o[0]&&j(50,e)}))))}))}}}function On(e,t,n,r){var o=K(bn,e,Object),i=o[t]||(o[t]={start:!0===r?On.bind(0,e,t,n):te}),a=Sn(e,t,n,_(r)),u=i.anim||(i.anim=xn(e,"in",t,vn,(function(){i.anim=null})));return ft("[animate-in]:not([is-animate-sequence],.tweening-in)",e).filter(a).forEach((function(e){u.animate(e)})),ft("[animate-sequence]",e).filter(a).forEach((function(e){ot(e,"tweening-in")||(xt(e,"animate-in",""),u.animate(e)),u.sequence(e,":not(.tweening-in)",{"animate-in":St(e,"animate-sequence-type")||"","is-animate-sequence":""})})),wn(!0),u.promise}function Pn(e,t,n,r,o){var i=Sn(e,t,n,r),a=ft(".tweening-in,[animate-out]",e);o&&a[0]===e&&a.splice(0,1);var u=a.filter(i),c=xn(e,"out",t,yn,(function(e){We("show"===t?a:u).add(e).removeClass("tweening-in tweening-out")}));return We(u).filter("[animate-out]:not([is-animate-sequence],.tweening-out)").each((function(e,t){c.animate(t)})),We(u).filter("[animate-out][animate-sequence]").each((function(e,t){c.sequence(t,".tweening-in")})),delete K(bn,e,Object)[t],c.promise}function An(e,t){vn[e]=he(t)}function kn(e,t){yn[e]=he(t)}var jn=a(87),Tn=jn,Cn=jn;Cn.pipes["{"]||(Cn.pipes["{"]=function(e,t){var n=t.globals,r=n.new,o={};for(n.new=o;t.hasArgs();){var i=t.raw();if("}"===i)break;o[String(i).replace(/:$/,"")]=t.next()}return n.new=r,o},Cn.pipes["{"].varargs=!0);var In=s.dom,En=In.CancellationRequest,Mn=In.cancelLock,Nn=In.lock,Rn=In.locked,qn=In.notifyAsync,Un=In.preventLeave,Fn=In.subscribeAsync,Dn="__BREW__";if(window[Dn])throw new Error("Another copy of brew-js is instantiated. Please check your dependencies.");O(window,Dn,!0,!0);var Vn,$n,Ln,_n,zn,Hn={},Jn=new Wt,Bn=nn.root,Wn={},Gn={},Qn={},Zn=[];function Kn(e){return function(t){if(t.target===t.context)return e.apply(this,arguments)}}function Xn(e,t,n){return z(e)?n?X(e,Kn):e:(n&&(t=Kn(t)),R(e,t))}function Yn(e,t,n,r,o){if(Qn[t])throw new Error("Extension"+t+"is already initiated");var i=(n=U(n,(function(e){return!Qn[e.replace(/^\?/,"")]}))).length||1,a=function(n){n&&! --i&&(Qn[t]=!0,o(e,r||{}),Gn[t]&&m(Gn[t].splice(0))(!0))};n[0]?T(n,(function(e,t){var n=t.replace(/^\?/,"");(Gn[n]||(Gn[n]=[])).push(n===t?a:a.bind(0,!0))})):a(!0)}function er(e,t,n){var r=h("use-"+e);k(tr,W(r,(function(r){Yn(this,e,t,r,n)})))}function tr(){var e=this,t=P(e,"readyState","init",!0);A(e,"element",Bn,!0),A(e,"ready",new Promise((function(t,n){_n=t.bind(0,e),zn=n})),!0),f(e.ready,(function(e,n){t(e?"ready":"error"),e?($n=!0,Vn.emit("ready")):fn(n)}))}k(tr,{emit:function(e,t,n,r){if(!V(t,Node))return Jn.emit(e,this,t,n);var o=nn.emit(e,t,n,r);return o||t!==Bn&&!0!==r&&!(r||"").bubbles||(n=N({target:t},z(n)||{data:n}),o=Jn.emit(e,this,n,r)),o},define:function(e){w(this,e)},beforeInit:function(e){_(e)&&(e=Q(e).call(this)),Ln.waitFor(e.then(null,zn))},halt:function(){Ln.waitFor(new Promise(te))},isElementActive:function(){return!0},detect:function(e,t){var n=this,r={};T(e,(function(e,t){Wn[t]&&(r[t]=_(Wn[t])?Wn[t]=ue(Wn[t]()).catch((function(e){return console.warn("Detection for "+t+" has thrown exception:",e),!1})):Wn[t])})),this.beforeInit(ue(r,(function(e){return e=Object.freeze(N({},n.supports,e)),w(n,{supports:e}),_(t)&&t(e)})))},when:function(e,t){this.beforeInit(ue(e,(function(e){if(e)return t()})))},on:function(e,t,n,r){if(_(t)||void 0===t)return Jn.add(this,Xn(e,t));var o=Xn(t,n,!0===(r||n));return V(e,Node)?nn.on(e,o):m(We(e).get().map((function(e){return nn.on(e,o)})))},matchElement:te,beforeUpdate:te}),we(tr.prototype);var nr=new tr;function rr(e){if(he(e),Ln)throw new Error("brew() can only be called once");return Ln=b(nn.ready),Vn=nr,T(Hn,(function(e,t){var n=t&&_(Vn[h("use-"+e)]);n&&n.call(Vn,t)})),T(Zn,(function(e,t){z(t)?w(Vn,t):he(t)(Vn)})),Vn.beforeInit(Q(e)(Vn)),T(Gn,(function(e,t){m(t)()})),!0,qn(Bn,Ln),Ln.then(_n),Ye(window,"pagehide",(function(e){Vn.emit("unload",{persisted:e.persisted},{handleable:!1})})),Vn}function or(e,t,n,r){return r=he(r||n||t),n=$(n)||$(t)||[],function(o){!0===e?Yn(o,t,n,{},r):er(e,n,r)}}function ir(){return nr.emit.apply(nr,arguments)}function ar(e){return!Vn||Vn.isElementActive(e)}Vn={on:nr.on.bind(nr)},w(rr,{with:function(){return Zn.push.apply(Zn,arguments),this}});var ur=rr;function cr(e){return cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cr(e)}function sr(e,t){return"["+e+"] "+(t=G(t).map((function(e){return V(e,Element)?(n=e).tagName.toLowerCase()+(n.id?"#"+n.id:n.className.trim()&&n.className.replace(/^\s*|\s+(?=\S)/g,"."))+":":e&&"object"===cr(e)?(t=JSON.stringify(e),'[{"]'.indexOf(t[0])>=0&&t.length>200?t[0]+t.substr(1,199)+"…"+t[t.length-1]:t):e;var t,n})).join(" "))}function lr(e,t,n){var r;try{console.groupCollapsed(sr(e,t)),r=!0}catch(e){}try{n(console)}finally{if(r)try{console.groupEnd()}catch(e){}}}var fr=v(),pr=nn.root,dr=new Set,hr=new Map,gr=[],mr=[],vr=[],yr={},br={},wr=0,Sr=!1;function xr(e,t){var n=fr(t)||fr(t,{});return n[e]||(n[e]={})}function Or(e,t,n){T(t,(function(t,n){"$$class"===t?pt(e,n):"$$text"===t?e.textContent=n:"$$html"===t?e.innerHTML=n:"style"===t?We(e).css(n):bt(e,t)?xt(e,t,n?"":null):e.setAttribute(t,n)})),n||nn.emit("domchange",e)}function Pr(e,t){T(t,(function(t,n){e[t]="$$class"===t||"style"===t?N({},e[t],n):n}))}function Ar(e,t){var n=Pt(yr);if(n){var r,o=new Set;do{e=U(G(e),(function(e){return tt(pr,e)})),r=G(o),We(ft(n,e)).not(r).each((function(e,n){T(yr,(function(e,r){n.attributes[e]&&tt(pr,n)&&(r(n,xr.bind(0,e),t),o.add(n))}))}))}while(r.length!==o.size)}}function kr(e,t,n){var r=Pt(br);if(r){var o=[];T(e.reverse(),(function(e,i){lr("statechange",[i,t?t.get(i).newValues:{}],(function(e){e.log(i===pr?document:i),We(ft(r,i)).not(o).each((function(e,t){T(br,(function(e,r){t.attributes[e]&&r(t,xr.bind(0,e),n)})),o.push(t)}))}))}))}}function jr(e,t,n,r){var o=[],i={target:e,doMount:t.mounted||ee(t,"mounted"),add:function(e){o.push(Vn.on(e,t,n,r))}};return vr.push(i),o.push((function(){i.disposed=!0,ce((function(){d(vr,i)}))})),m(o)}function Tr(e,t){var n=function(n){We(ft(e,n)).each((function(e,n){t.call(n,n)}))};mr.push(n),$n&&n(pr)}function Cr(e){gr.push(he(e))}function Ir(e){tt(pr,e)&&dr.add(e)}function Er(e){if(!wr&&!Sr){var t=new Map,n=new Map,r=function(e,t){Pr(K(n,e,Object),t)};Sr=!0;try{lr(nn.eventSource,"statechange",(function(){Ar(dr,r);var e=We.uniqueSort(U(dr,(function(e){return tt(pr,e)})));dr.clear(),T(e,(function(e,n){var r=xr("oldValues",n),o={},i={};for(T(Gr(n,!0),(function(e,t){r[e]!==t&&(o[e]=r[e],i[e]=t,r[e]=t)})),t.set(n,{oldValues:o,newValues:i});n=n.parentNode;){var a=t.get(n);if(a)for(var u in a.newValues)u in i||(i[u]=a.newValues[u],o[u]=a.oldValues[u])}})),kr(e,t,r)})),ue(gr.map((function(e){return e(n)}))).then((function(){var r=new Map;e||T(t,(function(e){var n=We(e).filter("[match-path]")[0]||We(e).parents("[match-path]")[0]||pr,o=r.get(n);if(!o){var i=function(e){var n,r=e.getAttribute("animate-on-statechange");if(!r)return!0;for(;e&&!(n=t.get(e));e=e.parentNode);return n&&p(r,(function(e){return e in n.newValues}))};o=[],ce((function(){Pn(n,"statechange","[match-path].hidden",i,!0).then((function(){T(o,(function(e,t){Or(t,Y(hr,t))})),On(n,"statechange","[match-path].hidden",i)}))})),r.set(n,o)}K(hr,e,Object),o.push(e)})),T(n,(function(e,t){hr.has(e)?Pr(hr.get(e),t):Or(e,t)})),T(t,(function(e,t){ir("statechange",e,{data:Gr(e),newValues:t.newValues,oldValues:t.oldValues},!0)}))}))}finally{Sr=!1}}}function Mr(e,t){var n=!0;try{wr=(wr||0)+1,he(t||e)()}catch(e){throw n=!1,e}finally{! --wr&&n&&Er(!0===e)}}function Nr(e){var t=Sr;Sr=!0,Wr(e);try{var n=function(e,t){Or(e,t,!0)};Ar(e,n),kr([e],null,n)}finally{Sr=t}for(var r=new Set([e]),o=e===pr,i=-1,a=0;i<vr.length;)T(vr.slice(i<0?0:i),(function(t,n){if(!n.disposed){var o=ft(n.target,e);o[0]&&(i<0&&n.add(o),n.doMount&&T(o,(function(e,t){r.add(t)})))}})),i=vr.length,T(We.uniqueSort(G(r).slice(a)),(function(e,t){ir("mounted",t)})),o||(o=!0,ir("mounted",pr,{target:e})),a=r.size;m(mr)(e),Ir(e),se(Er)}function Rr(e,t){yr[e]=he(t)}function qr(e,t){br[e]=he(t)}var Ur=s.InheritedNodeTree,Fr=nn.root,Dr={var:!0,"auto-var":!0,"loading-scope":{loading:!1},"error-scope":{error:null}},Vr={get app(){return Vn}},$r=new Ur(Fr,(function(){var e=this,t=e.element;T(t.dataset,(function(t,n){A(e,t,Tn.eval("`"+me(n||"null")))})),T(_r(t,!0,e),(function(t,n){A(e,t,n)})),t===Fr&&(e.loading=null,e.error=null)}),{selector:Pt(Dr)}),Lr=!0;function _r(e,t,n){var r={};return T(Dr,(function(o,i){if(e.attributes[o]){if(!0===i&&(i=Kr(e,o,!1,n),!z(i)))return;for(var a in i)r[a]=void 0===i[a]||t?null:i[a]}})),r}function zr(e,t){t=t||Fr;for(var n=$r.getNode(t);null!==n;n=Object.getPrototypeOf(n))if(F(n,e))return n;return console.warn("Undeclared state: %s",e,{element:t}),$r.setNode(t)}function Hr(e,t){return zr(e,t).element}function Jr(e,t,n){var r=t&&(z(t)||W(t,n)),o=!1;if("string"==typeof e)Mr((function(){We(e).each((function(e,t){o|=Jr(t,r)}))}));else{var i=$r.setNode(e);T(r||Kr(e,"set-var"),(function(t,n){if(i[t]!==n){var r=zr(t,e);r[t]=n,o=!0,Ir(r.element)}})),o&&$n&&se(Er)}return!!o}function Br(e,t,n){var r=z(t)||W(t,n),o=$r.setNode(e),i={};for(var a in r)_(r[a])?x(o,a,r[a],te):(A(o,a,o[a]),i[a]=r[a]);return Jr(e,i)}function Wr(e,t){Mr((function(){T($r.descendants(e),(function(e,n){Jr(n.element,_r(n.element,t))}))}))}function Gr(e,t){var n=Lr&&(function(e){for(var t in e.dataset)return!0}(e)?$r.setNode(e):$r.getNode(e))||{};if(!0!==t)return t?n[t]:N({},n);if(n.element!==e)return{};var r=Object.getOwnPropertyNames(n);return r.splice(r.indexOf("element"),1),ne(n,r)}function Qr(e,t){return e?Tn.eval(e,N({},t),{globals:Vr}):null}function Zr(e,t,n){return e?Tn(e,N({},t),{globals:Vr,html:!!n}):""}function Kr(e,t,n,r){return(n?Zr:Qr)(St(e,t),r||Gr(e))}$r.on("update",(function(e){T(e.updatedNodes,(function(e,t){Ir(t.element)}))}));var Xr=nn.root,Yr=new Wt,eo=function(e){return J(e)?null:String(e)},to=function(e){return J(e)||isNaN(e)?null:+e},no={string:[re,eo],number:[to,function(e){return eo(to(e))}],boolean:[function(e){return!J(e)},function(e){return e?"":null}]};function ro(e){A(this,"element",e,!0)}function oo(){}function io(e){var t=Z(e.directives,(function(e){return e.attribute})),n=X(e.directives,(function(e){var t=e.attribute,n=no[e.type]||no.string;return{get:function(e){return n[0](St(e,t))},set:function(e,r){return r=n[1](r),xt(e,t,r),n[0](r)}}})),r=function(e){var r=this;if(A(r,"element",e,!0),t[0]){var o=function(){T(n,(function(t,n){r[t]=n.get(e)}))};o();var i=en(e,t,o);r.on("destroy",i.dispose)}};return k(r,oo),T(n,(function(e){P(r.prototype,e,null,(function(t){return n[e].set(this.element,t)}))})),r}function ao(e){return new ro(e)}function uo(e,t,n){var r=io(n),o=new WeakMap,i=Yt(Xr,t,(function(e,t){T(t,(function(e,t){Yr.emit("destroy",Y(o,t).context)})),T(e,(function(e,t){var i=new r(t);o.set(t,{component:n.component(t,i),context:i})}))}),!0);x(ro.prototype,e,(function(){var e=this.element;return!o.has(e)&&ct(e,t)&&i(),(o.get(e)||"").component||null}))}k(oo,{on:function(e,t){return Yr.add(this,e,t)}}),we(oo.prototype);var co="[disabled],.disabled,:disabled",so=nn.root,lo=Zt((function(e,t){t.resolve()})),fo=new Map,po={};function ho(e,t){En.call(this,"navigate"),this.external=!!t,this[t?"url":"path"]=e}function go(e){e.preventDefault(),e.stopImmediatePropagation()}function mo(e,t){po[e]=he(t)}function vo(e){var t=lo.get(We(e)[0]);return!!t&&!t.closePromise}function yo(e,t){var n=We(e||"[is-flyout].open").get(),r=new Gt;return ue(n.map((function(e){var n=lo.get(e);if(!n)return ae();var o=n.closePromise;return o||(o=ue([Ke(e,"closing"),Pn(e,"open")].map(g),(function(){lo.get(e)===n&&(lo.delete(e),pt(e,{open:!1,closing:!1,visible:!1}),nn.emit("flyouthide",e,null,{source:r}))})),n.closePromise=o,n.resolve(t),ln(e),sn(e),on(e),n.source&&pt(n.source,"target-opened",!1),nn.emit("flyoutclose",e,null,{source:r})),o}))).then(te)}function bo(e,t,n){return wo(e,null,t,n,!0)}function wo(e,t,n,r,o){var i=We(e)[0];if(!i||!tt(so,i))return ie();(V(t,Node)||z(n))&&(r=n,n=t,t=null);var a=lo.get(i);if(a&&!a.closePromise)return!0===(o||r)?yo(i,n&&Tn.eval("`"+n.value)):!1!==a.path&&(a.path=Vn.path),a.promise;r=N({focus:!n||!gn(n),tabThrough:wt(i,"tab-through"),popover:wt(i,"is-popover"),modal:wt(i,"is-modal")},r);var u,c=V(r.containment,Node)||We(i).closest(r.containment)[0]||so,s=new Promise((function(e){u=e}));r.popover||yo(Z(lo,(function(e,t){return e.popover&&!tt(t,i)?t:null}))),lo.set(i,{source:n,promise:s,resolve:u,path:!1!==r.closeOnNavigate&&Vn.path,popover:r.popover}),pn(n||nn.activeElement,i),n&&pt(n,"target-opened",!0),t&&Vn.setVar&&Vn.setVar(i,t),pt(i,{visible:!0,closing:!1}),ue([Ke(i,"open"),On(i,"open")].map(g),(function(){if(r.focus&&(nn.activeElement===i||!cn(i))){var e=!0===r.focus?i:We(i).find(r.focus)[0];e?an(e):an(i,!1)}})),r.modal&&dn(i),r.tabThrough?mn(i):hn(i),r.preventLeave&&Un(s),r.preventNavigation&&g(Nn(i,s,_(r.preventNavigation)));var l=function(e){return function(t){e(t)&&(yo(i),nn.event&&nn.event.preventDefault(),t.handled())}},p=function(e){return!1!==r.closeOnBlur&&!St(i,"swipe-dismiss")&&("focusin"===e.type?!tt(i,nn.activeElement):tt(c,nn.activeElement))};return f(s,m(nn.on(n||i,"focusout",l(p)),nn.on(c,"focusin",l(p)),nn.on(i,"gesture",l((function(e){return e.data===h("swipe-"+St(i,"swipe-dismiss"))}))))),nn.emit("flyoutshow",i,{data:t}),s}function So(e){return So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},So(e)}function xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xo(Object(n),!0).forEach((function(t){Po(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Po(e,t,n){var r;return r=function(e,t){if("object"!=So(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=So(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==So(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}k(ho,En,{path:null,url:null}),function(e,t,n,r){var o=new WeakMap,i=function(e,i){xt(i,t,e?"":null),e?o.has(i)||o.set(i,_(n(i))||r&&r.bind(void 0,i)):(Y(o,i)||te)()};Yt(Xr,"["+t+"]",(function(e,t){t.forEach(i.bind(0,!1)),e.forEach(i.bind(0,!0))}),!0),x(ro.prototype,e,(function(){return null!==St(this.element,t)}),(function(e){return i(e,this.element)}))}("enableLoadingClass","loading-class",(function(e){return Fn(e,(function(t){t?pt(e,"loading",t):g(Ke(e,"loading-complete",(function(){pt(e,"loading",!1)})))}))})),nn.ready.then((function(){function e(t){var n=t.currentTarget;if(ct(n,co))return Y(fo,n),void go(t);var r=K(fo,n,Array),o=null,i=function(e){un(n)?e(t):Y(fo,n)};if(T(po,(function(e,t){if(n.attributes[e]&&r.indexOf(t)<0)return o=t,!1})),o){r.push(o);var a=o.call(n,t);t.isImmediatePropagationStopped()||(H(a)?(go(t),qn(n,a),a.then((function(){i(rt)}),(function(e){fo.delete(n),console.warn("Action threw an error:",e)}))):i(e))}else fo.delete(n)}Yt(so,"[tab-root]",(function(e,t){e.forEach(hn),t.forEach(mn)}),!0),Vn.on("mounted",(function(e){var t=Pt(po);t&&We(ft(t,e.target)).attr("async-action","")})),Vn.on("beforepageload",(function(){lo.forEach((function(e,t){e.path&&e.path!==Vn.path&&yo(t)}))})),Yt(so,"[async-action]",(function(t,n){We(t).on("click",e),We(n).off("click",e)})),We("body").on("submit","form:not([action])",(function(e){e.preventDefault()})),We("body").on("click",co,go),We("body").on("click","a[href]:not([download]), [data-href]",(function(e){if(!e.isDefaultPrevented()){var t,n=e.currentTarget,r=(n.origin===location.origin?"":n.origin)+n.pathname+n.search+n.hash,o=n.getAttribute("data-href");if(e.stopPropagation(),!(t=n.target)||"_self"===t||t===window.name)"navigate"in Vn&&(o||Vn.isAppPath(r))?(e.preventDefault(),Vn.navigate(o||Vn.fromHref(r))):Rn(so)&&(e.preventDefault(),Mn(so,new ho(r,!0)).then((function(){var e=U([ee(n.rel,"noreferrer"),ee(n.rel,"noopener")],re);window.open(o||r,"_self",e.join(","))}),(function(){console.warn("Navigation cancelled")})))}}))}));var Ao=Oo(Oo(Oo(Oo(Oo(Oo(Oo({ErrorCode:t,defaults:Hn},r),o),e),n),i),c),{},{getDirectiveComponent:ao,registerDirective:uo,getVarScope:Hr,getVar:Gr,setVar:Jr,resetVar:Wr,declareVar:Br,evalAttr:Kr,isElementActive:ar,handleAsync:function(e,t,n){return H(e)?(qn(t||pr,e),e.then(n)):Q(n||te)()},preventLeave:function(e){return e?Rn(pr):Mn(pr)},install:function(e,t){er(e,[],he(t))},addDetect:function(e,t){Wn[e]=he(t)},addExtension:or,addRenderer:qr,addTransformer:Rr,addTemplate:function(e,t){We(t).clone().attr("brew-template",e).appendTo(document.body)}});w(ur,Ao);var ko=ur,jo=or("config",(function(e,t){var n=we();w(e,{config:n}),e.beforeInit(qt(t.path).catch(_(t.fallback)||null).then((function(e){N(n,e),t.freeze&&y(n)})))})),To={},Co=nn.root,Io=or(!0,"template",(function(e){var t=e.on.bind(e);e.define({getVar:Gr,setVar:Jr,matchElement:Tr,beforeUpdate:Cr,on:function(e,n,r,o){var i=t(e,n,r,o);return _(n)||"string"!=typeof e?i:m(i,jr(e,n,r,o))}}),e.on("ready",(function(){Nr(Co)})),Rr("apply-template",(function(e,t){var n=t(e),r=St(e,"apply-template"),o=To[r]||To[Kr(e,"apply-template")],i=n.template;if(n.attributes||N(n,{attributes:yt(e),childNodes:G(e.childNodes)}),o&&o!==i){n.template=o,o=o.cloneNode(!0),i&&T(i.attributes,(function(t,n){e.removeAttribute(n.name)})),xt(e,n.attributes),Ot(o,e);var a=We(n.childNodes).detach();We(ft("content:not([for])",o)).replaceWith(a),We(ft("content[for]",o)).each((function(e,t){We(t).replaceWith(a.filter(St(t,"for")||""))})),We(e).empty().append(o.childNodes)}})),Rr("auto-var",(function(e){Jr(e,Kr(e,"auto-var"))})),Rr("foreach",(function(e,t){var n=t(e),r=n.template||(n.template=We(e).contents().detach().filter((function(e,t){return 1===t.nodeType||/\S/.test(t.data||"")})).get()),o=n.nodes||[],i=n.data||[],a=G(Kr(e,"foreach"));if(a.length!==i.length||a.some((function(e,t){return i[t]!==e}))){var u=Z(a,(function(n){var a=i.indexOf(n);if(a>=0)return i.splice(a,1),o.splice(a*r.length,(a+1)*r.length);var u=We(r).clone().get(),c=We(ft("[foreach]",u));return c[0]&&We(ft("[foreach]",r)).each((function(e,n){t(c[e]).template=t(n).template})),T(u,(function(t,r){1===r.nodeType&&(We(e).append(r),Br(r,{foreach:n}),Nr(r))})),u}));N(n,{nodes:u,data:a.slice()}),We(o).detach(),We(e).append(u)}})),Rr("switch",(function(e,t,n){var r=St(e,"switch")||"";if(ar(e)&&r){var o=t(e);void 0===o.matched&&Br(e,"matched",(function(){return o.matched&&Gr(o.matched,!0)}));var i,a,u,c=Gr(e),s=Tn.eval(r,c),l=We("[match-"+r+"]",e).filter((function(t,n){return We(n).parents("[switch]")[0]===e})),f=!ee("switch",St(e,"keep-child-state")||""),p=o.matched,d=new Map;l.each((function(e,t){var n=Tn.eval('"null" ?? '+St(t,"match-"+r),Gr(t));if(d.set(t,n),Tn.eval("$0 == $1",[s,n]))return i=t,!1})),i=i||l.filter("[default]")[0]||l[0]||null,p!==i?lr("switch",[e,r,"→",s],(function(e){e.log("Matched: ",i||"(none)"),i&&(f&&Wr(i),Jr(i)),p&&f&&Wr(p,!0),l.each((function(e,t){n(t,{$$class:{active:t===i}})}))})):(a="switch",u=[e,r,"→",s,"(unchanged)"],console.log(sr(a,u)),r in c&&void 0!==d.get(i)&&Jr(e,r,d.get(i))),o.matched=i}})),qr("template",(function(e,t,n){var r=t(e),o=r.templates;o||(o={},T(e.attributes,(function(t,n){var r;r=n.name,!yr[r]&&!br[r]&&n.value.indexOf("{{")>=0&&(o[n.name]=bt(e,n.name)?n.value.replace(/^{{|}}$/g,""):n.value)})),!e.childElementCount&&(e.textContent||"").indexOf("{{")>=0&&(o.$$html=e.textContent.replace(/(\{\{(?:\}(?!\})|[^}])*\}*\}\})|</g,(function(e,t){return t||"&lt;"}))),r.templates=o);var i=Gr(e),a={};T(o,(function(t,n){var r=function(e,t,n,r,o){return(o?Zr:Qr)(e,t)}(n,i,0,0,!bt(e,t));("$$html"===t?e.innerHTML:(St(e,t)||"").replace(/["']/g,""))!==r&&(a[t]=r)})),n(e,a)})),qr("set-style",(function(e,t,n){var r=Ze(Kr(e,"set-style",!0));T("background-image",(function(e,t){var n=Qe(r[t]);n&&(r[t]='url("'+Ie(Me(n))+'")')})),n(e,{style:r})})),qr("set-class",(function(e,t,n){n(e,{$$class:Kr(e,"set-class")})})),qr("data-src",(function(e,t,n){n(e,{src:Ie(Kr(e,"data-src",!0))})})),qr("data-bg-src",(function(e,t,n){n(e,{style:{backgroundImage:'url("'+Ie(Kr(e,"data-bg-src",!0))+'")'}})})),qr("prevent-leave",(function(t,n){var r=n(t),o=Kr(t,"prevent-leave");if(C(o,r.value))if(r.value=o,o){var i=new Promise((function(e){r.resolve=e}));Un(t,i,(function(){return ae(e.emit("preventLeave",t,null,!0)).then((function(e){if(!e)throw E($e)}))}))}else r.resolve()})),mo("validate",(function(e){var t=lt(St(this,"validate")||"",e.target);if(t){var n=nn.emit("validate",t)||!t.checkValidity||t.checkValidity();if(n){if(H(n))return n.then((function(e){if(!e)throw E(De)}))}else e.stopImmediatePropagation(),e.preventDefault()}})),mo("context-method",(function(t){var n=t.currentTarget,r=h(St(n,"context-method")||"");if(_(e[r])){var o,i=St(n,"context-form"),a=i?lt(i,n):n.form,u=!0;wt(n,"method-args")?o=G(Kr(n,"method-args")):a&&(u=nn.emit("validate",a)||a.checkValidity(),o=[At(a)]);var c=ue(u,(function(t){if(!t)throw E(De);return e[r].apply(e,o)})),s=St(n,"method-return");return s?c.then((function(e){Jr(n,s,e)})):c}})),Tr("form[form-var]",(function(e){var t=St(e,"form-var"),n={},r=function(r){if(r&&(n=At(e)),t){var o=Gr(e,t)||{};I(n,ne(o,B(n)))||Jr(e,t,N({},o,n))}else Jr(e,n)};Xt(e,"value",(function(){se(r)})),Yt(e,":input",(function(e){T(e,(function(e,t){Kt(t,Ye(t,"change input",(function(){se(r)})))})),r(!0)}),!0),nn.on(e,"reset",(function(){return t?ar(Hr(t,e))||e.reset():T(e.elements,(function(t,n){ar(Hr(n.name,e))||(n.value=null)})),!0}))})),Tr("[loading-scope]",(function(e){nn.subscribeAsync(e,(function(t){Jr(e,"loading",t)}))})),Tr("[error-scope]",(function(e){nn.subscribeAsync(e),nn.on(e,{asyncStart:function(){Jr(e,"error",null)},error:function(t){var n=t.error||{};Jr(e,"error",n.code||n.message||!0)}})})),e.on("pageenter",(function(e){We(ft("form[form-var]",e.target)).each((function(e,t){We(":input:eq(0)",t).trigger("change")}))})),nn.ready.then((function(){We("[brew-template]").each((function(e,t){var n=t.cloneNode(!0);n.removeAttribute("brew-template"),To[St(t,"brew-template")]=n})),We("apply-attributes").each((function(e,t){var n=We(St(t,"elements")||"",t.parentNode||Co);T(t.attributes,(function(e,t){"elements"!==t.name&&n.each((function(e,n){n.setAttribute(t.name,t.value)}))}))})).remove(),We("body").on("click","[set-var]:not([match-path])",(function(e){var t=e.currentTarget;t===We(e.target).closest("[set-var]")[0]&&(Jr(t),yo())})),We("body").on("click","[toggle]",(function(e){var t=e.currentTarget,n=t.getAttribute("toggle"),r=n?lt(n,t):We(t).closest("[is-flyout]")[0];e.stopPropagation(),!r||t.attributes["toggle-if"]&&!Kr(t,"toggle-if")||bo(r,t)})),We("body").on("click","[toggle-class]",(function(e){var t=e.currentTarget;if(e.stopPropagation(),!t.attributes["toggle-if"]||Kr(t,"toggle-if")){var n=t.getAttribute("toggle-class-for"),r=n?lt(n,t):e.currentTarget;T(t.getAttribute("toggle-class"),(function(e,t){pt(r,t.slice(1),"+"===t[0])}))}})),wt(Co,"loading-scope")&&Jr(Co,"loading","initial")}))}));function Eo(e){var t={};return T(e,(function(e,n){var r=n.toLowerCase();t[r]=n,r.indexOf("-")>0&&(t[r.split("-")[0]]=n)})),t}function Mo(){return navigator.languages||[navigator.language||""]}function No(e){return de(Eo(Mo()),(function(t,n){return e[n]}))}var Ro=or("i18n",(function(e,t){var n=Eo(t.languages),r=e.route&&t.routeParam,o=t.cookie&&Nt(t.cookie,t.cookieOptions||864e5),i=function(e){return e&&n[e.toLowerCase()]},a=i(r&&e.route[r])||i(o&&o.get())||!1!==t.detectLanguage&&No(n)||i(t.defaultLanguage)||de(n,re)||"",u=[];function c(n){o&&o.set(n),a!==n&&(a=n,e.language=a,t.reloadOnChange&&location.reload())}function s(t,n){return t=i(t)||a,r&&$n?new Promise((function(o){f(e.route[n?"replace":"set"](r,t.toLowerCase(),!0),o),u.push(o)})):(c(t),ae(!0))}P(e,"language",a,(function(e){return e!==a&&s(e),a})),e.define({setLanguage:function(e){return s(e).then((function(t){return t&&a===i(e)}))},detectLanguage:function(e,t){return e?No(Eo(e))||t||e[0]||"":Mo()[0]}}),r&&(e.route.watch(r,(function(e){s(e,!0)})),e.on("ready",(function(){s(a,!0)})),e.on("beforepageload",(function(e){c(i(e.route[r])||a),m(u.splice(0))(!0)})))})),qo=or("login",(function(e,t){var n=Nt((t=N({loginPagePath:"",defaultRedirectPath:"",cookie:"",expiry:0,logout:null,login:null,tokenLogin:null,getTokenFromResponse:null},t)).cookie,t.expiry),r=P(e,"loggedIn",!1,!0);function o(o){r(!0),_(t.getTokenFromResponse)&&n.set(t.getTokenFromResponse(o)),e.emit("login",{data:o})}var i=e.initialPath,a=n.get();a&&_(t.tokenLogin)&&e.beforeInit(g(ue(t.tokenLogin(a),o))),e.define({login:function(n,a,u){return u=_(u||a),a="string"==typeof a&&a,ue(t.login(n)).then((function(e){return o(e),u&&u()}),(function(e){throw r(!1),e.status>=500?"server-error":"incorrect-cred"})).then((function(){i===e.resolvePath(t.loginPagePath)&&(i=""),e.navigate(a||i||t.defaultRedirectPath),i=""}))},logout:function(o,i){return e.loggedIn?(i=_(i||o),o="string"==typeof o&&o,Mn(e.element).then((function(){return t.logout()})).then((function(){return r(!1),n.delete(),e.emit("logout"),i&&i()})).then((function(){e.navigate(o||t.loginPagePath)}))):ae()}}),e.on("navigate",(function(n){var r=e.resolvePath(t.loginPagePath);C(e.loggedIn,n.pathname!==r)&&(e.loggedIn?e.navigate(t.defaultRedirectPath):(i=n.pathname,e.navigate(r)))}))})),Uo="background-image".split(" "),Fo=or(!0,"preloadImage",["?htmlRouter"],(function(e){e.beforeUpdate((function(e){var t={};return T(e,(function(e,n){(n.src||n.style)&&ar(e)&&(n.src&&(t[Ee(n.src)]=!0),n.style&&T(Uo,(function(e,r){var o=Qe(n.style[r]);o&&(t[Ee(o)]=!0)})))})),Dt(B(t),200)})),e.beforePageEnter&&e.beforePageEnter((function(e){return Dt(e,1e3)}))})),Do=(a(649),"[scrollable]"),Vo="[scrollable-target]",$o="brew.scrollable",Lo=or("scrollable",(function(e,t){t=N({content:"[scrollable-target]:not(.disabled)",handle:"auto",bounce:!1},t);var n,r,o=window.DOMMatrix||window.WebKitCSSMatrix||window.MSCSSMatrix,i=new Set;function a(n){return{handle:ee(n.dir,"auto scrollbar content")||t.handle,hScroll:!ee(n.dir,"y-only"),vScroll:!ee(n.dir,"x-only"),pageItem:n.selector,snapToPage:"always"===n.paged||n.paged===e.orientation}}function u(t,n,o){e.emit(o||n.type,t,n,{bubbles:!0,source:r})}function c(){We(Do).scrollable("refresh")}function s(){We('[animate-on~="scroll-into-view"]').filter(":visible").each((function(e,t){var n=new o(getComputedStyle(t).transform),r=it(nn.root),i=it(t),a=st(r,i.translate(-n.e||0,0))||st(r,i.translate(0,-n.f||0));a^ot(t,"tweening-in")&&(a||t.attributes["animate-out"])&&(a?On:Pn)(t,"scroll-into-view")}))}uo("scrollable",Do,{component:function(r,o){var u,c=We.scrollable(r,N({},t,a(o))),s=[];function l(t){if(t&&!l.d++){var n,i,a=!1,u=!1,f=0;s.push(e.on("orientationchange",(function(){c.setOptions({snapToPage:"always"===o.paged||o.paged===e.orientation})})),e.on(r,{statechange:function(e){if(o.selector&&!a){var t=e.data[o.varname];(0|it(p(t)).width)>(0|it().width)?h(t,"left center"):h(t)}},scrollMove:function(e){a=!0,o.selector&&!n&&d(e.pageIndex)},scrollStop:function(e){a=!1,o.selector&&(d(e.pageIndex),u&&g())}},!0),Ye(window,"resize",(function(){o.selector&&(clearTimeout(i),i=setTimeout(g,200))})))}function p(e){return o.selector&&We(o.selector,r).get()[e]}function d(t){var n=f;f=t,o.varname&&e.setVar&&e.setVar(r,o.varname,t),n!==t&&e.emit("scrollIndexChange",r,{oldIndex:n,newIndex:t},!0)}function h(e,t){var o=p(e);t=t||"center top",!a&&at(r)&&o&&(a=!0,n=!0,d(e),c.scrollToElement(o,t,t,200,(function(){a=!1,n=!1})))}function g(){("always"===o.paged||o.paged===e.orientation)&&at(r)&&(a?u=!0:(u=!1,h(f)))}}function f(t){if((u=""===t?$o:t&&$o+"."+t)&&e.navigate&&!f.d++){var n;s.push(e.on(r,"scrollStart",(function(t){u&&"script"!==t.source&&e.historyStorage.current.delete(u)}),!0),e.on("beforepageload popstate pushstate",(function(t){var n=u&&t.oldStateId&&e.historyStorage.for(t.oldStateId);n&&n.set(u,a())})),e.on("pageload popstate",(function(){var e=u&&l();e&&p(e),i[e?"add":"delete"](r),clearInterval(n)})),e.on("unload",(function(){if(u){var t=a();e.historyStorage.current.set(u,t),e.cache.set(u,t)}})),i.delete.bind(i,r));var o=u&&l();o&&p(o)}function a(){return{x:c.scrollLeft(),y:c.scrollTop()}}function l(){return("reload"===e.navigationType?e.cache:e.historyStorage.current).get(u)}function p(e){ce((function t(r){r>=20||c.scrollMaxX>=e.x&&c.scrollMaxY>=e.y?c.scrollTo(e.x,e.y,0):n=setTimeout(t.bind(0,(r||0)+1),100)}))}}return s.push(nn.on(r,{drag:function(){n=rn()},getContentRect:function(e){if(e.target===r||tt(r,We(e.target).closest(Vo)[0])){var t=c.scrollPadding(e.target);return it(r).expand(t,-1)}},scrollBy:function(e){var t=c.scrollBy(e.x,e.y,"instant"===e.behavior?0:200);return{x:t.deltaX,y:t.deltaY}}})),l.d=0,f.d=0,o.watch((function(){c.setOptions(a(o))})),o.watch("selector",l,!0),o.watch("persistScroll",f,!0),o.on("destroy",(function(){m(s)(),c.destroy()})),c},directives:{dir:{attribute:"scrollable"},paged:{attribute:"scroller-snap-page"},varname:{attribute:"scroller-state"},selector:{attribute:"scroller-page"},persistScroll:{attribute:"persist-scroll"}}}),We.scrollable.hook({beforeScrollStart:function(e){un(this)||e.cancelScroll()},scrollStart:function(e){n&&"gesture"===e.trigger&&n.preventScroll(),r=new Gt,u(this,e)},scrollMove:function(e){u(this,e)},scrollEnd:function(e){u(this,e,"scrollStop"),r=null},scrollProgressChange:function(e){u(this,e)}}),e.on("statechange orientationchange animationcomplete",(function(){pe(c)})),e.on("pageenter",(function(e){var t=We(ft(Do,e.target)).add(We(e.target).parents(Do));We(ft(Vo,e.target)).each((function(e,t){We(t).toggleClass("disabled",!ar(t))})),t.each((function(e,t){ao(t).scrollable.refresh()})),t.filter(":not([keep-scroll-offset])").not(G(i)).scrollable("scrollTo",0,0)})),e.on("resize pageenter statechange scrollMove orientationchange",(function(){pe(s)})),nn.on("keystroke",(function(e){var t=nn.event;if(nn.modalElement&&t&&t.target===document.body&&ee(e.data,"space pageUp pageDown leftArrow rightArrow upArrow downArrow")){var n=ft(Do,nn.modalElement)[0];n&&We(n).triggerHandler(We.Event("keydown",{keyCode:t.keyCode}))}}))})),_o=or(!0,"viewport",(function(e){var t,n,r,o=P(e,"orientation","",!0),i=window.visualViewport;function a(i){var a=t,u=it();if(n=u.width,r=u.height,o((t=n/r)>=1?"landscape":"portrait"),!1!==i){var c={aspectRatio:t,orientation:e.orientation,viewportWidth:n,viewportHeight:r};e.emit("resize",c),C(t>=1,a>=1)&&e.emit("orientationchange",c)}}w(e,{get aspectRatio(){return t},get viewportWidth(){return n},get viewportHeight(){return r}}),e.on("orientationchange",(function(){On(nn.root,"orientationchange")})),i?(Ye(i,"resize",a),a(!1)):(Ye(window,"resize",(function(){pe(a)})),e.beforeInit((function(){return nn.ready.then((function(){a(!1)}))})))}));function zo(e){return zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zo(e)}var Ho,Jo,Bo=v(),Wo=Map.prototype,Go={},Qo=nn.root,Zo=[],Ko=function(e){return!!Ne(e,Ho)},Xo=function(e){return Ne(e,Ho)||"/"},Yo=function(e){return Ae(Ho,e)},ei=re,ti=re;function ni(e,t,n){return e&&e.test||(e=ci(e)),$(t)||(t=Re(t)),e.test(t,n)}function ri(){return location.search+location.hash}function oi(){return location.pathname+ri()}function ii(e){var t=new Map(e&&Object.entries(e));return Object.setPrototypeOf(t,ii.prototype),t}function ai(e){return"symbol"===zo(e)?e:String(e)}function ui(e){N(this,e)}function ci(e){if(e=String(e),!Go[e]){var t,n,r=new ui,o={};e.replace(/\/(\*|[^{][^\/]*|\{([a.-z_$][a-z0-9_$]*)(\?)?(?::(?![*+?])((?:(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])([*+?]|\{\d+(?:,\d+)\})?)+))?\})(?=\/|$)/gi,(function(e,i,a,u,c){if(u&&!t&&(t=r.length),a){var s=c?new RegExp("^"+c+"$","i"):/./;o[a]=r.length,n=!0,r.push({name:a,test:s.test.bind(s)})}else r.push(i.toLowerCase())})),N(r,{pattern:e,params:o,hasParams:!!n,exact:!("*"===r[r.length-1]&&r.splice(-1)),minLength:t||r.length}),Go[e]=y(r)}return Go[e]}function si(e,t,n,r,o){return n=n.map(encodeURIComponent),o=o||"/"+n.slice(t.length).join("/"),li({route:t,params:N({},e.params,r),minPath:"/"+n.slice(0,t.minLength).join("/"),maxPath:"/"+n.slice(0,t.length).join("/")},o)}function li(e,t){return t=!1!==e.route.exact?"/":je(t),e.params.remainingSegments=t,e.path=ei(Ae(e.maxPath,t)),e}function fi(e,t,n){return de(e.routes,(function(r){var o=!r.hasParams||de(r.params,(function(e,n){return null!==t[n]}));if(o&&!n&&(o=!de(t,(function(e,t){return e&&"remainingSegments"!==t&&!r.has(t)}))),o){for(var i=[],a=0,u=r.length;a<u;a++){var c=r[a].name;if(c&&!r[a].test(t[c]||"")){if(a<r.minLength||t[c])return!1;break}i[a]=c?t[c]:r[a]}return si(e,r,i,ne(t,B(r.params)),t.remainingSegments)}}))||!n&&fi(e,t,!0)}function pi(e,t){var n=Re(ti(Ce(t))),r=p(e.routes,(function(e){return ni(e,n,!0)}))||[];return si(e,r,n,X(r.params,(function(e){return n[e]||null})))}function di(e,t,n){var r=this,o={},i=Bo(r,{handleChanges:ye(r,!0),routes:t.map(ci),params:o,app:e});T(i.routes,(function(e,t){T(t.params,(function(e){o[e]=null}))}));var a=pi(i,n);i.current=a,T(a.params,(function(e,t){P(r,e,t,(function(e){return J(e)||""===e?null:String(e)}))})),ye(r,(function(){I(i.current.params,r.toJSON())||hi(r,i)})),Object.preventExtensions(r)}function hi(e,t,n,r,o,i,a){n||(r=N({},e,r),n=fi(t,r)||li(t.current,r.remainingSegments));var u=n.path!==Ce(t.app.path);return t.current=n,t.handleChanges((function(){N(e,n.params),(u||a)&&(u=t.app.navigate(n.path+(u&&!i?"":Te(t.app.path)),o))})),u}function gi(e,t,n){var r=this;A(r,"pageId",e.id,!0),A(r,"path",t,!0),A(r,"params",n,!0),Bo(r,e)}k(ii,Map,{has:function(e){return Wo.has.call(this,ai(e))},get:function(e){return Wo.get.call(this,ai(e))},set:function(e,t){return Wo.set.call(this,ai(e),t)},delete:function(e){return Wo.delete.call(this,ai(e))},toJSON:function(){return X(this,re)}}),k(ui,Array,{has:function(e){return e in this.params},match:function(e,t){"string"==typeof e&&(e=this.params[e]);var n=this[e];return!!n&&(n.name?n.test(t):D(n,t))},test:function(e,t){var n=this;return e.length>=n.minLength&&(t||!n.exact||e.length<=n.length)&&!p(n,(function(t,n){return e[n]&&!(t.name?t.test(e[n]):D(e[n],t))}))}}),k(di,{parse:function(e){return N({},pi(Bo(this),e).params)},set:function(e,t,n,r){var o=this,i=Bo(o);if("string"!=typeof e||1!==arguments.length)return hi(o,i,null,z(e)||W(e,t),r,!0===(n||t),!0);e!==o.toString()&&hi(o,i,pi(i,e))},replace:function(e,t,n){return this.set(e,t,n,!0)},getPath:function(e){var t=fi(Bo(this),e);return t?t.path:ei("/")},toJSON:function(){return N({},this)},toString:function(){return Bo(this).current.path}}),we(di.prototype),k(gi,{get data(){return Bo(this).data},getSavedStates:function(){return Bo(this).last.storage.toJSON()},clearNavigateData:function(){Bo(this).data=null},clearHistoryStorage:function(){T(Bo(this).states,(function(e,t){t.storage.clear()}))}}),Go["/*"]=y(new ui({value:"/*",exact:!1,length:0,minLength:0,params:{},test:function(){return!0}}));var mi,vi=or("router",(function(e,t){var n,r,o,i=oe(),a=i,u="/",c="",s=0,l=0,p=0,d={};function h(e,t){return Jo.revive(e,t)||K(Jo,e,t)}function m(t){c=t,e.path=t}function v(e,t,n,r){return Object.freeze({id:e,path:t,navigated:!1!==r,redirected:!!n,originalPath:n||null})}function y(e,t,o,i,a,u,c,f,p){(c=c||Zo[l])&&c.sessionId!==u&&(c=null),void 0===a&&(a=null),p&&Jo.set(e,p);var y,b,w=te,S=te,x=Ce(t),O=c&&i?c.page:{id:e,data:a,states:{}},P=[e,t,o,i,a,u],A={id:e,path:t,index:o,pathname:x,type:"navigate",previous:c&&(f||i?c.previous:c),page:O,sessionId:u,resumedId:c?c.resumedId:u,deleted:!1,get done(){return y},get promise(){return b||(b=new Promise((function(e,t){w=e,S=t})))},get pageInfo(){return O.info||(O.info=new gi(O,x,q(n.parse(x))))},get storage(){return p||(p=A.deleted?new ii:h(e,ii))},commit:function(e){return r=A,O.last=A,m(A.path),n.set(x),!1!==e&&j("beforepageload",A,d,{deferrable:!0})},reset:function(){return y&&(y=!1,b=null),A},forward:function(e){b&&!y&&e.promise.then((function(e){A.resolve(v(e.id,e.path,A.path,e.navigated))}),A.reject)},resolve:function(t){var n=d;if(y=t||v(e,A.path),b=ae(y),w(y),Zo[l]===A){var r=y.navigated?"pageload":"back_forward"===A.type?"popstate":"pushstate";s=0,d=A,O.last=A,m(A.path),j(r,A,n,{handleable:!1})}},reject:function(e){g(b),b=null,S(e||E(Ve))},toJSON:function(){return P[1]=A.path,P[4]=O.data,P}};return O.states[e]=A,A}function b(t,n,r){if(t.path=n,history.replaceState(t.id,"",Yo(n)),t.done){var o=ke(r).hash,i=ke(n).hash;return m(n),o!==i&&e.emit("hashchange",{oldHash:o,newHash:i},{handleable:!1}),{promise:ae(v(t.page.id,n,null,!1))}}return t}function w(e,t,r,o,i){var a=Zo[l];a&&a!==e&&!a.done&&(s++,t?a.forward(e):a.reject()),$n&&!r&&Rn(Qo)?Mn(Qo,new ho(e.path)).then((function(){Zo[l]===a&&!1!==i()&&se(C)}),(function(){Zo[l]===a&&n.set(o.pathname),e.reject(E($e)),console.warn("Navigation cancelled")})):!1!==i()&&(r&&o.done?(e.resolve(v(e.page.id,e.path,null,!1)),b(e,e.path,a.path)):se(C))}function S(e,t,n,r,o){if(e=k(e),s>30||!Ne(e,u))return{promise:ie(E($e))};var f=Zo[l],h=f;if(f)if(n)o=new ii(h.storage.toJSON());else if(J(r)){var g=Ce(e);if(g===f.pathname){if(!f.done||t||e===f.path)return b(f,e,f.path);n=!0,o=f.storage}else g===d.pathname&&Ce(c)===g&&(n=!0,h=d,o=d.storage)}var m=oe(),v=t||f&&!f.done,S=Math.max(0,l+!v),x=y(m,e,p+S,n,n?h.page.data:r,i,h,v,o);return w(x,t,n,h,(function(){l=S,t||T(Zo.splice(l),(function(e,t){t.deleted=!0,Jo.delete(t.id),t.resumedId!==a&&Jo.delete(t.resumedId)})),Zo[l]=x,history[v?"replaceState":"pushState"](m,"",Yo(e))})),x}function x(e,t){var n=Zo[e].reset(),r=n.index-Zo[l].index,o=n.page===Zo[l].page,i=!o&&Rn(Qo);return i&&t&&history.go(-r),w(n,!1,o,Zo[l],(function(){if(n.type="back_forward",l=e,i&&t&&history.state===n.id)return et(window,"popstate",(function(){history.go(r)})),!1;t&&!i||history.go(r)})),n}function O(e){return Zo.findIndex((function(t,n){return t.id===e}))}function k(t,r,o){var i;if(t=t||"/",r=r||e.path,"#"===t[0]||"?"===t[0]){var a=ke(r),u=ke(t);return a.pathname+("#"===t[0]?a.search:u.search)+u.hash}if("~"===t[0]||t.indexOf("{")>=0){var c=(o?ei:re)(r);i=c===n.toString()?Bo(n).current:pi(Bo(n),c),t=t.replace(/\{([^}?]+)(\??)\}/g,(function(e,n,r,o){return i.params[n]||(r&&o+e.length===t.length?"":"null")}))}return"~"===t[0]?t=(o?re:ei)(Ae(i.minPath,t.slice(1))):"/"!==t[0]&&(t=Ae(Ce(r),t)),je(t,!0)}function j(t,n,r,o){var i={navigationType:n.type,pathname:n.path,oldPathname:r.path,oldStateId:r.id,newStateId:n.id,route:n.pageInfo.params,data:n.page.data};return e.emit(t,i,o)}function C(){if($n){var e=Zo[l],t=e.path;if(d!==e){console.log("Nagivate",t);var n=ae(j("navigate",e,d));qn(Qo,n),f(n,(function(){Zo[l]===e&&function(e){var t=e.commit();qn(Qo,t),f(t,(function(){Zo[l]===e&&(r=null,e.resolve())}))}(e)}))}else e.resolve(v(d.page.id,t,null,!1))}}Ho=je(t.baseUrl),"none"===t.urlMode?(Ho="/",o=!1,Ko=re.bind(0,o),Xo=function(e){var t=ke(c||"/"+ri());return t.pathname+t.search+ke(e).hash},Yo=function(e){return location.pathname+location.search+ke(e).hash}):"query"===t.urlMode?(Ho="/",Ko=function(e){return"?"===(e||"")[0]||/^\/($|[?#])/.test(Ne(e,location.pathname)||"")},Xo=function(e){var n=ke(e),r=Tt(t.queryParam,(function(t){e=je(t||"")}),n.search);return e+r+n.hash},Yo=function(e){return e=ke(e),location.pathname+Tt(t.queryParam,e.pathname,e.search||"?")+e.hash}):"/"===Ho?(Xo=re,Yo=re):t.explicitBaseUrl?(ei=Yo,ti=Xo,Xo=re,Yo=re,u=Ho):Pe(Ho);var I=Xo(oi()),M=t.initialPath||t.queryParam&&jt(t.queryParam)||I,N=M===I||Ce(M)===Ce(I);Ne(M,u)?N&&Ce(M)===M&&(M=I):M=u;var R,U,F={1:"reload",2:"back_forward"}[performance.navigation.type];F?t.resume=!1:t.resume&&(F="resume"),n=new di(e,t.routes,M),R="string"==typeof t.resume?t.resume:ke(Yo(u)).pathname,(Jo=Bt(sessionStorage,"brew.router."+R)).registerType("HistoryStorage",ii,(function(e,t){T(t,e.set.bind(e))})),e.define({get canNavigateBack(){return(Zo[l-1]||"").sessionId===i},get canNavigateForward(){return(Zo[l+1]||"").sessionId===i},get previousPath(){return(Zo[l].previous||"").path||null},get navigationType(){return(r||d).type},get page(){return(r||d).pageInfo},matchRoute:ni,parseRoute:ci,resolvePath:k,isAppPath:Ko,toHref:Yo,fromHref:Xo,snapshot:function(){return Zo[l]===d&&!!S(c,!1,!0)},navigate:function(e,t,n){return S(e,t,!1,n).promise},back:function(e){return this.canNavigateBack?x(l-1).promise:!!e&&S(e).promise},backToPreviousPath:function(){var e=Zo[l].previous;return!!e&&x(O(e.id)).promise},historyStorage:{get current(){return(r||d).storage},for:function(e){var t=Zo[O(e)];return t?t.storage:null}}}),P(e,"path",M,(function(e){return(e=k(e))!==c&&S(e),c})),A(e,"basePath",u,!0),A(e,"initialPath",M.replace(/#.*$/,""),!0),A(e,"route",n,!0),A(e,"routes",q(t.routes)),A(e,"cache",h("g",ii),!0),Ye(window,"popstate",(function(){var e=O(history.state);e<0?S(Xo(oi())):e!==l&&x(e,!0)}));try{T(Jo.get("s"),(function(e,t){Zo.push(y.apply(0,t)),l=e}))}catch(e){}var D=O("resume"===F?Jo.get("c"):history.state);D>=0?(a=Zo[D].resumedId,l=D,"resume"===F?(p=history.length-l-1,S(Zo[D].path,!1,!0)):(p=Zo[D].index-l,i=Zo[D].sessionId||i,"reload"!==F||t.resumeOnReload||(Jo.delete(history.state),U="none"===t.urlMode)),Zo[l].type=F):(l=Zo.length,p=history.length-l,U=!0),U&&(U=S(M,!0)),Zo[l].commit(!1),e.on("ready",(function(){U&&Zo[l]===U&&N&&S(Xo(oi()),!0),C()})),e.on("unload",(function(){Jo.set("c",Zo[l].id),Jo.set("s",Zo),Jo.persistAll()})),A(e,"sessionId",a,!0),A(e,"sessionStorage",h(a,ii),!0)})),yi=nn.root,bi=new Map,wi=[],Si=[yi];function xi(e,t){var n=We(e).closest("[match-path]")[0];return!n||(t||Si).indexOf(n)>=0}function Oi(e){We(e).each((function(e,t){if(!bi.has(t)){var n=document.createElement("div");n.setAttribute("style","display: none !important"),n.setAttribute("match-path",t.getAttribute("match-path")||""),t.attributes.default&&n.setAttribute("default",""),We(t).before(n),We(t).detach(),pt(t,"hidden",!0),bi.set(n,t),bi.set(t,t)}}))}var Pi=or("htmlRouter",(function(e,t){vi(),e.useRouter(t),function(e,t){var n,r;e.on("beforepageload",(function(t){if(n=[yi],r(),Mr(!0,(function(){for(var r,o=ti(Ce(t.pathname)),i=We('[switch=""]').get();r=i.shift();)if(xi(r,n)){var a=We(r).children("[match-path]").get().map((function(t){var n=K(bi,t)||t,r=We('[switch=""]',n).get(),i=e.resolvePath(n.getAttribute("match-path"),o,!0);return{element:n,path:i.replace(/\/\*$/,""),exact:!r[0]&&"/*"!==i.slice(-2),placeholder:t!==n&&t,children:r}}));a.sort((function(e,t){return t.path.localeCompare(e.path)}));var u=de(a,(function(e){return(e.exact?o===e.path:Ne(o,e.path))&&e.path}));T(a,(function(e,t){if(t.path===u){var r=t.element;n.unshift(r),t.placeholder&&(We(t.placeholder).replaceWith(r),Nr(r),i.push.apply(i,t.children))}}))}})),!p(ft('[switch=""]'),(function(t){if(xi(t,n)){var r=We(t).children("[match-path]"),o=r.filter((function(e,t){return n.indexOf(t)>=0}))[0];if(!o)return e.navigate(ei((r.filter("[default]")[0]||r[0]).getAttribute("match-path")),!0)}}))){var o=Si.slice(0),i=e.previousPath,a=t.pathname,u=nn.eventSource;Si=n,mi=We(n).filter("[page-title]")[0],document.title=mi?Kr(mi,"page-title",!0):document.title,Mr(!0,(function(){var n=new Map;lr(u,["pageenter",a],(function(){bi.forEach((function(t,r){var c=Si.indexOf(t)>=0;if(t!==r&&c===o.indexOf(t)<0)if(c){Wr(t,!1),Jr(t),Ir(t);var s=n.get(We(t).parents("[match-path]")[0]),l=Re(t.getAttribute("match-path")),f=wi.map((function(e){if(ni(e.route,l))return e.callback(t,a)}));f.push(s),n.set(t,ue(f,(function(){Si.indexOf(t)>=0&&(pt(t,"hidden",!1),On(t,"show","[match-path]",!0),e.emit("pageenter",t,{pathname:a},!0))})))}else e.emit("pageleave",t,{pathname:i},!0),Pn(t,"show","[match-path]").then((function(){Si.indexOf(t)<0&&lr(u,["pageleave",i],(function(){pt(t,"hidden",!0),Wr(t,!0)}))}))}))})),T(n,(function(e,n){qn(e,n),t.waitFor(n)}))}))}})),e.on("pageenter",(function(e){We(ft("[x-autoplay]",e.target)).each((function(e,t){xi(t)&&(0!==t.readyState&&(t.currentTime=0),t.play())}))})),e.on("pageleave",(function(t){We(ft("form",t.target)).each((function(t,n){e.emit("reset",n,null,!1)||n.reset()})),We(ft("[x-autoplay]",t.target)).each((function(e,t){t.pause()}))})),e.on("statechange",(function(e){tt(e.target,mi)&&(document.title=Kr(mi,"page-title",!0))})),e.on("mounted",(function(e){var n=e.target;We(ft('img[src^="/"], video[src^="/"]',n)).each((function(e,t){t.src=Ie(t.getAttribute("src"))})),t.explicitBaseUrl||We(ft('a[href^="/"]',n)).each((function(e,t){var n=t.getAttribute("href");t.dataset.href=n,t.href=Ie(n)}))})),nn.ready.then((function(){We("[style]").each((function(e,t){var n=Qe(t.style.backgroundImage);n&&(t.setAttribute("data-bg-src",decodeURIComponent(Ie(Me(n)))),t.style.backgroundImage="none")})),r=Yt(yi,"[match-path]",Oi,!0)})),Yt(yi,"video[autoplay], audio[autoplay]",(function(e){We(e).attr("x-autoplay","").removeAttr("autoplay")}),!0),w(e,{isElementActive:xi,beforePageEnter:function(t,n){_(t)&&(n=t,t="/*"),wi.push({route:e.parseRoute(t),callback:he(n)})},matchPath:function(e,t,n){_(t)&&(n=t,t=null),this.on("mounted",(function(r){var o=r.target.getAttribute("match-path");o&&ni(e,o)&&(!t||We(r.target).is(t))&&n.call(r.target,r.target)}))}})}(e,t)})),Ai=or("idleTimeout",(function(e,t){var n=t.key||"app.lastInteract",r=Date.now();function o(e){r=e||void 0,t.crossFrame&&(localStorage[n]=e)}Ye(window,"keydown mousedown touchstart wheel",(function(){o(Date.now())})),le((function(){if(t.crossFrame&&(r=+localStorage[n]||r),Date.now()-r>t.timeout)return o(""),e.emit("idle")}),1e4)}));var ki=ko.with((function(e){window.app=e}),jo,Io,Ro,qo,Fo,Lo,_o,vi,Pi,Ai)}(),u=u.default}()}));
//# sourceMappingURL=brew.min.js.map