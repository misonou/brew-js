!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("zeta-dom"),require("jQuery"),function(){try{return require("jq-scrollable")}catch(t){}}(),require("promise-polyfill"),require("waterpipe")):"function"==typeof define&&define.amd?define("brew",["zeta-dom","jQuery","jq-scrollable","promise-polyfill","waterpipe"],e):"object"==typeof exports?exports.brew=e(require("zeta-dom"),require("jQuery"),function(){try{return require("jq-scrollable")}catch(t){}}(),require("promise-polyfill"),require("waterpipe")):t.brew=e(t.zeta,t.jQuery,t["jq-scrollable"],t["promise-polyfill"],t.waterpipe)}(self,(function(t,e,n,r,o){return function(){var a={979:function(t,e,n){"use strict";n.d(e,{default:function(){return Ur}});var r={};n.r(r),n.d(r,{baseUrl:function(){return pt},combinePath:function(){return ht},isSubPathOf:function(){return yt},normalizePath:function(){return gt},setBaseUrl:function(){return dt},toAbsoluteUrl:function(){return vt},toRelativeUrl:function(){return bt},withBaseUrl:function(){return mt}});var o={};n.r(o),n.d(o,{apiError:function(){return Ht},navigationCancelled:function(){return Bt},navigationRejected:function(){return Jt},networkError:function(){return Ft},resourceError:function(){return Wt},timeout:function(){return Qt},validationFailed:function(){return _t}});var a={};n.r(a),n.d(a,{addStyleSheet:function(){return se},api:function(){return ce},cookie:function(){return ie},copyAttr:function(){return Yt},deleteCookie:function(){return ae},getAttrValues:function(){return Zt},getCookie:function(){return re},getFormValues:function(){return ee},getJSON:function(){return ue},getQueryParam:function(){return ne},loadScript:function(){return le},preloadImages:function(){return fe},selectorForAttr:function(){return te},setAttr:function(){return Xt},setCookie:function(){return oe}});var i={};n.r(i),n.d(i,{addAnimateIn:function(){return je},addAnimateOut:function(){return Ee},animateIn:function(){return Ce},animateOut:function(){return Ie}});var c={};n.r(c),n.d(c,{addAsyncAction:function(){return br},closeFlyout:function(){return yr},openFlyout:function(){return wr}});var u=n(163),l=u.util,s=l.noop,f=(l.pipe,l.either),p=l.is,d=l.isUndefinedOrNull,h=l.isArray,g=l.isFunction,m=l.isThenable,v=l.isPlainObject,b=(l.isArrayLike,l.makeArray),y=l.extend,w=l.each,x=l.map,S=l.grep,A=(l.splice,l.any),P=l.single,O=l.kv,k=l.pick,T=l.exclude,C=l.mapGet,I=l.mapRemove,j=(l.arrRemove,l.setAdd,l.equal),E=l.combineFn,N=(l.executeOnce,l.createPrivateStore),M=(l.setTimeout,l.setTimeoutOnce),R=(l.setInterval,l.setIntervalSafe,l.setImmediate),L=l.setImmediateOnce,$=l.throwNotFunction,q=l.errorWithCode,U=l.keys,D=l.values,V=l.hasOwnProperty,z=(l.getOwnPropertyDescriptors,l.define),F=l.definePrototype,W=l.defineOwnProperty,H=l.defineGetterProperty,_=l.defineHiddenProperty,B=l.defineAliasProperty,J=l.defineObservableProperty,Q=l.watch,G=l.watchOnce,K=l.watchable,Z=(l.inherit,l.freeze),X=l.deepFreeze,Y=l.iequal,tt=l.randomId,et=(l.repeat,l.camel),nt=(l.hyphenate,l.ucfirst,l.lcfirst,l.trim),rt=l.matchWord,ot=l.htmlDecode,at=l.resolve,it=l.reject,ct=l.always,ut=l.resolveAll,lt=l.catchAsync,st=l.setPromiseTimeout,ft={http:80,https:443},pt="/";function dt(t){pt=gt(t,!0)}function ht(t,e){return t=gt(t),"/"===(e=gt(e))?t:"/"===t||e.indexOf("://")>0?e:t+e}function gt(t,e,n){if(!t||"/"===t)return n?"":"/";if(/(^(?:[a-z0-9]+:)?\/\/)|\?|#/.test(t)){var r=document.createElement("a");return r.href=t,(RegExp.$1&&(r.origin||r.protocol+"//"+r.hostname+(r.port&&+r.port!==ft[r.protocol.slice(0,-1)]?":"+r.port:"")))+gt(r.pathname,e,!0)+r.search+r.hash}if(t=String(t).replace(/\/+(\/|$)/g,"$1"),e&&/(^|\/)\.{1,2}(\/|$)/.test(t)){for(var o=t.split("/"),a=0;a<o.length;)"."===o[a]||".."===o[a]&&!a?o.splice(a,1):".."===o[a]?o.splice(--a,2):a++;t=o.join("/")}return"/"===t[0]?t:"/"+t}function mt(t){return t=gt(t),pt&&"/"===t[0]&&!yt(t,pt)?ht(pt,t):t}function vt(t){return t.indexOf("://")>0?t:location.origin+mt(t)}function bt(t){return t.substr(0,location.origin.length)===location.origin?t.substr(location.origin.length):t}function yt(t,e){var n=e.length;return t.substr(0,n)===e&&(!t[n]||"/"===t[n]||"/"===e[n-1])&&gt(t.slice(n))}var wt=n(860),xt=n(424),St=u.css,At=St.parseCSS,Pt=St.isCssUrlValue,Ot=St.runCSSTransition,kt=u.util,Tt=(kt.domReady,kt.tagName,kt.isVisible),Ct=kt.matchSelector,It=(kt.comparePosition,kt.connected,kt.containsOrEquals),jt=(kt.acceptNode,kt.combineNodeFilters,kt.iterateNode),Et=(kt.iterateNodeToArray,kt.getCommonAncestor,kt.parentsAndSelf,kt.selectIncludeSelf),Nt=kt.selectClosestRelative,Mt=kt.createNodeIterator,Rt=(kt.createTreeWalker,kt.bind),Lt=kt.bindUntil,$t=kt.dispatchDOMMouseEvent,qt=(kt.removeNode,kt.getClass),Ut=kt.setClass,Dt=(kt.getScrollOffset,kt.getScrollParent,kt.getContentRect,kt.scrollBy,kt.scrollIntoView),Vt=(kt.makeSelection,kt.getRect),zt=(kt.getRects,kt.toPlainRect,kt.rectEquals,kt.rectCovers,kt.rectIntersects),Ft=(kt.pointInRect,kt.mergeRect,kt.elementFromPoint,"brew/network-error"),Wt="brew/resource-error",Ht="brew/api-error",_t="brew/validation-failed",Bt="brew/navigation-cancelled",Jt="brew/navigation-rejected",Qt="brew/timeout",Gt={},Kt={};function Zt(t){var e={};return w(t.attributes,(function(t,n){e[n.name]=n.value})),e}function Xt(t,e,n){w(v(e)||O(e,n),(function(e,n){t.setAttribute(e,n)}))}function Yt(t,e){w(t.attributes,(function(t,n){e.setAttribute(n.name,n.value)}))}function te(t){return v(t)&&(t=U(t)),"["+t.join("],[")+"]"}function ee(t){var e={};return w(t.elements,(function(n,r){if(r.name&&!(r.name in e)){var o=t.elements[r.name];H(e,r.name,(function(){return"checkbox"===o.type?o.checked:o.value}))}})),e}function ne(t){return new RegExp("[?&]"+t+"=([^&]+)","i").test(location.search)&&decodeURIComponent(RegExp.$1)}function re(t){return new RegExp("(?:^|\\s|;)"+t+"=([^;]+)").test(document.cookie)&&RegExp.$1}function oe(t,e,n){return document.cookie=t+"="+e+";path=/"+(n?";expires="+new Date(Date.now()+n).toGMTString():""),e}function ae(t){document.cookie=t+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT"}function ie(t,e){return{get:function(){return re(t)},set:function(n){return oe(t,n,e)},delete:function(){return ae(t)}}}function ce(t,e){var n="get post delete";if("string"==typeof t&&rt(t,n))return ce(e=y({},"string"==typeof e?{baseUrl:e}:e,{methods:t}))[t];var r={baseUrl:(t=y({},t)).baseUrl,token:t.token};return w(t.methods||n,(function(e,o){rt(o,n)&&(_(r,o,(function e(n,a){if(!r.baseUrl)return G(r,"baseUrl",(function(){return e(n,a)}));var i={"Content-Type":"application/json"};return r.token&&(i.Authorization="Bearer "+r.token),wt.ajax({method:o,url:ht(r.baseUrl,n),headers:i,dataType:"json",data:JSON.stringify(a||{}),success:function(e){g(t.getTokenFromResponse)&&(r.token=t.getTokenFromResponse(e,r.token))}}).catch((function(t){if(0===t.status)throw q(Ft);var e=t.responseJSON;if(e)throw console.error(n+":",e.error||e.message),q(Ht,e.error||e.message);throw q(Ht,t.statusText)}))})),B(r[o],"baseUrl",r),B(r[o],"token",r))})),r}function ue(t){return wt.getJSON(mt(t))}function le(t,e){return h(t)?t.reduce((function(t,n){return t.then((function(){return le(n,e)}))}),at()):(Kt[t]||(Kt[t]=new xt((function(n,r){var o=document.createElement("script");if((e=e||{}).nomodule){if("noModule"in o)return void n();o.setAttribute("nomodule","")}e.module&&o.setAttribute("type","module"),o.addEventListener("load",(function(){n({})})),o.addEventListener("error",(function(){r(q(Wt))})),o.src=mt(t),document.head.appendChild(o)}))),Kt[t])}function se(t,e){var n=document.createElement("link");n.rel="stylesheet",n.href=mt(t),e&&(n.media=e),document.head.appendChild(n)}function fe(t,e){if(!h(t)){var n={},r=function(t){Pt(t)&&(n[RegExp.$1||RegExp.$2||RegExp.$3]=!0)};jt(Mt(t,1),(function(t){Ct(t,"img")&&t.src&&(n[t.src]=!0),r(getComputedStyle(t).backgroundImage),r(getComputedStyle(t,"::before").backgroundImage),r(getComputedStyle(t,"::after").backgroundImage)})),t=U(n)}var o=[],a=[];return t.forEach((function(t){o.push(Gt[t]||(Gt[t]=new xt((function(e){a.push(t),wt("<img>").on("load error",(function(){Gt[t]=!0,e()})).attr("src",t)}))))})),!o.length||o.every((function(t){return!0===t}))?at():(a.length&&console.log("Preload image",{urls:a}),st(ut(D(Gt)),e,!0))}const pe=u.dom;var de=u.dom,he=(de.textInputAllowed,de.beginDrag),ge=(de.beginPinchZoom,de.getShortcut,de.setShortcut,de.focusable),me=de.focused,ve=de.setModal,be=de.releaseModal,ye=de.retainFocus,we=(de.releaseFocus,de.iterateFocusPath,de.focus);const xe=pe;var Se={},Ae={},Pe=new Map,Oe=0;function ke(t,e,n,r){if(!n.length)return at();var o,a,i,c=++Oe;n=n.map((function(t){return t instanceof xt?lt(t):new xt((function(e){t.then(e,e)}))})),lt(ut(n,(function(){clearTimeout(o),i(),Pe.delete(t)}))),n.push(new xt((function(t,e){i=t,a=e}))),o=setTimeout((function(){a(q(Qt,"Animation timed out")),console.warn("Animation #%i might take longer than expected",c,n),Pe.delete(t)}),1500);var u=lt(ut(n));return Pe.set(t,u),u}function Te(t,e,n,r){var o=[Ot(t,e),xe.emit(n,t)],a=parseFloat(wt(t).css("transition-delay"));return w(r,(function(e,n){if(t.attributes[e]){var r=t.getAttribute(e);o.push(new xt((function(e,o){setTimeout((function(){ut(n(t,r)).then(e,o)}),1e3*a)})))}})),ut(o,(function(){return t}))}function Ce(t,e,n,r){if(Pe.has(t))return Pe.get(t).then((function(){return Ce(t,e,n,r)}));r=r||function(){return!0},xe.emit("animationstart",t,{animationType:"in",animationTrigger:e},!0);var o=n?wt(n,t):wt(),a="show"===e?':not([animate-on]), [animate-on~="'+e+'"]':'[animate-on~="'+e+'"]',i=[],c=[];return wt(Et("[animate-in]",t)).filter(a).each((function(t,e){!o.find(e)[0]&&r(e)&&Tt(e)&&(i.push(e),c.push(Te(e,"tweening-in","animatein",Se)))})),wt(Et("[animate-sequence]",t)).filter(a).each((function(t,e){if(!o.find(e)[0]&&r(e)&&Tt(e)){var n=e.getAttribute("animate-sequence")||"",a=e.getAttribute("animate-sequence-type")||"",u=wt(e).find(">"===n[0]?n:wt(n));void 0!==wt(e).attr("animate-sequence-reverse")&&[].reverse.apply(u),u.css("transition-duration","0s"),u.attr("animate-in",a).attr("is-animate-sequence",""),u.each((function(t,e){"inline"===wt(e).css("display")&&wt(e).css("display","inline-block"),i.push(e),c.push(new xt((function(n,r){setTimeout((function(){wt(e).css("transition-duration",""),Te(e,"tweening-in","animatein",Se).then(n,r)}),50*t)})))})),e.attributes["animate-in"]||wt(e).attr("animate-in","").addClass("tweening-in")}})),ke(t,0,c).then((function(){xe.emit("animationcomplete",t,{animationType:"in",animationTrigger:e},!0)}))}function Ie(t,e,n,r,o){r=r||function(){return!0},xe.emit("animationstart",t,{animationType:"out",animationTrigger:e},!0);var a=n?wt(n,t):wt(),i="show"===e?':not([animate-on]), [animate-on~="'+e+'"]':'[animate-on~="'+e+'"]',c=[],u=[];return wt((o?wt:Et)("[animate-out]",t)).filter(i).each((function(t,e){!a.find(e)[0]&&r(e)&&(c.push(e),u.push(Te(e,"tweening-out","animateout",Ae)))})),ke(t,0,u).then((function(){var n=wt((o?wt:Et)("[animate-out], .tweening-in, .tweening-out",t));"show"!==e&&(n=n.filter(i)),(n=n.filter((function(t,e){return r(e)}))).removeClass("tweening-in tweening-out"),n.find("[is-animate-sequence]").removeAttr("animate-in").removeClass("tweening-in tweening-out"),xe.emit("animationcomplete",t,{animationType:"out",animationTrigger:e},!0)}))}function je(t,e){Se[t]=$(e)}function Ee(t,e){Ae[t]=$(e)}var Ne=n(256);const Me={};var Re=u.dom,Le=(Re.lock,Re.locked),$e=Re.cancelLock,qe=(Re.notifyAsync,Re.preventLeave),Ue=u.dom,De=(Ue.observe,Ue.registerCleanup),Ve=(Ue.createAutoCleanupMap,Ue.afterDetached),ze=Ue.watchElements,Fe=Ue.watchAttributes;function We(t){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function He(t,e){return"["+t+"] "+(e=b(e).map((function(t){return p(t,Element)?(n=t).tagName.toLowerCase()+(n.id?"#"+n.id:n.className.trim()&&n.className.replace(/^\s*|\s+(?=\S)/g,"."))+":":t&&"object"===We(t)?(e=JSON.stringify(t),'[{"]'.indexOf(e[0])>=0&&e.length>200?e[0]+e.substr(1,199)+"…"+e[e.length-1]:e):t;var e,n})).join(" "))}function _e(t,e,n){var r;try{console.groupCollapsed(He(t,e)),r=!0}catch(t){}try{n(console)}finally{if(r)try{console.groupEnd()}catch(t){}}}var Be,Je=N(),Qe=new Map,Ge={},Ke=[],Ze=xe.root,Xe=[Ze],Ye=function(t){return t},tn=function(t){return yt(t,pt)||"/"},en=function(t){return ht(pt,t)},nn=Ye,rn=Ye;function on(t,e){var n=wt(t).closest("[match-path]")[0];return!n||(e||Xe).indexOf(n)>=0}function an(t,e,n){return t&&t.test||(t=ln(t)),h(e)||(e=cn(e)),t.test(e,n)}function cn(t){return"/"===(t=gt(t))?[]:t.slice(1).split("/").map(decodeURIComponent)}function un(t){y(this,t)}function ln(t){if(t=String(t),!Ge[t]){var e,n=new un,r={};t.replace(/\/(\*|[^{][^\/]*|\{([a.-z_$][a-z0-9_$]*)(\?)?(?::(?![*+?])((?:(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])([*+?]|\{\d+(?:,\d+)\})?)+))?\})(?=\/|$)/gi,(function(t,o,a,i,c){if(i&&!e&&(e=n.length),a){var u=c?new RegExp("^"+c+"$","i"):/./;r[a]=n.length,n.push({name:a,test:u.test.bind(u)})}else n.push(o.toLowerCase())})),y(n,{pattern:t,params:r,exact:!("*"===n[n.length-1]&&n.splice(-1)),minLength:e||n.length}),Ge[t]=X(n)}return Ge[t]}function sn(t,e,n){return t=t||[],e=e.map(encodeURIComponent),{route:t,params:T(n,["remainingSegments"]),minPath:gt(e.slice(0,t.minLength).join("/")),maxPath:gt(e.slice(0,t.length).join("/"))}}function fn(t,e,n){return P(t,(function(t){var r=P(t.params,(function(t,n){return null!==e[n]}));if(r&&!n&&(r=!P(e,(function(e,n){return e&&!t.has(n)}))),r){for(var o=[],a=0,i=t.length;a<i;a++){var c=t[a].name;if(c&&!t[a].test(e[c]||"")){if(a<t.minLength||e[c])return!1;break}o[a]=c?e[c]:t[a]}return sn(t,o,k(e,U(t.params)))}}))||!n&&fn(t,e,!0)}function pn(t,e,n){var r=this,o={},a=Je(r,{routes:e.map(ln),params:o,app:t});w(a.routes,(function(t,e){w(e.params,(function(t){o[t]=null}))})),y(r,o,r.parse(n)),a.current=a.lastMatch,a.handleChanges=Q(r,!0),Object.preventExtensions(r),Object.getOwnPropertyNames(r).forEach((function(t){J(r,t,null,(function(t){return d(t)||""===t?null:String(t)}))})),Q(r,(function(){var e=T(r,["remainingSegments"]),n=a.current,o=n,i=!j(e,n.params);i&&a.lastMatch&&(n=a.lastMatch,a.lastMatch=null,i=!j(e,n.params)),i&&(n=fn(a.routes,e)||o),a.current=n,n.route.exact&&(r.remainingSegments="/"),r.set(y({},a.params,n.params)),n!==o&&(t.path=nn(ht(n.maxPath,r.remainingSegments)))}))}F(un,Array,{has:function(t){return t in this.params},match:function(t,e){"string"==typeof t&&(t=this.params[t]);var n=this[t];return!!n&&(n.name?n.test(e):Y(n,e))},test:function(t,e){var n=this;return t.length>=n.minLength&&(e||!n.exact||t.length<=n.length)&&!A(n,(function(e,n){return t[n]&&!(e.name?e.test(t[n]):Y(t[n],e))}))}}),F(pn,{parse:function(t){var e=Je(this),n=cn(rn(t)),r=A(e.routes,(function(t){return an(t,n,!0)})),o={};if(r){for(var a in e.params)o[a]=n[r.params[a]]||null;o.remainingSegments=r.exact?"/":gt(n.slice(r.length).join("/"))}return e.lastMatch=sn(r,n,o),o},set:function(t){var e=this;if("string"==typeof t){if(Y(t,e.toString()))return;t=e.parse(t)}Je(e).handleChanges((function(){y(e,t)}))},replace:function(t,e){var n=this,r=n.getPath(y(n,v(t)||O(t,e)));return Je(n).app.navigate(r,!0)},getPath:function(t){var e=fn(Je(this).routes,t);return nn(e?ht(e.maxPath||"/",e.route.exact?"/":t.remainingSegments):"/")},toJSON:function(){return y({},this)},toString:function(){return nn(ht(Je(this).current.maxPath||"/",this.remainingSegments))}}),K(pn.prototype),Ge["/*"]=X(new un({value:"/*",exact:!1,length:0,minLength:0,params:{},test:function(){return!0}}));Xn("router",(function(t,e){var n,r,o,a=t.path||e.initialPath||e.queryParam&&ne(e.queryParam)||location.pathname.substr(e.baseUrl.length)||"/",i=new pn(t,e.routes,a),c="",u={},l={},f=-1,p=[];function d(t,e,n,r){return Object.freeze({id:t,path:e,navigated:!1!==r,redirected:!!n,originalPath:n||null})}function h(t,e){for(var n=f;n>=0;n--)if(p[n].result&&p[n].path===t)return history.replaceState(history.state,"",en(t)),d(p[n].result,t,e,!1)}function g(e,n){var a=p[f];if(e=v(e),a&&e===a.path&&e===r)return a.result?{promise:at(h(e))}:a;n=n||f<0,f=Math.max(0,f+!n);var i,c,u=tt(),l=s,g=s,m=p.splice(f),b={id:u,path:e,result:"",previous:a,get promise(){return i||(i=new Promise((function(t,e){var n=function(t){return function(e){c=!0,t(e)}};c=!1,l=n(t),g=n(e)})))},reset:function(){return c&&(i=null),b},forward:function(t){i&&!c&&((t.promise||t.then((function(t){return t.promise}))).then((function(t){b.resolve(d(t.id,t.path,e))}),g),g=s)},resolve:function(t){t=t||d(u,e),b.path=t.path,b.result=b.result||t.id,o=t,l(t),w(p,(function(t,e){e.reject()}))},reject:function(){g(q(Bt))}};return p[f]=b,history[n?"replaceState":"pushState"](u,"",en(e)),t.path=e,m[0]&&(n&&!m[1]?m[0].forward(b):R((function(){w(m,(function(t,e){e.reject()}))}))),b}function m(){return history.back(),--f}function v(e,n,r){var o;if(e=decodeURI(e)||"/",n=n||t.path,"~"===e[0]||e.indexOf("{")>=0){var a=(r?nn:Ye)(n);o=Y(a,i.toString())?Je(i).current:i.parse(a)&&Je(i).lastMatch,e=e.replace(/\{([^}?]+)(\??)\}/g,(function(t,n,r,a){return o.params[n]||(r&&a+t.length===e.length?"":"null")}))}return"~"===e[0]?e=(r?Ye:nn)(ht(o.minPath,e.slice(1))):"/"!==e[0]&&(e=ht(n,e)),gt(e,!0)}function b(t){wt("[match-path]",t).each((function(t,e){if(!Qe.has(e)){var n=document.createElement("div");n.setAttribute("style","display: none !important"),n.setAttribute("match-path",e.getAttribute("match-path")||""),e.attributes.default&&n.setAttribute("default",""),wt(e).before(n),wt(e).detach(),Ut(e,"hidden",!0),Qe.set(n,e),Qe.set(e,e)}}))}function x(e,n,r){var o=p[f],a=new Map,i=xe.eventSource,c=Xe.slice(0);Xe=r,Be=wt(r).filter("[page-title]")[0],l={},document.title=Be?fr(Be,"page-title",!0):document.title,Rn(!0,(function(){_e(i,["pageenter",e],(function(){Qe.forEach((function(r,o){var u=Xe.indexOf(r)>=0;if(r!==o&&u===c.indexOf(r)<0)if(u){ur(r,!1),ir(r);var l=a.get(wt(r).parents("[match-path]")[0]),s=cn(r.getAttribute("match-path")),f=Ke.map((function(t){if(an(t.route,s))return t.callback(r,e)}));f.push(l),a.set(r,ut(f,(function(){Xe.indexOf(r)>=0&&(Ut(r,"hidden",!1),Ce(r,"show","[match-path]"),t.emit("pageenter",r,{pathname:e},!0))})))}else t.emit("pageleave",r,{pathname:n},!0),Ie(r,"show","[match-path]").then((function(){Xe.indexOf(r)<0&&_e(i,["pageleave",n],(function(){Ut(r,"hidden",!0),ur(r,!0)}))}))}))})),w(a,(function(t,e){En(e,t)})),ct(ut(a),(function(){o.resolve()}))}))}function S(){var e=p[f];if(e&&location.pathname===en(r)||(g(r),e=p[f]),f>0&&r===c)e.resolve(h(r));else{var a=e.previous,u=r,s=Le(Ze,!0)?$e(Ze):$n();if(s)return n=r===n?null:c,s=at(s).then((function(){var t=g(u);return L(S),t}),(function(){throw q(Jt)})),p[f-1]===a?m():(p[f]=a,history.replaceState(a.id,"",en(a.path))),void e.forward(s);n=null;var d,A=[Ze],O=c;b(),Rn(!0,(function(){for(var t,e=rn(r),n=wt('[switch=""]').get();t=n.shift();)if(on(t,A)){var o=wt(t).children("[match-path]").get().map((function(t){var n=C(Qe,t)||t,r=wt('[switch=""]',n).get(),o=v(n.getAttribute("match-path"),e,!0);return{element:n,path:o.replace(/\/\*$/,""),exact:!r[0]&&"/*"!==o.slice(-2),placeholder:t!==n&&t,children:r}}));o.sort((function(t,e){return e.path.localeCompare(t.path)}));var a=P(o,(function(t){return(t.exact?e===t.path:yt(e,t.path))&&t.path}));w(o,(function(t,e){if(e.path===a){var r=e.element;A.unshift(r),e.placeholder&&(wt(e.placeholder).replaceWith(r),Nn(r),Ln(r),n.push.apply(n,e.children))}}))}})),l[r]&&l[O]?x(r,O,A):(l[r]=!0,wt('[switch=""]').each((function(t,e){if(on(e,A)){var n=wt(e).children("[match-path]");if(!n.filter((function(t,e){return A.indexOf(e)>=0}))[0])return d=nn((n.filter("[default]")[0]||n[0]).getAttribute("match-path")),!1}})),d&&d!==r?d===c?e.resolve(h(d,r)):e.forward(g(d,!0)):(console.log("Nagivate",r),c=r,t.path=r,i.set(r),En(s=at(t.emit("navigate",{pathname:r,oldPathname:O,oldStateId:o&&o.id,newStateId:e.id,route:Object.freeze(y({},i))})),Ze,(function(){p[f]===e&&x(r,O,A)}))))}}Q(u,!0),J(u,"path","",(function(t){return zn?((t=v(t,c))!==c&&t!==r&&(r=t,L(S)),c):c})),dt(e.baseUrl||""),"/"===pt?(tn=Ye,en=Ye):e.explicitBaseUrl&&(nn=en,rn=tn,tn=Ye,en=Ye,yt(a,pt)||(a=pt)),t.define({get canNavigateBack(){return f>0},get previousPath(){return(p[f-1]||"").path||null},parseRoute:ln,resolvePath:v,navigate:function(t,e){return g(t,e).promise},back:function(t){return f>0?p[m()].reset().promise:!!t&&g(t).promise}}),W(t,"initialPath",a,!0),W(t,"route",i,!0),W(t,"routes",Z(e.routes)),B(t,"path",u),t.beforeInit((function(){xe.ready.then((function(){b(),Rt(window,"popstate",(function(){var t=P(p,(function(t,e){return t.id===history.state&&e+1}));t?(r=p[f=t-1].reset().path,L(S)):g(tn(location.pathname))}))}))})),t.on("ready",(function(){g(a,!0)})),t.on("pageenter",(function(t){wt(Et("[x-autoplay]",t.target)).each((function(t,e){on(e)&&(0!==e.readyState&&(e.currentTime=0),e.play())}))})),t.on("pageleave",(function(e){wt(Et("form",e.target)).each((function(e,n){t.emit("reset",n,null,!1)||n.reset()})),wt(Et("[x-autoplay]",e.target)).each((function(t,e){e.pause()}))})),t.on("statechange",(function(t){It(t.target,Be)&&(document.title=fr(Be,"page-title",!0))})),ze(Ze,"video[autoplay], audio[autoplay]",(function(t){wt(t).attr("x-autoplay","").removeAttr("autoplay")}),!0)}));var dn="background-image".split(" "),hn="checked selected disabled readonly multiple ismap",gn=N(),mn=xe.root,vn=new Set,bn=new Map,yn=[],wn=[],xn=[],Sn={},An={},Pn={},On=0,kn=!1;function Tn(t,e){var n=gn(e)||gn(e,{});return n[t]||(n[t]={})}function Cn(t,e,n){w(e,(function(e,n){"$$class"===e?Ut(t,n):"$$text"===e?t.textContent=n:"style"===e?wt(t).css(n):rt(e,hn)?t[e]=!!n:t.setAttribute(e,n)})),n||xe.emit("domchange",t)}function In(t,e){w(e,(function(e,n){t[e]="$$class"===e||"style"===e?y({},t[e],n):n}))}function jn(t,e){var n,r=new Set;do{t=S(b(t),(function(t){return It(mn,t)})),n=b(r),wt(Et(te(Sn),t)).not(n).each((function(t,n){w(Sn,(function(t,o){n.attributes[t]&&(o(n,Tn.bind(0,t),e),r.add(n))}))}))}while(n.length!==r.size)}function En(t,e,n){if(!m(t))return at((n||s)());if(e||"script"!==xe.eventSource){var r=ar("loading",(e=e||xe.activeElement)||mn),o=ar("error",e||mn),a=Tn("handleAsync",r);ir(r,{loading:lr(r,"loading")||!0}),ir(o,{error:null}),a.value=(a.value||0)+1,t.then((function(){ir(r,{loading:!!--a.value})}),(function(t){ir(r,{loading:!!--a.value}),ir(o,{error:""+(t.message||t)})}))}return t.then(n||null)}function Nn(t){vn.add(t)}function Mn(t){if(!On&&!kn){var e=new Map,n=new Map,r=function(t,e){In(C(n,t,Object),e)};kn=!0;try{_e(xe.eventSource,"statechange",(function(){jn(vn,r);var t=wt.uniqueSort(S(vn,(function(t){return It(mn,t)&&vn.delete(t)})));w(t,(function(t,n){var r=Tn("oldValues",n),o={},a={};for(w(lr(n,!0),(function(t,e){r[t]!==e&&(o[t]=r[t],a[t]=e,r[t]=e)})),e.set(n,{oldValues:o,newValues:a});n=n.parentNode;){var i=e.get(n);if(i)for(var c in i.newValues)c in a||(a[c]=i.newValues[c],o[c]=i.oldValues[c])}}));var n=[];w(t.reverse(),(function(t,o){_e("statechange",[o,e.get(o).newValues],(function(t){t.log(o===mn?document:o),wt(Et(te(An),o)).not(n).each((function(t,e){w(An,(function(t,n){e.attributes[t]&&n(e,Tn.bind(0,t),r)})),n.push(e)}))}))}))})),ut(yn.map((function(t){return t(n)}))).then((function(){var r=new Map;w(n,(function(n,o){if(t)bn.has(n)?In(bn.get(n),o):Cn(n,o);else{var a=wt(n).filter("[match-path]")[0]||wt(n).parents("[match-path]")[0]||mn,i=r.get(a);if(!i){var c=function(t){var n,r=t.getAttribute("animate-on-statechange");if(!r)return!0;for(;t&&!(n=e.get(t));t=t.parentNode);return n&&A(r,(function(t){return t in n.newValues}))};i=[],R((function(){Ie(a,"statechange","[match-path]",c,!0).then((function(){w(i,(function(t,e){Cn(e,I(bn,e))})),Ce(a,"statechange","[match-path]",c)}))})),r.set(a,i)}In(C(bn,n,Object),o),i.push(n)}})),w(e,(function(t,e){xe.emit("statechange",t,{data:lr(t),newValues:e.newValues,oldValues:e.oldValues},!0)}))}))}finally{kn=!1}}}function Rn(t,e){var n=!0;try{On=(On||0)+1,$(e||t)()}catch(t){throw n=!1,t}finally{!--On&&n&&Mn(!0===t)}}function Ln(t){var e=kn;kn=!0;try{jn(t,(function(t,e){Cn(t,e,!0)}))}finally{kn=e}for(var n=[t],r=t===mn,o=-1,a=0;o<xn.length;)w(xn.slice(o<0?0:o),(function(e,r){wt(Et(r.target,t)).each((function(t,e){r.unbindHandlers.push(Vn.on(e,r.handlers)),r.handlers.mounted&&n.indexOf(e)<0&&n.push(e)}))})),o=xn.length,w(wt.uniqueSort(n.slice(a)),(function(t,e){xe.emit("mounted",e)})),r||(r=!0,xe.emit("mounted",mn,{target:t})),a=n.length;w(wn,(function(e,n){wt(Et(n.selector,t)).each((function(t,e){n.handler.call(e,e)}))}))}function $n(t){var e=A(wt("[prevent-leave]").get(),(function(t){var e=Tn("preventLeave",t),n=e.allowLeave;if(on(t)||n){var r=fr(t,"prevent-leave");return!r&&n&&delete e.allowLeave,r&&!n}}));return e&&!t?ut(xe.emit("preventLeave",e,null,!0),(function(t){if(!t)throw q(Jt);Tn("preventLeave",e).allowLeave=!0})):!!e}function qn(t,e){Pn[t]=wt(e)[0]}function Un(t,e){Sn[t]=$(e)}function Dn(t,e){An[t]=$(e)}Un("apply-template",(function(t,e){var n=e(t),r=t.getAttribute("apply-template"),o=Pn[r]||Pn[fr(t,"apply-template")],a=n.template;if(n.attributes||y(n,{attributes:Zt(t),childNodes:b(t.childNodes)}),o&&o!==a){n.template=o,o=o.cloneNode(!0),a&&w(a.attributes,(function(e,n){t.removeAttribute(n.name)})),Xt(t,n.attributes),Yt(o,t);var i=wt(n.childNodes).detach();wt(Et("content:not([for])",o)).replaceWith(i),wt(Et("content[for]",o)).each((function(t,e){wt(e).replaceWith(i.filter(e.getAttribute("for")||""))})),wt(t).empty().append(o.childNodes)}})),Un("auto-var",(function(t){ir(t,fr(t,"auto-var"))})),Un("foreach",(function(t,e){var n=e(t),r=n.template||(n.template=wt(t).contents().detach().filter((function(t,e){return 1===e.nodeType||/\S/.test(e.data||"")})).get()),o=n.nodes||[],a=n.data||[],i=b(fr(t,"foreach"));if(i.length!==a.length||i.some((function(t,e){return a[e]!==t}))){var c=x(i,(function(n){var i=a.indexOf(n);if(i>=0)return a.splice(i,1),o.splice(i*r.length,(i+1)*r.length);var c=wt(r).clone().get(),u=wt(Et("[foreach]",c));return u[0]&&wt(Et("[foreach]",r)).each((function(t,n){e(u[t]).template=e(n).template})),w(c,(function(e,r){1===r.nodeType&&(wt(t).append(r),cr(r,{foreach:n}),Ln(r))})),c}));y(n,{nodes:c,data:i.slice()}),wt(o).detach(),wt(t).append(c)}})),Un("switch",(function(t,e,n){var r=t.getAttribute("switch")||"";if(on(t)&&r){var o=e(t);void 0===o.matched&&cr(t,"matched",(function(){return o.matched&&lr(o.matched,!0)}));var a,i,c,u=lr(t),l=Ne.eval(r,u),s=wt("[match-"+r+"]",t).filter((function(e,n){return wt(n).parents("[switch]")[0]===t})),f=!rt("switch",t.getAttribute("keep-child-state")||""),p=o.matched,d=new Map;s.each((function(t,e){var n=Ne.eval('"null" ?? '+e.getAttribute("match-"+r),lr(e));if(d.set(e,n),Ne.eval("$0 == $1",[l,n]))return a=e,!1})),a=a||s.filter("[default]")[0]||s[0]||null,p!==a?_e("switch",[t,r,"→",l],(function(t){t.log("Matched: ",a||"(none)"),a&&(f&&ur(a),ir(a)),p&&f&&ur(p,!0),s.each((function(t,e){n(e,{$$class:{active:e===a}})}))})):(i="switch",c=[t,r,"→",l,"(unchanged)"],console.log(He(i,c)),r in u&&void 0!==d.get(a)&&ir(t,r,d.get(a))),o.matched=a}})),Dn("template",(function(t,e,n){var r=e(t),o=r.templates;o||(o={},w(t.attributes,(function(t,e){e.value.indexOf("{{")>=0&&(o[e.name]=rt(e.name,hn)?e.value.replace(/^{{|}}$/g,""):e.value)})),!t.childElementCount&&(t.textContent||"").indexOf("{{")>=0&&(o.$$text=t.textContent),r.templates=o);var a=lr(t),i={};w(o,(function(e,n){var r=sr(n,a,t,e,!rt(e,hn));("$$text"===e?t.textContent:(t.getAttribute(e)||"").replace(/["']/g,""))!==r&&(i[e]=r)})),n(t,i)})),Dn("set-style",(function(t,e,n){var r=At(fr(t,"set-style",!0));w(dn,(function(t,e){var n=Pt(r[e]);n&&(r[e]='url("'+mt(bt(n))+'")')})),n(t,{style:r})})),Dn("set-class",(function(t,e,n){n(t,{$$class:fr(t,"set-class")})}));var Vn,zn,Fn,Wn=N(),Hn=xe.root,_n={};function Bn(t){return ut(t.splice(0),(function(){return t.length&&Bn(t)}))}function Jn(t){return function(e){if(e.target===e.context)return t.apply(this,arguments)}}function Qn(t){var e=t.target;wt(Et('img[src^="/"], video[src^="/"]',e)).each((function(t,e){e.src=mt(e.getAttribute("src"))})),wt(Et('a[href^="/"]',e)).each((function(t,e){e.href=mt(e.getAttribute("href"))})),wt(Et("[data-src]",e)).each((function(t,e){e.src=mt(e.dataset.src),e.removeAttribute("data-src")})),wt(Et("[data-bg-src]",e)).each((function(t,e){e.style.backgroundImage='url("'+mt(e.dataset.bgSrc)+'")',e.removeAttribute("data-bg-src")})),wt(Et("form",e)).on("submit",(function(t){t.preventDefault()}))}function Gn(){var t=this;Wn(t,{init:[],options:{}}),W(t,"element",Hn,!0),W(t,"ready",new Promise((function(e){t.on("ready",e.bind(0,t))})),!0),t.on("mounted",Qn)}function Kn(){if(Fn)throw new Error("brew() can only be called once");return Vn=new Gn,w(Me,(function(t,e){var n=e&&g(Vn[et("use-"+t)]);n&&n.call(Vn,e)})),w(arguments,(function(t,e){$(e)(Vn)})),Fn=!0,ir(Hn,{loading:"initial"}),En(ut([xe.ready,Bn(Wn(Vn).init)],(function(){zn=!0,Ln(Hn),Vn.emit("ready")})),Hn),Vn}function Zn(t,e){$(e),F(Gn,O(et("use-"+t),(function(n){var r=Wn(this);r.options[t]=y(r.options[t]||{},n),e(this,r.options[t])})))}function Xn(t,e,n){return!0===t?function(t){n(t,{})}:Zn.bind(0,t,e)}F(Gn,{emit:function(t,e,n,r){return p(e,Node)||(r=n,n=e,e=this.element),xe.emit(t,e,n,r)},define:function(t){z(this,t)},beforeInit:function(t){g(t)&&(t=t.call(this)),Wn(this).init.push(t)},detect:function(t,e){var n=this,r={};w(t,(function(t,e){_n[e]&&(r[e]=g(_n[e])?_n[e]=ut(_n[e]()).catch((function(t){return console.warn("Detection for "+e+" has thrown exception:",t),!1})):_n[e])})),this.beforeInit(ut(r,(function(t){return t=Object.freeze(y({},n.supports,t)),z(n,{supports:t}),g(e)&&e(t)})))},when:function(t,e){this.beforeInit(ut(t,(function(t){if(t)return e()})))},on:function(t,e,n,r){r=!0===(r||n),g(e)&&(n=e,e=t,t=Hn);var o=e;if("string"==typeof e)r&&(n=Jn(n)),e.indexOf(" ")>=0?(o={},w(e,(function(t,e){o[e]=n}))):o=O(e,n);else if(r)for(var a in e)e[a]=Jn(e[a]);var i=[];return"string"==typeof t?(!function(t,e,n){xn.push({target:t,handlers:e,unbindHandlers:n})}(t,o,i),t=wt(t).get()):t instanceof Node&&(t=[t]),w(t,(function(t,e){i.push(xe.on(e,o))})),E(i)},matchPath:function(t,e,n){g(e)&&(n=e,e=null),this.on("mounted",(function(r){var o=r.target.getAttribute("match-path");o&&an(t,o)&&(!e||wt(r.target).is(e))&&n.call(r.target,r.target)}))},matchElement:function(t,e){wn.push({selector:t,handler:e})},matchRoute:an,beforeUpdate:function(t){yn.push($(t))},beforePageEnter:function(t,e){g(t)&&(e=t,t="/*"),Ke.push({route:ln(t),callback:$(e)})}}),K(Gn.prototype);u.TraversableNode,u.TraversableNodeTree,u.InheritedNode;var Yn=u.InheritedNodeTree,tr=(u.TreeWalker,xe.root),er={var:!0,"auto-var":!0,"error-scope":{error:null}},nr=new Yn(tr,(function(){var t=this,e=t.element;w(e.dataset,(function(e,n){W(t,e,Ne.eval("`"+nt(n||"null")))})),w(rr(e,!0,t),(function(e,n){W(t,e,n)})),e===tr&&(t.loading=null,t.error=null)}),{selector:te(er)});function rr(t,e,n){var r={};return w(er,(function(o,a){if(t.attributes[o]){if(!0===a&&(a=fr(t,o,!1,n),!v(a)))return;for(var i in a)r[i]=void 0===a[i]||e?null:a[i]}})),r}function or(t,e){e=e||tr;for(var n=nr.getNode(e);null!==n;n=Object.getPrototypeOf(n))if(V(n,t))return n;return console.warn("Undeclared state: %s",t,{element:e}),nr.setNode(e)}function ar(t,e){return or(t,e).element}function ir(t,e,n){var r=e&&(v(e)||O(e,n)),o=!1;if("string"==typeof t)Rn((function(){wt(t).each((function(t,e){o|=ir(e,r)}))}));else{var a=nr.setNode(t);w(r||fr(t,"set-var"),(function(e,n){if(a[e]!==n){var r=or(e,t);r[e]=n,o=!0,Nn(r.element)}})),o&&zn&&L(Mn)}return!!o}function cr(t,e,n){var r=v(e)||O(e,n),o=nr.setNode(t),a={};for(var i in r)g(r[i])?H(o,i,r[i],s):(W(o,i,o[i]),a[i]=r[i]);return ir(t,a)}function ur(t,e){Rn((function(){w(nr.descendants(t),(function(t,n){ir(n.element,rr(n.element,e))}))}))}function lr(t,e){var n=function(t){for(var e in t.dataset)return!0}(t)?nr.setNode(t):nr.getNode(t)||{};if(!0!==e)return e?n[e]:y({},n);if(n.element!==t)return{};var r=Object.getOwnPropertyNames(n);return r.splice(r.indexOf("element"),1),k(n,r)}function sr(t,e,n,r,o){var a={globals:{app:Vn}};return o?ot(Ne(t,y({},e),a)):Ne.eval(t,y({},e),a)}function fr(t,e,n,r){var o=t.getAttribute(e);return o?sr(o,r||lr(t),0,0,n):n?"":null}nr.on("update",(function(t){w(t.updatedNodes,(function(t,e){Nn(e.element)}))}));var pr="button,input,select,textarea,[contenteditable],a[href],area[href],iframe",dr="[is-flyout]:not([tab-through]),[tab-root]",hr=xe.root,gr=new Map,mr=new Map,vr={};function br(t,e){vr[t]=$(e)}function yr(t,e){var n=wt(t||"[is-flyout].open").get();return ut(n.map((function(t){var n=gr.get(t);return n&&(gr.delete(t),be(t),n.resolve(e),n.source&&Ut(n.source,"target-opened",!1)),lt(t.attributes["animate-out"]?(Ut(t,"closing",!0),Ie(t,"open")):Ot(t,"closing")).then((function(){Ut(t,{open:!1,closing:!1,visible:!1})}))})))}function wr(t,e,n,r){var o=n||hr,a=t?Nt(t,o):wt(o).closest("[is-flyout]")[0];if(!a)return it();var i,c=gr.get(a);if(c)return r?yr(a,n&&Ne.eval("`"+n.value)):c.path=Vn.path,c.promise;var u=new xt((function(t){i=t}));gr.set(a,{source:n,promise:u,resolve:i,path:Vn.path}),n&&(Ut(n,"target-opened",!0),ye(a,n)),e&&ir(a,e),Ut(a,"visible",!0),Ot(a,"open",(function(){we(a)})),Ce(a,"open"),a.attributes["is-modal"]&&(qe(a,u),ve(a));var l=function(t){var e=a.getAttribute("swipe-dismiss");("focusout"===t.type?e:t.data!==et("swipe-"+e))||(yr(a),xe.event&&xe.event.preventDefault(),t.handled())};return ct(u,xe.on(a,{focusout:l,gesture:l})),u}br("validate",(function(t){var e=Nt(this.getAttribute("validate")||"",t.target);if(e){var n=xe.emit("validate",e)||!e.checkValidity||e.checkValidity();if(n){if(m(n))return n.then((function(t){if(!t)throw q(_t)}))}else t.stopImmediatePropagation(),t.preventDefault()}})),br("context-method",(function(t){var e=t.currentTarget,n=et(e.getAttribute("context-method")||"");if(g(Vn[n])){var r,o=e.getAttribute("context-form"),a=o?Nt(o,e):e.form,i=!0;return a?(i=xe.emit("validate",a)||a.checkValidity(),r=[ee(a)]):r=b(fr(e,"method-args")),ut(i,(function(t){if(!t)throw q(_t);return Vn[n].apply(Vn,r)}))}})),xe.ready.then((function(){var t=new WeakMap,e=hr;function n(n){wt(n||pr).each((function(n,r){(wt(r).closest(dr)[0]||hr)!==e?(t.has(r)||t.set(r,r.tabIndex),r.tabIndex=-1):wt(r).attr("tabindex",I(t,r)||null)}))}xe.on("focuschange",(function(){var t=A(wt(dr).get().reverse(),(function(t){return me(t)}))||hr;t!==e&&(e=t,n())})),ze(hr,pr,n,!0),Vn.on("mounted",(function(t){wt(Et(te(vr),t.target)).attr("async-action","")})),Vn.on("navigate",(function(){setTimeout((function(){gr.forEach((function(t,e){t.path!==Vn.path&&yr(e)}))}))})),wt("body").on("click","[disabled], .disabled, :disabled",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),wt("body").on("click","[async-action]",(function(t){var e=t.currentTarget,n=C(mr,e,Array),r=null;if(w(vr,(function(t,o){if(e.attributes[t]&&n.indexOf(o)<0)return r=o,!1})),r){n.push(r);var o=r.call(e,t);m(o)&&!t.isImmediatePropagationStopped()&&(t.stopImmediatePropagation(),t.preventDefault(),En(o).then((function(){$t(t)}),(function(t){mr.delete(e),console.warn("Action threw an error:",t)})))}else mr.delete(e)})),wt("body").on("click","a[href]:not([rel]), [data-href]",(function(t){if(!t.isDefaultPrevented()){var e=t.currentTarget,n=e.getAttribute("data-href")||e.getAttribute("href");if(t.preventDefault(),t.stopPropagation(),"_blank"===e.getAttribute("target"))window.open(n,tt());else{var r=function(){!("navigate"in Vn)||/^([a-z0-9]+:|\/\/)/.test(n)?location.href=n:Vn.navigate(n)},o=wt(e).closest("[is-modal]")[0];o?(wr(o).then(r),yr(o)):(r(),yr())}}})),wt("body").on("click","[set-var]:not([match-path])",(function(t){var e=t.currentTarget;e===wt(t.target).closest("[set-var]")[0]&&(ir(e),yr())})),wt("body").on("click","[toggle]",(function(t){var e=t.currentTarget;t.stopPropagation(),e.attributes["toggle-if"]&&!fr(e,"toggle-if")||wr(e.getAttribute("toggle"),null,e,!0)})),wt("body").on("click","[toggle-class]",(function(t){var e=t.currentTarget;if(t.stopPropagation(),!e.attributes["toggle-if"]||fr(e,"toggle-if")){var n=e.getAttribute("toggle-class-for"),r=n?Nt(n,e):t.currentTarget;w(e.getAttribute("toggle-class"),(function(t,e){Ut(r,e.slice(1),"+"===e[0])}))}}))})),xe.ready.then((function(){wt("[brew-template]").each((function(t,e){qn(e.getAttribute("brew-template")||"",e.cloneNode(!0))})),wt("apply-attributes").each((function(t,e){var n=wt(e.getAttribute("elements")||"",e.parentNode||xe.root);w(e.attributes,(function(t,e){"elements"!==e.name&&n.each((function(t,n){n.setAttribute(e.name,e.value)}))}))})).remove(),wt("[style]").each((function(t,e){var n=Pt(e.style.backgroundImage);n&&(e.setAttribute("data-bg-src",decodeURIComponent(mt(bt(n)))),e.style.backgroundImage="none")})),window.onbeforeunload=function(t){$n(!0)&&(t.returnValue="",t.preventDefault())}}));function xr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xr(Object(n),!0).forEach((function(e){Ar(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ar(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pr=Sr(Sr(Sr(Sr(Sr({ErrorCode:o,defaults:Me},a),r),i),c),{},{getVar:lr,setVar:ir,declareVar:cr,evalAttr:fr,isElementActive:on,handleAsync:En,preventLeave:$n,install:Zn,addDetect:function(t,e){_n[t]=$(e)},addExtension:Xn,addTemplate:qn,with:function(){var t=this.bind.apply(Kn,[0].concat(x(arguments,(function(t){return v(t)?function(e){z(e,t)}:g(t)||s}))));return z(t,Pr),t}});z(Kn,Pr);const Or=Kn,kr=Xn("config",(function(t,e){var n=K();z(t,{config:n}),t.beforeInit(ue(e.path).catch(g(e.fallback)||null).then((function(t){y(n,t),e.freeze&&X(n)})))})),Tr=Xn(!0,"formVar",(function(t){t.matchElement("form[form-var]",(function(e){var n=e.getAttribute("form-var"),r={},o=function(t){if(t&&(r=ee(e)),n){var o=lr(e,n)||{};j(r,k(o,U(r)))||ir(e,n,y({},o,r))}else ir(e,r)};Fe(e,"value",(function(){L(o)})),ze(e,":input",(function(t){w(t,(function(t,n){var r=Ve(n,e);Lt(r,n,"change input",(function(){L(o)})),r.then(o.bind(null,!0))})),o(!0)}),!0),t.on(e,"reset",(function(){return n?on(ar(n,e))||e.reset():w(e.elements,(function(t,n){on(ar(n.name,e))||(n.value=null)})),!0}))})),t.on("pageenter",(function(t){wt(Et("form[form-var]",t.target)).each((function(t,e){wt(":input:eq(0)",e).trigger("change")}))}))}));function Cr(t){if(t){var e={};return w(t,(function(t,n){var r=n.toLowerCase();e[r]=n,r.indexOf("-")>0&&(e[r.split("-")[0]]=n)})),e}}function Ir(t,e){return t&&e?t[e.toLowerCase()]:e}function jr(t,e){var n=navigator.languages||[navigator.language||""];return t?(n=Cr(n),h(t)&&(t=Cr(t)),P(n,(function(e,n){return t[n]}))||e||U(t)[0]):n[0]}const Er=Xn("i18n",(function(t,e){var n=Cr(e.languages),r=t.route&&e.routeParam,o=e.cookie&&ie(e.cookie,864e5),a=Ir(n,r&&t.route[r])||Ir(n,o&&o.get())||jr(n,e.defaultLanguage),i=function(e){t.language=e};J(t,"language",a,(function(i){return i=Ir(n,i)||a,o&&o.set(i),r&&t.route.replace(r,i.toLowerCase()),a!==i&&(a=i,e.reloadOnChange&&location.reload()),a})),t.define({setLanguage:i,detectLanguage:jr}),r&&(t.route.watch(r,i),t.on("ready",(function(){t.route.replace(r,a.toLowerCase())})))})),Nr=Xn("login",(function(t,e){var n=ie((e=y({loginPagePath:"",defaultRedirectPath:"",cookie:"",expiry:0,logout:null,login:null,tokenLogin:null,getTokenFromResponse:null},e)).cookie,e.expiry),r=J(t,"loggedIn",!1,!0);function o(o){r(!0),g(e.getTokenFromResponse)&&n.set(e.getTokenFromResponse(o)),t.emit("login",{data:o})}var a=t.initialPath,i=n.get();i&&g(e.tokenLogin)&&t.beforeInit(lt(ut(e.tokenLogin(i),o))),t.define({login:function(n,i,c){return c=g(c||i),i="string"==typeof i&&i,ut(e.login(n)).then((function(t){return o(t),c&&c()}),(function(t){throw r(!1),t.status>=500?"server-error":"incorrect-cred"})).then((function(){a===t.resolvePath(e.loginPagePath)&&(a=""),t.navigate(i||a||e.defaultRedirectPath),a=""}))},logout:function(o,a){return t.loggedIn?(a=g(a||o),o="string"==typeof o&&o,at($n()).then((function(){return e.logout()})).then((function(){return r(!1),n.delete(),t.emit("logout"),a&&a()})).then((function(){t.navigate(o||e.loginPagePath)}))):at()}}),t.on("navigate",(function(n){var r=t.resolvePath(e.loginPagePath);f(t.loggedIn,n.pathname!==r)&&(t.loggedIn?t.navigate(e.defaultRedirectPath):(a=n.pathname,t.navigate(r)))}))}));var Mr="background-image".split(" ");Me.preloadImage=!0;const Rr=Xn("preloadImage",(function(t){t.beforeUpdate((function(t){var e={};return w(t,(function(t,n){(n.src||n.style)&&on(t)&&(n.src&&(e[vt(n.src)]=!0),n.style&&w(Mr,(function(t,r){var o=Pt(n.style[r]);o&&(e[vt(o)]=!0)})))})),fe(U(e),200)})),t.beforePageEnter((function(t){return fe(t,1e3)}))})),Lr=Xn("scrollable",(function(t,e){e=y({bounce:!1},e);var n=window.DOMMatrix||window.WebKitCSSMatrix||window.MSCSSMatrix,r=N(),o=0;function a(t){return r(t)||r(t,{childClass:"scrollable-target-"+ ++o})}function i(){wt("[scrollable]:visible").scrollable("refresh")}function c(){wt('[animate-on~="scroll-into-view"]:visible').each((function(t,e){var r=new n(getComputedStyle(e).transform),o=Vt(xe.root),a=Vt(e),i=zt(o,a.translate(-r.e||0,0))||zt(o,a.translate(0,-r.f||0));i^qt(e,"tweening-in")&&(i||e.attributes["animate-out"])&&(i?Ce:Ie)(e,"scroll-into-view")}))}t.on("ready",(function(){ze(xe.root,te(["scrollable","scrollable-target"]),(function(n){wt(n).filter("[scrollable-target]").each((function(t,e){var n=wt(e).closest("[scrollable]")[0];wt(e).addClass(a(n).childClass)})),wt(n).filter("[scrollable]").each((function(n,r){!function(n){var r,o,i=a(n).childClass,c=n.getAttribute("scrollable"),u=n.getAttribute("scroller-snap-page")||"",l=n.getAttribute("scroller-state")||"",s=n.getAttribute("scroller-page")||"",f=n.hasAttribute("persist-scroll"),p={},d=!1,h=!1;function g(t){return s&&wt(s,n).get()[t]}function m(t){if(l){var e={};e[l]=t,ir(n,e)}}function v(t,e){var o=g(t);e=e||"center top",!d&&Tt(n)&&o&&(d=!0,r=!0,m(t),wt(n).scrollable("scrollToElement",o,e,e,200,(function(){d=!1,r=!1})))}function b(){("always"===u||u===t.orientation)&&Tt(n)&&(d?h=!0:(h=!1,v(lr(n,l))))}if(wt(n).scrollable(y({},e,{handle:rt(c,"auto scrollbar content")||"content",hScroll:!rt(c,"y-only"),vScroll:!rt(c,"x-only"),content:"."+a(n).childClass+":visible:not(.disabled)",pageItem:s,snapToPage:"always"===u||u===t.orientation,scrollStart:function(e){"script"!==xe.eventSource&&delete p[history.state],t.emit("scrollStart",n,e,!0)},scrollMove:function(e){t.emit("scrollMove",n,e,!0)},scrollEnd:function(e){t.emit("scrollStop",n,e,!0)}})),De(n,(function(){wt(n).scrollable("destroy")})),De(n,xe.on(n,{drag:function(){he()},getContentRect:function(t){if(t.target===n||wt(t.target).closest("."+i)[0]){var e=Vt(n),r=wt(n).scrollable("scrollPadding");return e.top+=r.top,e.left+=r.left,e.right-=r.right,e.bottom-=r.bottom,e}},scrollBy:function(t){wt(n).scrollable("stop");var e=wt(n).scrollable("scrollLeft"),r=wt(n).scrollable("scrollTop");return wt(n).scrollable("scrollBy",t.x,t.y,200),{x:e-wt(n).scrollable("scrollLeft"),y:r-wt(n).scrollable("scrollTop")}}})),s&&("always"!==u&&De(n,t.on("orientationchange",(function(){wt(n).scrollable("setOptions",{snapToPage:u===t.orientation})}))),l&&(De(n,t.on(n,{statechange:function(t){var e=t.data[l];d||((0|Vt(g(e)).width)>(0|Vt().width)?v(e,"left center"):v(e))},scrollMove:function(t){d=!0,r||m(t.pageIndex)},scrollStop:function(t){m(t.pageIndex),d=!1,h&&b()}},!0)),De(n,Rt(window,"resize",(function(){clearTimeout(o),o=setTimeout(b,200)}))))),f){var w=!1,x=function(){var t=p[history.state];t&&wt(n).scrollable("scrollTo",t.x,t.y,0)};De(n,E(xe.on("asyncStart",(function(){w=!0})),xe.on("asyncEnd",(function(){w=!1,x()})),t.on("navigate",(function(t){p[t.oldStateId]={x:wt(n).scrollable("scrollLeft"),y:wt(n).scrollable("scrollTop")},setTimeout((function(){w||x()}))}))))}}(r),wt(r).scrollable(ge(r)?"enable":"disable")}))}))})),t.on("statechange orientationchange animationcomplete",(function(){M(i)})),t.on("pageenter",(function(t){var e=wt(Et("[scrollable]",t.target)).add(wt(t.target).parents("[scrollable]"));wt(Et("[scrollable-target]",t.target)).each((function(t,e){wt(e).toggleClass("disabled",!on(e))})),e.scrollable("refresh"),e.filter(":not([keep-scroll-offset])").scrollable("scrollTo",0,0)})),t.on("resize pageenter statechange scrollMove orientationchange",(function(){M(c)})),xe.on("modalchange",(function(){wt("[scrollable]").each((function(t,e){wt(e).scrollable(ge(e)?"enable":"disable")}))})),xe.on("keystroke",(function(t){var e=xe.event;if(xe.modalElement&&e&&e.target===document.body&&rt(t.data,"space pageUp pageDown leftArrow rightArrow upArrow downArrow")){var n=Et("[scrollable]",xe.modalElement)[0];n&&wt(n).triggerHandler(wt.Event("keydown",{keyCode:e.keyCode}))}}))}));u.IS_IOS,u.IS_IE10,u.IS_IE,u.IS_MAC;var $r=u.IS_TOUCH;const qr=Xn(!0,"viewport",(function(t){var e,n,r,o=J(t,"orientation","",!0),a=$r&&"MacIntel"!==navigator.platform,i=screen.availWidth,c=screen.availHeight;function u(u){$r&&screen.availWidth===i&&screen.availHeight===c&&screen.availWidth===window.innerWidth?wt("body").css("min-height",wt("body").height()+"px"):wt("body").css("min-height","0"),i=screen.availWidth,c=screen.availHeight;var l=wt("body").height()||0;(wt("html").height()||0)<l&&wt(xe.activeElement).is(":text")&&Dt(xe.activeElement);var s=e;n=a?i:document.body.offsetWidth,r=a?i===window.innerWidth?c:window.innerHeight:document.body.offsetHeight,o((e=n/r)>=1?"landscape":"portrait"),!1!==u&&(t.emit("resize",{aspectRatio:e,viewportWidth:n,viewportHeight:r}),f(e>=1,s>=1)&&t.emit("orientationchange",{orientation:t.orientation}))}z(t,{get aspectRatio(){return e},get viewportWidth(){return n},get viewportHeight(){return r}}),t.on("orientationchange",(function(){Ce(xe.root,"orientationchange")})),wt(window).on("resize",(function(){M(u)})),wt((function(){u(!1)}))}));const Ur=Or.with((function(t){window.app=t}),kr,Tr,Er,Nr,Rr,Lr,qr)},860:function(t,e,n){var r=window.jQuery||n(609);t.exports=r;try{n(172)}catch(t){}},424:function(t,e,n){var r=window.Promise||n(804).default;t.exports=r},256:function(t,e,n){var r=window.waterpipe||n(160);t.exports=r;var o=r;o.pipes["{"]=function(t,e){var n=e.globals,r=n.new,o={};for(n.new=o;e.hasArgs();){var a=e.raw();if("}"===a)break;o[String(a).replace(/:$/,"")]=e.next()}return n.new=r,o},o.pipes["{"].varargs=!0},609:function(t){"use strict";t.exports=e},172:function(t){"use strict";if(void 0===n){var e=new Error("Cannot find module 'jq-scrollable'");throw e.code="MODULE_NOT_FOUND",e}t.exports=n},804:function(t){"use strict";t.exports=r},160:function(t){"use strict";t.exports=o},163:function(e){"use strict";e.exports=t}},i={};function c(t){if(i[t])return i[t].exports;var e=i[t]={exports:{}};return a[t](e,e.exports,c),e.exports}return c.d=function(t,e){for(var n in e)c.o(e,n)&&!c.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c(979)}().default}));
//# sourceMappingURL=brew.min.js.map