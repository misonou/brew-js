!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("zeta-dom"),require("jQuery"),function(){try{return require("jq-scrollable")}catch(t){}}(),require("promise-polyfill"),require("waterpipe")):"function"==typeof define&&define.amd?define("brew",["zeta-dom","jQuery","jq-scrollable","promise-polyfill","waterpipe"],e):"object"==typeof exports?exports.brew=e(require("zeta-dom"),require("jQuery"),function(){try{return require("jq-scrollable")}catch(t){}}(),require("promise-polyfill"),require("waterpipe")):t.brew=e(t.zeta,t.jQuery,t["jq-scrollable"],t["promise-polyfill"],t.waterpipe)}(self,(function(t,e,n,r,o){return function(){var i={979:function(t,e,n){"use strict";n.d(e,{default:function(){return jr}});var r={};n.r(r),n.d(r,{baseUrl:function(){return st},combinePath:function(){return pt},isSubPathOf:function(){return vt},normalizePath:function(){return dt},setBaseUrl:function(){return ft},toAbsoluteUrl:function(){return gt},toRelativeUrl:function(){return mt},withBaseUrl:function(){return ht}});var o={};n.r(o),n.d(o,{apiError:function(){return zt},navigationCancelled:function(){return _t},navigationRejected:function(){return Ht},networkError:function(){return Dt},resourceError:function(){return Ft},validationFailed:function(){return Wt}});var i={};n.r(i),n.d(i,{addStyleSheet:function(){return ce},api:function(){return oe},cookie:function(){return re},copyAttr:function(){return Kt},deleteCookie:function(){return ne},getAttrValues:function(){return Qt},getCookie:function(){return te},getFormValues:function(){return Xt},getJSON:function(){return ie},getQueryParam:function(){return Yt},loadScript:function(){return ae},preloadImages:function(){return ue},selectorForAttr:function(){return Zt},setAttr:function(){return Gt},setCookie:function(){return ee}});var a={};n.r(a),n.d(a,{addAnimateIn:function(){return ke},addAnimateOut:function(){return Te},animateIn:function(){return Pe},animateOut:function(){return Oe}});var c={};n.r(c),n.d(c,{addAsyncAction:function(){return sr},closeFlyout:function(){return fr},openFlyout:function(){return pr}});var u=n(163),l=u.util,s=l.noop,f=(l.pipe,l.either),p=l.is,d=(l.isUndefinedOrNull,l.isArray),h=l.isFunction,g=l.isThenable,m=l.isPlainObject,v=(l.isArrayLike,l.makeArray),b=l.extend,y=l.each,w=l.map,x=l.grep,S=(l.splice,l.any),A=l.single,P=l.kv,O=l.pick,k=l.exclude,T=l.mapGet,C=l.mapRemove,I=(l.arrRemove,l.setAdd,l.equal),j=l.combineFn,E=(l.executeOnce,l.createPrivateStore),N=(l.setTimeout,l.setTimeoutOnce),M=(l.setInterval,l.setIntervalSafe,l.setImmediate),R=l.setImmediateOnce,L=l.throwNotFunction,$=l.errorWithCode,q=l.keys,U=l.values,V=l.hasOwnProperty,D=(l.getOwnPropertyDescriptors,l.define),F=l.definePrototype,z=l.defineOwnProperty,W=l.defineGetterProperty,_=l.defineHiddenProperty,H=l.defineAliasProperty,B=l.defineObservableProperty,J=l.watch,Q=l.watchOnce,G=l.watchable,K=(l.inherit,l.deepFreeze),Z=l.iequal,X=l.randomId,Y=(l.repeat,l.camel),tt=(l.hyphenate,l.ucfirst,l.lcfirst,l.trim),et=l.matchWord,nt=l.htmlDecode,rt=l.resolve,ot=l.reject,it=l.always,at=l.resolveAll,ct=l.catchAsync,ut=l.setPromiseTimeout,lt={http:80,https:443},st="/";function ft(t){st=dt(t,!0)}function pt(t,e){return t=dt(t),"/"===(e=dt(e))?t:"/"===t||e.indexOf("://")>0?e:t+e}function dt(t,e,n){if(!t||"/"===t)return n?"":"/";if(/(^(?:[a-z0-9]+:)?\/\/)|\?|#/.test(t)){var r=document.createElement("a");return r.href=t,(RegExp.$1&&(r.origin||r.protocol+"//"+r.hostname+(r.port&&+r.port!==lt[r.protocol.slice(0,-1)]?":"+r.port:"")))+dt(r.pathname,e,!0)+r.search+r.hash}if(t=String(t).replace(/\/+(\/|$)/g,"$1"),e&&/(^|\/)\.{1,2}(\/|$)/.test(t)){for(var o=t.split("/"),i=0;i<o.length;)"."===o[i]||".."===o[i]&&!i?o.splice(i,1):".."===o[i]?o.splice(--i,2):i++;t=o.join("/")}return"/"===t[0]?t:"/"+t}function ht(t){return t=dt(t),st&&"/"===t[0]&&!vt(t,st)?pt(st,t):t}function gt(t){return t.indexOf("://")>0?t:location.origin+ht(t)}function mt(t){return t.substr(0,location.origin.length)===location.origin?t.substr(location.origin.length):t}function vt(t,e){var n=e.length;return t.substr(0,n)===e&&(!t[n]||"/"===t[n]||"/"===e[n-1])&&dt(t.slice(n))}var bt=n(860),yt=n(424),wt=u.css,xt=wt.parseCSS,St=wt.isCssUrlValue,At=wt.runCSSTransition,Pt=u.util,Ot=(Pt.domReady,Pt.tagName,Pt.isVisible),kt=Pt.matchSelector,Tt=(Pt.comparePosition,Pt.connected,Pt.containsOrEquals),Ct=(Pt.acceptNode,Pt.combineNodeFilters,Pt.iterateNode),It=(Pt.iterateNodeToArray,Pt.getCommonAncestor,Pt.parentsAndSelf,Pt.selectIncludeSelf),jt=Pt.selectClosestRelative,Et=Pt.createNodeIterator,Nt=(Pt.createTreeWalker,Pt.bind),Mt=Pt.bindUntil,Rt=Pt.dispatchDOMMouseEvent,Lt=(Pt.removeNode,Pt.getClass),$t=Pt.setClass,qt=(Pt.getScrollOffset,Pt.getScrollParent,Pt.getContentRect,Pt.scrollBy,Pt.scrollIntoView),Ut=(Pt.makeSelection,Pt.getRect),Vt=(Pt.getRects,Pt.toPlainRect,Pt.rectEquals,Pt.rectCovers,Pt.rectIntersects),Dt=(Pt.pointInRect,Pt.mergeRect,Pt.elementFromPoint,"brew/network-error"),Ft="brew/resource-error",zt="brew/api-error",Wt="brew/validation-failed",_t="brew/navigation-cancelled",Ht="brew/navigation-rejected",Bt={},Jt={};function Qt(t){var e={};return y(t.attributes,(function(t,n){e[n.name]=n.value})),e}function Gt(t,e,n){y(m(e)||P(e,n),(function(e,n){t.setAttribute(e,n)}))}function Kt(t,e){y(t.attributes,(function(t,n){e.setAttribute(n.name,n.value)}))}function Zt(t){return m(t)&&(t=q(t)),"["+t.join("],[")+"]"}function Xt(t){var e={};return y(t.elements,(function(n,r){if(r.name&&!(r.name in e)){var o=t.elements[r.name];W(e,r.name,(function(){return"checkbox"===o.type?o.checked:o.value}))}})),e}function Yt(t){return new RegExp("[?&]"+t+"=([^&]+)","i").test(location.search)&&decodeURIComponent(RegExp.$1)}function te(t){return new RegExp("(?:^|\\s|;)"+t+"=([^;]+)").test(document.cookie)&&RegExp.$1}function ee(t,e,n){return document.cookie=t+"="+e+";path=/"+(n?";expires="+new Date(Date.now()+n).toGMTString():""),e}function ne(t){document.cookie=t+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT"}function re(t,e){return{get:function(){return te(t)},set:function(n){return ee(t,n,e)},delete:function(){return ne(t)}}}function oe(t,e){var n="get post delete";if("string"==typeof t&&et(t,n))return oe(e=b({},"string"==typeof e?{baseUrl:e}:e,{methods:t}))[t];var r={baseUrl:(t=b({},t)).baseUrl,token:t.token};return y(t.methods||n,(function(e,o){et(o,n)&&(_(r,o,(function e(n,i){if(!r.baseUrl)return Q(r,"baseUrl",(function(){return e(n,i)}));var a={"Content-Type":"application/json"};return r.token&&(a.Authorization="Bearer "+r.token),bt.ajax({method:o,url:pt(r.baseUrl,n),headers:a,dataType:"json",data:JSON.stringify(i||{}),success:function(e){h(t.getTokenFromResponse)&&(r.token=t.getTokenFromResponse(e,r.token))}}).catch((function(t){if(0===t.status)throw $(Dt);var e=t.responseJSON;if(e)throw console.error(n+":",e.error||e.message),$(zt,e.error||e.message);throw $(zt,t.statusText)}))})),H(r[o],"baseUrl",r),H(r[o],"token",r))})),r}function ie(t){return bt.getJSON(ht(t))}function ae(t,e){return d(t)?t.reduce((function(t,n){return t.then((function(){return ae(n,e)}))}),rt()):(Jt[t]||(Jt[t]=new yt((function(n,r){var o=document.createElement("script");if((e=e||{}).nomodule){if("noModule"in o)return void n();o.setAttribute("nomodule","")}e.module&&o.setAttribute("type","module"),o.addEventListener("load",(function(){n({})})),o.addEventListener("error",(function(){r($(Ft))})),o.src=ht(t),document.head.appendChild(o)}))),Jt[t])}function ce(t,e){var n=document.createElement("link");n.rel="stylesheet",n.href=ht(t),e&&(n.media=e),document.head.appendChild(n)}function ue(t,e){if(!d(t)){var n={},r=function(t){St(t)&&(n[RegExp.$1||RegExp.$2||RegExp.$3]=!0)};Ct(Et(t,1),(function(t){kt(t,"img")&&t.src&&(n[t.src]=!0),r(getComputedStyle(t).backgroundImage),r(getComputedStyle(t,"::before").backgroundImage),r(getComputedStyle(t,"::after").backgroundImage)})),t=q(n)}var o=[],i=[];return t.forEach((function(t){o.push(Bt[t]||(Bt[t]=new yt((function(e){i.push(t),bt("<img>").on("load error",(function(){Bt[t]=!0,e()})).attr("src",t)}))))})),!o.length||o.every((function(t){return!0===t}))?rt():(i.length&&console.log("Preload image",{urls:i}),ut(at(U(Bt)),e,!0))}var le=u.dom,se=u.dom,fe=(se.textInputAllowed,se.beginDrag),pe=(se.beginPinchZoom,se.getShortcut,se.setShortcut,se.focusable),de=(se.focused,se.setModal),he=se.releaseModal,ge=se.retainFocus,me=(se.releaseFocus,se.iterateFocusPath,se.focus),ve=le,be={},ye={},we=new Map,xe=0;function Se(t,e,n,r){if(!n.length)return rt();var o,i,a,c=++xe;n=n.map((function(t){return t instanceof yt?ct(t):new yt((function(e){t.then(e,e)}))})),ct(at(n,(function(){clearTimeout(o),a(),we.delete(t),console.log("Animation #%i completed",c)}))),n.push(new yt((function(t,e){a=t,i=e}))),o=setTimeout((function(){i("Animation #"+c+" timed out"),console.log("Animation #%i might take longer than expected",c,n),we.delete(t)}),1500);var u=ct(at(n));return console.log("Animation #%i triggered on %s",c,r,{elements:e}),we.set(t,u),u}function Ae(t,e,n,r){var o=[At(t,e),ve.emit(n,t)],i=parseFloat(bt(t).css("transition-delay"));return y(r,(function(e,n){if(t.attributes[e]){var r=t.getAttribute(e);o.push(new yt((function(e,o){setTimeout((function(){at(n(t,r)).then(e,o)}),1e3*i)})))}})),at(o,(function(){return t}))}function Pe(t,e,n,r){if(we.has(t))return we.get(t).then((function(){return Pe(t,e,n,r)}));r=r||function(){return!0},ve.emit("animationstart",t,{animationType:"in",animationTrigger:e},!0);var o=n?bt(n,t):bt(),i="show"===e?':not([animate-on]), [animate-on~="'+e+'"]':'[animate-on~="'+e+'"]',a=[],c=[];return bt(It("[animate-in]",t)).filter(i).each((function(t,e){!o.find(e)[0]&&r(e)&&Ot(e)&&(a.push(e),c.push(Ae(e,"tweening-in","animatein",be)))})),bt(It("[animate-sequence]",t)).filter(i).each((function(t,e){if(!o.find(e)[0]&&r(e)&&Ot(e)){var n=e.getAttribute("animate-sequence")||"",i=e.getAttribute("animate-sequence-type")||"",u=bt(e).find(">"===n[0]?n:bt(n));void 0!==bt(e).attr("animate-sequence-reverse")&&[].reverse.apply(u),u.css("transition-duration","0s"),u.attr("animate-in",i).attr("is-animate-sequence",""),u.each((function(t,e){"inline"===bt(e).css("display")&&bt(e).css("display","inline-block"),a.push(e),c.push(new yt((function(n,r){setTimeout((function(){bt(e).css("transition-duration",""),Ae(e,"tweening-in","animatein",be).then(n,r)}),50*t)})))})),e.attributes["animate-in"]||bt(e).attr("animate-in","").addClass("tweening-in")}})),Se(t,a,c,e).then((function(){ve.emit("animationcomplete",t,{animationType:"in",animationTrigger:e},!0)}))}function Oe(t,e,n,r,o){r=r||function(){return!0},ve.emit("animationstart",t,{animationType:"out",animationTrigger:e},!0);var i=n?bt(n,t):bt(),a="show"===e?':not([animate-on]), [animate-on~="'+e+'"]':'[animate-on~="'+e+'"]',c=[],u=[];return bt((o?bt:It)("[animate-out]",t)).filter(a).each((function(t,e){!i.find(e)[0]&&r(e)&&(c.push(e),u.push(Ae(e,"tweening-out","animateout",ye)))})),Se(t,c,u,e).then((function(){var n=bt((o?bt:It)("[animate-out], .tweening-in, .tweening-out",t));"show"!==e&&(n=n.filter(a)),(n=n.filter((function(t,e){return r(e)}))).removeClass("tweening-in tweening-out"),n.find("[is-animate-sequence]").removeAttr("animate-in").removeClass("tweening-in tweening-out"),ve.emit("animationcomplete",t,{animationType:"out",animationTrigger:e},!0)}))}function ke(t,e){be[t]=L(e)}function Te(t,e){ye[t]=L(e)}var Ce=n(256),Ie={},je=u.dom,Ee=(je.lock,je.locked),Ne=je.cancelLock,Me=(je.notifyAsync,je.preventLeave),Re=u.dom,Le=(Re.observe,Re.registerCleanup),$e=(Re.createAutoCleanupMap,Re.afterDetached),qe=Re.watchElements,Ue=Re.watchAttributes;function Ve(t){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function De(t,e){return"["+t+"] "+(e=v(e).map((function(t){return p(t,Element)?(n=t).tagName.toLowerCase()+(n.id?"#"+n.id:n.className.trim()&&n.className.replace(/^\s*|\s+(?=\S)/g,"."))+":":t&&"object"===Ve(t)?(e=JSON.stringify(t),'[{"]'.indexOf(e[0])>=0&&e.length>200?e[0]+e.substr(1,199)+"…"+e[e.length-1]:e):t;var e,n})).join(" "))}function Fe(t,e,n){var r;try{console.groupCollapsed(De(t,e)),r=!0}catch(t){}try{n(console)}finally{if(r)try{console.groupEnd()}catch(t){}}}var ze,We=E(),_e=new Map,He={},Be=[],Je=ve.root,Qe=[Je],Ge=function(t){return t},Ke=function(t){return vt(t,st)||"/"},Ze=function(t){return pt(st,t)},Xe=Ge,Ye=Ge;function tn(t,e){var n=bt(t).closest("[match-path]")[0];return!n||(e||Qe).indexOf(n)>=0}function en(t,e,n){return t&&t.test||(t=rn(t)),d(e)||(e=nn(e)),t.test(e,n)}function nn(t){return"/"===(t=dt(t))?[]:t.slice(1).split("/")}function rn(t){if(t=String(t),!He[t]){var e,n=[],r={};t.replace(/\/(\*|[^{][^\/]*|\{([a.-z_$][a-z0-9_$]*)(\?)?(?::(?![*+?])((?:(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])([*+?]|\{\d+(?:,\d+)\})?)+))?\})(?=\/|$)/gi,(function(t,o,i,a,c){a&&!e&&(e=n.length),i&&(r[i]=n.length),n.push(i?{name:i,pattern:c?new RegExp("^"+c+"$","i"):/./}:o.toLowerCase())})),D(n,{value:t,params:r,exact:!("*"===n[n.length-1]&&n.splice(-1)),minLength:e||n.length,test:function(t,e){return t.length>=n.minLength&&(e||!n.exact||t.length<=n.length)&&!S(n,(function(e,n){return t[n]&&!(e.name?e.pattern.test(t[n]):Z(t[n],e))}))}}),He[t]=n}return He[t]}function on(t,e,n){return{route:t=t||[],params:k(n,["remainingSegments"]),minPath:dt(e.slice(0,t.minLength).join("/")),maxPath:dt(e.slice(0,t.length).join("/"))}}function an(t,e){return A(t,(function(t){if(A(t.params,(function(t,n){return null!==e[n]}))){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r].name;if(i&&!t[r].pattern.test(e[i]||"")){if(r<t.minLength||e[i])return!1;break}n[r]=i?e[i]:t[r]}return on(t,n,O(e,q(t.params)))}}))}function cn(t,e,n){var r=this,o={},i=We(r,{routes:e.map(rn),params:o,app:t});y(i.routes,(function(t,e){y(e.params,(function(t){o[t]=null}))})),b(r,o,r.parse(n)),i.current=i.lastMatch,i.handleChanges=J(r,!0),Object.preventExtensions(r),Object.getOwnPropertyNames(r).forEach((function(t){B(r,t)})),J(r,(function(){var e=k(r,["remainingSegments"]),n=i.current,o=n,a=!I(e,n.params);a&&i.lastMatch&&(n=i.lastMatch,i.lastMatch=null,a=!I(e,n.params)),a&&(n=an(i.routes,e)||o),i.current=n,n.route.exact&&(r.remainingSegments="/"),r.set(b({},i.params,n.params)),n!==o&&(t.path=Xe(pt(n.maxPath,r.remainingSegments)))}))}F(cn,{parse:function(t){var e=We(this),n=nn(Ye(t)),r=S(e.routes,(function(t){return en(t,n,!0)})),o={};if(r){for(var i in e.params)o[i]=n[r.params[i]]||null;o.remainingSegments=r.exact?"/":dt(n.slice(r.length).join("/"))}return e.lastMatch=on(r,n,o),o},set:function(t){var e=this;if("string"==typeof t){if(Z(t,e.toString()))return;t=e.parse(t)}We(e).handleChanges((function(){b(e,t)}))},replace:function(t,e){var n=this,r=n.getPath(b(n,m(t)||P(t,e)));return We(n).app.navigate(r,!0)},getPath:function(t){var e=an(We(this).routes,t);return Xe(e?pt(e.maxPath||"/",e.route.exact?"/":t.remainingSegments):"/")},toJSON:function(){return b({},this)},toString:function(){return Xe(pt(We(this).current.maxPath||"/",this.remainingSegments))}}),G(cn.prototype),He["/*"]={value:"/*",exact:!1,length:0,minLength:0,params:{},test:function(){return!0}};Jn("router",(function(t,e){var n,r,o,i=t.path||e.initialPath||e.queryParam&&Yt(e.queryParam)||location.pathname.substr(e.baseUrl.length)||"/",a=new cn(t,e.routes,i),c="",u={},l={},f=-1,p=[];function d(t,e,n,r){return Object.freeze({id:t,path:e,navigated:!1!==r,redirected:!!n,originalPath:n||null})}function h(t,e){for(var n=f;n>=0;n--)if(p[n].result&&p[n].path===t)return history.replaceState(history.state,"",Ze(t)),d(p[n].result,t,e,!1)}function g(e,n){var i=p[f];if(e=v(e),i&&e===i.path&&e===r)return i.result?{promise:rt(h(e))}:i;n=n||f<0,f=Math.max(0,f+!n);var a,c,u=X(),l=s,g=s,m=p.splice(f),b={id:u,path:e,result:"",previous:i,get promise(){return a||(a=new Promise((function(t,e){var n=function(t){return function(e){c=!0,t(e)}};c=!1,l=n(t),g=n(e)})))},reset:function(){return c&&(a=null),b},forward:function(t){a&&!c&&((t.promise||t.then((function(t){return t.promise}))).then((function(t){b.resolve(d(t.id,t.path,e))}),g),g=s)},resolve:function(t){t=t||d(u,e),b.path=t.path,b.result=b.result||t.id,o=t,l(t),y(p,(function(t,e){e.reject()}))},reject:function(){g($(_t))}};return p[f]=b,history[n?"replaceState":"pushState"](u,"",Ze(e)),t.path=e,m[0]&&(n&&!m[1]?m[0].forward(b):M((function(){y(m,(function(t,e){e.reject()}))}))),b}function m(){return history.back(),--f}function v(e,n,r){var o;if(e=decodeURI(e)||"/",n=n||t.path,"~"===e[0]||e.indexOf("{")>=0){var i=(r?Xe:Ge)(n);o=Z(i,a.toString())?We(a).current:a.parse(i)&&We(a).lastMatch,e=e.replace(/\{([^}?]+)(\??)\}/g,(function(t,n,r,i){return o.params[n]||(r&&i+t.length===e.length?"":"null")}))}return"~"===e[0]?e=(r?Ge:Xe)(pt(o.minPath,e.slice(1))):"/"!==e[0]&&(e=pt(n,e)),dt(e,!0)}function w(t){bt("[match-path]",t).each((function(t,e){if(!_e.has(e)){var n=document.createElement("div");n.setAttribute("style","display: none !important"),n.setAttribute("match-path",e.getAttribute("match-path")||""),e.attributes.default&&n.setAttribute("default",""),bt(e).before(n),bt(e).detach(),$t(e,"hidden",!0),_e.set(n,e),_e.set(e,e)}}))}function x(e,n,r){var o=p[f],i=new Map,a=ve.eventSource,c=Qe.slice(0);Qe=r,ze=bt(r).filter("[page-title]")[0],l={},document.title=ze?ar(ze,"page-title",!0):document.title,In(!0,(function(){Fe(a,["pageenter",e],(function(){_e.forEach((function(r,o){var u=Qe.indexOf(r)>=0;if(r!==o&&u===c.indexOf(r)<0)if(u){rr(r,!1),er(r);var l=i.get(bt(r).parents("[match-path]")[0]),s=nn(r.getAttribute("match-path")),f=Be.map((function(t){if(en(t.route,s))return t.callback(r,e)}));f.push(l),i.set(r,at(f,(function(){Qe.indexOf(r)>=0&&($t(r,"hidden",!1),Pe(r,"show","[match-path]"),t.emit("pageenter",r,{pathname:e},!0))})))}else t.emit("pageleave",r,{pathname:n},!0),Oe(r,"show","[match-path]").then((function(){Qe.indexOf(r)<0&&Fe(a,["pageleave",n],(function(){$t(r,"hidden",!0),rr(r,!0)}))}))}))})),y(i,(function(t,e){kn(e,t)})),it(at(i),(function(){o.resolve()}))}))}function S(){var e=p[f];if(e&&location.pathname===Ze(r)||(g(r),e=p[f]),f>0&&r===c)e.resolve(h(r));else{var i=e.previous,u=r,s=Ee(Je,!0)?Ne(Je):En();if(s)return n=r===n?null:c,s=rt(s).then((function(){var t=g(u);return R(S),t}),(function(){throw $(Ht)})),p[f-1]===i?m():(p[f]=i,history.replaceState(i.id,"",Ze(i.path))),void e.forward(s);n=null;var d,P=[Je],O=c;w(),In(!0,(function(){for(var t,e=Ye(r),n=bt('[switch=""]').get();t=n.shift();)if(tn(t,P)){var o=bt(t).children("[match-path]").get().map((function(t){var n=T(_e,t)||t,r=bt('[switch=""]',n).get(),o=v(n.getAttribute("match-path"),e,!0);return{element:n,path:o.replace(/\/\*$/,""),exact:!r[0]&&"/*"!==o.slice(-2),placeholder:t!==n&&t,children:r}}));o.sort((function(t,e){return e.path.localeCompare(t.path)}));var i=A(o,(function(t){return(t.exact?e===t.path:vt(e,t.path))&&t.path}));y(o,(function(t,e){if(e.path===i){var r=e.element;P.unshift(r),e.placeholder&&(bt(e.placeholder).replaceWith(r),Tn(r),jn(r),n.push.apply(n,e.children))}}))}})),l[r]&&l[O]?x(r,O,P):(l[r]=!0,bt('[switch=""]').each((function(t,e){if(tn(e,P)){var n=bt(e).children("[match-path]");if(!n.filter((function(t,e){return P.indexOf(e)>=0}))[0])return d=Xe((n.filter("[default]")[0]||n[0]).getAttribute("match-path")),!1}})),d&&d!==r?d===c?e.resolve(h(d,r)):e.forward(g(d,!0)):(console.log("Nagivate",r),c=r,t.path=r,a.set(r),kn(s=rt(t.emit("navigate",{pathname:r,oldPathname:O,oldStateId:o&&o.id,newStateId:e.id,route:Object.freeze(b({},a))})),Je,(function(){p[f]===e&&x(r,O,P)}))))}}J(u,!0),B(u,"path","",(function(t){return $n?((t=v(t,c))!==c&&t!==r&&(r=t,R(S)),c):c})),ft(e.baseUrl||""),"/"===st?(Ke=Ge,Ze=Ge):e.explicitBaseUrl&&(Xe=Ze,Ye=Ke,Ke=Ge,Ze=Ge,vt(i,st)||(i=st)),t.define({get canNavigateBack(){return f>0},get previousPath(){return(p[f-1]||"").path||null},resolvePath:v,navigate:function(t,e){return g(t,e).promise},back:function(t){return f>0?p[m()].reset().promise:!!t&&g(t).promise}}),z(t,"initialPath",i,!0),z(t,"route",a,!0),H(t,"path",u),t.beforeInit((function(){ve.ready.then((function(){w(),Nt(window,"popstate",(function(){var t=A(p,(function(t,e){return t.id===history.state&&e+1}));t?(r=p[f=t-1].reset().path,R(S)):g(Ke(location.pathname))}))}))})),t.on("ready",(function(){g(i,!0)})),t.on("pageenter",(function(t){bt(It("[x-autoplay]",t.target)).each((function(t,e){tn(e)&&(0!==e.readyState&&(e.currentTime=0),e.play())}))})),t.on("pageleave",(function(e){bt(It("form",e.target)).each((function(e,n){t.emit("reset",n,null,!1)||n.reset()})),bt(It("[x-autoplay]",e.target)).each((function(t,e){e.pause()}))})),t.on("statechange",(function(t){Tt(t.target,ze)&&(document.title=ar(ze,"page-title",!0))})),qe(Je,"video[autoplay], audio[autoplay]",(function(t){bt(t).attr("x-autoplay","").removeAttr("autoplay")}),!0)}));var un="background-image".split(" "),ln="checked selected disabled readonly multiple ismap",sn=E(),fn=ve.root,pn=new Set,dn=new Map,hn=[],gn=[],mn=[],vn={},bn={},yn={},wn=0,xn=!1;function Sn(t,e){var n=sn(e)||sn(e,{});return n[t]||(n[t]={})}function An(t,e,n){y(e,(function(e,n){"$$class"===e?$t(t,n):"$$text"===e?t.textContent=n:"style"===e?bt(t).css(n):et(e,ln)?t[e]=!!n:t.setAttribute(e,n)})),n||ve.emit("domchange",t)}function Pn(t,e){y(e,(function(e,n){t[e]="$$class"===e||"style"===e?b({},t[e],n):n}))}function On(t,e){var n,r=new Set;do{t=x(v(t),(function(t){return Tt(fn,t)})),n=v(r),bt(It(Zt(vn),t)).not(n).each((function(t,n){y(vn,(function(t,o){n.attributes[t]&&(o(n,Sn.bind(0,t),e),r.add(n))}))}))}while(n.length!==r.size)}function kn(t,e,n){if(!g(t))return rt((n||s)());if(e||"script"!==ve.eventSource){var r=tr("loading",(e=e||ve.activeElement)||fn),o=tr("error",e||fn),i=Sn("handleAsync",r);er(r,{loading:or(r,"loading")||!0}),er(o,{error:null}),i.value=(i.value||0)+1,t.then((function(){er(r,{loading:!!--i.value})}),(function(t){er(r,{loading:!!--i.value}),er(o,{error:""+(t.message||t)})}))}return t.then(n||null)}function Tn(t){pn.add(t)}function Cn(t){if(!wn&&!xn){var e=new Map,n=new Map,r=function(t,e){Pn(T(n,t,Object),e)};xn=!0;try{Fe(ve.eventSource,"statechange",(function(){On(pn,r);var t=bt.uniqueSort(x(pn,(function(t){return Tt(fn,t)&&pn.delete(t)})));y(t,(function(t,n){var r=Sn("oldValues",n),o={},i={};for(y(or(n,!0),(function(t,e){r[t]!==e&&(o[t]=r[t],i[t]=e,r[t]=e)})),e.set(n,{oldValues:o,newValues:i});n=n.parentNode;){var a=e.get(n);if(a)for(var c in a.newValues)c in i||(i[c]=a.newValues[c],o[c]=a.oldValues[c])}}));var n=[];y(t.reverse(),(function(t,o){Fe("statechange",[o,e.get(o).newValues],(function(t){t.log(o===fn?document:o),bt(It(Zt(bn),o)).not(n).each((function(t,e){y(bn,(function(t,n){e.attributes[t]&&n(e,Sn.bind(0,t),r)})),n.push(e)}))}))}))})),at(hn.map((function(t){return t(n)}))).then((function(){var r=new Map;y(n,(function(n,o){if(t)dn.has(n)?Pn(dn.get(n),o):An(n,o);else{var i=bt(n).filter("[match-path]")[0]||bt(n).parents("[match-path]")[0]||fn,a=r.get(i);if(!a){var c=function(t){var n,r=t.getAttribute("animate-on-statechange");if(!r)return!0;for(;t&&!(n=e.get(t));t=t.parentNode);return n&&S(r,(function(t){return t in n.newValues}))};a=[],M((function(){Oe(i,"statechange","[match-path]",c,!0).then((function(){y(a,(function(t,e){An(e,C(dn,e))})),Pe(i,"statechange","[match-path]",c)}))})),r.set(i,a)}Pn(T(dn,n,Object),o),a.push(n)}})),y(e,(function(t,e){ve.emit("statechange",t,{data:or(t),newValues:e.newValues,oldValues:e.oldValues},!0)}))}))}finally{xn=!1}}}function In(t,e){var n=!0;try{wn=(wn||0)+1,L(e||t)()}catch(t){throw n=!1,t}finally{!--wn&&n&&Cn(!0===t)}}function jn(t){var e=xn;xn=!0;try{On(t,(function(t,e){An(t,e,!0)}))}finally{xn=e}for(var n=[t],r=t===fn,o=-1,i=0;o<mn.length;)y(mn.slice(o<0?0:o),(function(e,r){bt(It(r.target,t)).each((function(t,e){r.unbindHandlers.push(Ln.on(e,r.handlers)),r.handlers.mounted&&n.indexOf(e)<0&&n.push(e)}))})),o=mn.length,y(bt.uniqueSort(n.slice(i)),(function(t,e){ve.emit("mounted",e)})),r||(r=!0,ve.emit("mounted",fn,{target:t})),i=n.length;y(gn,(function(e,n){bt(It(n.selector,t)).each((function(t,e){n.handler.call(e,e)}))}))}function En(t){var e=S(bt("[prevent-leave]").get(),(function(t){var e=Sn("preventLeave",t),n=e.allowLeave;if(tn(t)||n){var r=ar(t,"prevent-leave");return!r&&n&&delete e.allowLeave,r&&!n}}));return e&&!t?at(ve.emit("preventLeave",e,null,!0),(function(t){if(!t)throw $(Ht);Sn("preventLeave",e).allowLeave=!0})):!!e}function Nn(t,e){yn[t]=bt(e)[0]}function Mn(t,e){vn[t]=L(e)}function Rn(t,e){bn[t]=L(e)}Mn("apply-template",(function(t,e){var n=e(t),r=t.getAttribute("apply-template"),o=yn[r]||yn[ar(t,"apply-template")],i=n.template;if(n.attributes||b(n,{attributes:Qt(t),childNodes:v(t.childNodes)}),o&&o!==i){n.template=o,o=o.cloneNode(!0),i&&y(i.attributes,(function(e,n){t.removeAttribute(n.name)})),Gt(t,n.attributes),Kt(o,t);var a=bt(n.childNodes).detach();bt(It("content:not([for])",o)).replaceWith(a),bt(It("content[for]",o)).each((function(t,e){bt(e).replaceWith(a.filter(e.getAttribute("for")||""))})),bt(t).empty().append(o.childNodes)}})),Mn("auto-var",(function(t){er(t,ar(t,"auto-var"))})),Mn("foreach",(function(t,e){var n=e(t),r=n.template||(n.template=bt(t).contents().detach().filter((function(t,e){return 1===e.nodeType||/\S/.test(e.data||"")})).get()),o=n.nodes||[],i=n.data||[],a=v(ar(t,"foreach"));if(a.length!==i.length||a.some((function(t,e){return i[e]!==t}))){var c=w(a,(function(n){var a=i.indexOf(n);if(a>=0)return i.splice(a,1),o.splice(a*r.length,(a+1)*r.length);var c=bt(r).clone().get(),u=bt(It("[foreach]",c));return u[0]&&bt(It("[foreach]",r)).each((function(t,n){e(u[t]).template=e(n).template})),y(c,(function(e,r){1===r.nodeType&&(bt(t).append(r),nr(r,{foreach:n}),jn(r))})),c}));b(n,{nodes:c,data:a.slice()}),bt(o).detach(),bt(t).append(c)}})),Mn("switch",(function(t,e,n){var r=t.getAttribute("switch")||"";if(tn(t)&&r){var o=e(t);void 0===o.matched&&nr(t,"matched",(function(){return o.matched&&or(o.matched,!0)}));var i,a,c,u=or(t),l=Ce.eval(r,u),s=bt("[match-"+r+"]",t).filter((function(e,n){return bt(n).parents("[switch]")[0]===t})),f=!et("switch",t.getAttribute("keep-child-state")||""),p=o.matched,d=new Map;s.each((function(t,e){var n=Ce.eval('"null" ?? '+e.getAttribute("match-"+r),or(e));if(d.set(e,n),Ce.eval("$0 == $1",[l,n]))return i=e,!1})),i=i||s.filter("[default]")[0]||s[0]||null,p!==i?Fe("switch",[t,r,"→",l],(function(t){t.log("Matched: ",i||"(none)"),i&&(f&&rr(i),er(i)),p&&f&&rr(p,!0),s.each((function(t,e){n(e,{$$class:{active:e===i}})}))})):(a="switch",c=[t,r,"→",l,"(unchanged)"],console.log(De(a,c)),r in u&&void 0!==d.get(i)&&er(t,r,d.get(i))),o.matched=i}})),Rn("template",(function(t,e,n){var r=e(t),o=r.templates;o||(o={},y(t.attributes,(function(t,e){e.value.indexOf("{{")>=0&&(o[e.name]=et(e.name,ln)?e.value.replace(/^{{|}}$/g,""):e.value)})),!t.childElementCount&&(t.textContent||"").indexOf("{{")>=0&&(o.$$text=t.textContent),r.templates=o);var i=or(t),a={};y(o,(function(e,n){var r=ir(n,i,t,e,!et(e,ln));("$$text"===e?t.textContent:(t.getAttribute(e)||"").replace(/["']/g,""))!==r&&(a[e]=r)})),n(t,a)})),Rn("set-style",(function(t,e,n){var r=xt(ar(t,"set-style",!0));y(un,(function(t,e){var n=St(r[e]);n&&(r[e]='url("'+ht(mt(n))+'")')})),n(t,{style:r})})),Rn("set-class",(function(t,e,n){n(t,{$$class:ar(t,"set-class")})}));var Ln,$n,qn,Un=E(),Vn=ve.root,Dn={};function Fn(t){return at(t.splice(0),(function(){return t.length&&Fn(t)}))}function zn(t){return function(e){if(e.target===e.context)return t.apply(this,arguments)}}function Wn(t){var e=t.target;bt(It('img[src^="/"], video[src^="/"]',e)).each((function(t,e){e.src=ht(e.getAttribute("src"))})),bt(It('a[href^="/"]',e)).each((function(t,e){e.href=ht(e.getAttribute("href"))})),bt(It("[data-src]",e)).each((function(t,e){e.src=ht(e.dataset.src),e.removeAttribute("data-src")})),bt(It("[data-bg-src]",e)).each((function(t,e){e.style.backgroundImage='url("'+ht(e.dataset.bgSrc)+'")',e.removeAttribute("data-bg-src")})),bt(It("form",e)).on("submit",(function(t){t.preventDefault()}))}function _n(){var t=this;Un(t,{init:[],options:{}}),z(t,"element",Vn,!0),z(t,"ready",new Promise((function(e){t.on("ready",e.bind(0,t))})),!0),t.on("mounted",Wn)}function Hn(){if(qn)throw new Error("brew() can only be called once");return Ln=new _n,y(Ie,(function(t,e){var n=e&&h(Ln[Y("use-"+t)]);n&&n.call(Ln,e)})),y(arguments,(function(t,e){L(e)(Ln)})),qn=!0,er(Vn,{loading:"initial"}),kn(at([ve.ready,Fn(Un(Ln).init)],(function(){$n=!0,jn(Vn),Ln.emit("ready")})),Vn),Ln}function Bn(t,e){L(e),F(_n,P(Y("use-"+t),(function(n){var r=Un(this);r.options[t]=b(r.options[t]||{},n),e(this,r.options[t])})))}function Jn(t,e,n){return!0===t?function(t){n(t,{})}:Bn.bind(0,t,e)}F(_n,{emit:function(t,e,n,r){return p(e,Node)||(r=n,n=e,e=this.element),ve.emit(t,e,n,r)},define:function(t){D(this,t)},beforeInit:function(t){h(t)&&(t=t.call(this)),Un(this).init.push(t)},detect:function(t,e){var n=this,r={};y(t,(function(t,e){Dn[e]&&(r[e]=h(Dn[e])?Dn[e]=at(Dn[e]()).catch((function(t){return console.warn("Detection for "+e+" has thrown exception:",t),!1})):Dn[e])})),this.beforeInit(at(r,(function(t){return t=Object.freeze(b({},n.supports,t)),D(n,{supports:t}),h(e)&&e(t)})))},when:function(t,e){this.beforeInit(at(t,(function(t){if(t)return e()})))},on:function(t,e,n,r){r=!0===(r||n),h(e)&&(n=e,e=t,t=Vn);var o=e;if("string"==typeof e)r&&(n=zn(n)),e.indexOf(" ")>=0?(o={},y(e,(function(t,e){o[e]=n}))):o=P(e,n);else if(r)for(var i in e)e[i]=zn(e[i]);var a=[];return"string"==typeof t?(!function(t,e,n){mn.push({target:t,handlers:e,unbindHandlers:n})}(t,o,a),t=bt(t).get()):t instanceof Node&&(t=[t]),y(t,(function(t,e){a.push(ve.on(e,o))})),j(a)},matchPath:function(t,e,n){h(e)&&(n=e,e=null),this.on("mounted",(function(r){var o=r.target.getAttribute("match-path");o&&en(t,o)&&(!e||bt(r.target).is(e))&&n.call(r.target,r.target)}))},matchElement:function(t,e){gn.push({selector:t,handler:e})},matchRoute:en,beforeUpdate:function(t){hn.push(L(t))},beforePageEnter:function(t,e){h(t)&&(e=t,t="/*"),Be.push({route:rn(t),callback:L(e)})}}),G(_n.prototype);u.TraversableNode,u.TraversableNodeTree,u.InheritedNode;var Qn=u.InheritedNodeTree,Gn=(u.TreeWalker,ve.root),Kn={var:!0,"auto-var":!0,"error-scope":{error:null}},Zn=new Qn(Gn,(function(){var t=this,e=t.element;y(e.dataset,(function(e,n){z(t,e,Ce.eval("`"+tt(n||"null")))})),y(Xn(e,!0,t),(function(e,n){z(t,e,n)})),e===Gn&&(t.loading=null,t.error=null)}),{selector:Zt(Kn)});function Xn(t,e,n){var r={};return y(Kn,(function(o,i){if(t.attributes[o]){if(!0===i&&(i=ar(t,o,!1,n),!m(i)))return;for(var a in i)r[a]=void 0===i[a]||e?null:i[a]}})),r}function Yn(t,e){e=e||Gn;for(var n=Zn.getNode(e);null!==n;n=Object.getPrototypeOf(n))if(V(n,t))return n;return console.warn("Undeclared state: %s",t,{element:e}),Zn.setNode(e)}function tr(t,e){return Yn(t,e).element}function er(t,e,n){var r=e&&(m(e)||P(e,n)),o=!1;if("string"==typeof t)In((function(){bt(t).each((function(t,e){o|=er(e,r)}))}));else{var i=Zn.setNode(t);y(r||ar(t,"set-var"),(function(e,n){if(i[e]!==n){var r=Yn(e,t);r[e]=n,o=!0,Tn(r.element)}})),o&&$n&&R(Cn)}return!!o}function nr(t,e,n){var r=m(e)||P(e,n),o=Zn.setNode(t),i={};for(var a in r)h(r[a])?W(o,a,r[a],s):(z(o,a,o[a]),i[a]=r[a]);return er(t,i)}function rr(t,e){In((function(){y(Zn.descendants(t),(function(t,n){er(n.element,Xn(n.element,e))}))}))}function or(t,e){var n=function(t){for(var e in t.dataset)return!0}(t)?Zn.setNode(t):Zn.getNode(t)||{};if(!0!==e)return e?n[e]:b({},n);if(n.element!==t)return{};var r=Object.getOwnPropertyNames(n);return r.splice(r.indexOf("element"),1),O(n,r)}function ir(t,e,n,r,o){var i={globals:{app:Ln}};return o?nt(Ce(t,b({},e),i)):Ce.eval(t,b({},e),i)}function ar(t,e,n,r){var o=t.getAttribute(e);return o?ir(o,r||or(t),0,0,n):n?"":null}Zn.on("update",(function(t){y(t.updatedNodes,(function(t,e){Tn(e.element)}))}));var cr=new Map,ur=new Map,lr={};function sr(t,e){lr[t]=L(e)}function fr(t,e){var n=bt(t||"[is-flyout].open").get();return at(n.map((function(t){var n=cr.get(t);return n&&(cr.delete(t),he(t),n.resolve(e),n.source&&$t(n.source,"target-opened",!1)),ct(t.attributes["animate-out"]?($t(t,"closing",!0),Oe(t,"open")):At(t,"closing")).then((function(){$t(t,{open:!1,closing:!1})}))})))}function pr(t,e,n,r){var o=n||ve.root,i=t?jt(t,o):bt(o).closest("[is-flyout]")[0];if(!i)return ot();var a,c=cr.get(i);if(c)return r?fr(i,n&&Ce.eval("`"+n.value)):c.path=Ln.path,c.promise;var u=new yt((function(t){a=t}));cr.set(i,{source:n,promise:u,resolve:a,path:Ln.path}),n&&($t(n,"target-opened",!0),ge(i,n)),e&&er(i,e),At(i,"open",(function(){me(i)})),Pe(i,"open"),i.attributes["is-modal"]&&(Me(i,u),de(i));var l=function(t){"focusout"!==t.type&&t.data!==Y("swipe-"+i.getAttribute("swipe-dismiss"))||(fr(i),ve.event&&ve.event.preventDefault(),t.handled())};return it(u,ve.on(i,{focusout:l,gesture:l})),u}sr("validate",(function(t){var e=jt(this.getAttribute("validate")||"",t.target);if(e){var n=ve.emit("validate",e)||!e.checkValidity||e.checkValidity();if(n){if(g(n))return n.then((function(t){if(!t)throw $(Wt)}))}else t.stopImmediatePropagation(),t.preventDefault()}})),sr("context-method",(function(t){var e=t.currentTarget,n=Y(e.getAttribute("context-method")||"");if(h(Ln[n])){var r,o=e.getAttribute("context-form"),i=o?jt(o,e):e.form,a=!0;return i?(a=ve.emit("validate",i)||i.checkValidity(),r=[Xt(i)]):r=v(ar(e,"method-args")),at(a,(function(t){if(!t)throw $(Wt);return Ln[n].apply(Ln,r)}))}})),ve.ready.then((function(){Ln.on("mounted",(function(t){bt(It(Zt(lr),t.target)).attr("async-action","")})),Ln.on("navigate",(function(){setTimeout((function(){cr.forEach((function(t,e){t.path!==Ln.path&&fr(e)}))}))})),bt("body").on("click","[disabled], .disabled, :disabled",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),bt("body").on("click","[async-action]",(function(t){var e=t.currentTarget,n=T(ur,e,Array),r=null;if(y(lr,(function(t,o){if(e.attributes[t]&&n.indexOf(o)<0)return r=o,!1})),r){n.push(r);var o=r.call(e,t);g(o)&&!t.isImmediatePropagationStopped()&&(t.stopImmediatePropagation(),t.preventDefault(),kn(o).then((function(){Rt(t)}),(function(t){ur.delete(e),console.warn("Action threw an error:",t)})))}else ur.delete(e)})),bt("body").on("click","a[href]:not([rel]), [data-href]",(function(t){if(!t.isDefaultPrevented()){var e=t.currentTarget,n=e.getAttribute("data-href")||e.getAttribute("href");if(t.preventDefault(),t.stopPropagation(),"_blank"===e.getAttribute("target"))window.open(n,X());else{var r=function(){!("navigate"in Ln)||/^([a-z0-9]+:|\/\/)/.test(n)?location.href=n:Ln.navigate(n)},o=bt(e).closest("[is-modal]")[0];o?(pr(o).then(r),fr(o)):(r(),fr())}}})),bt("body").on("click","[set-var]:not([match-path])",(function(t){var e=t.currentTarget;e===bt(t.target).closest("[set-var]")[0]&&(er(e),fr())})),bt("body").on("click","[toggle]",(function(t){var e=t.currentTarget;t.stopPropagation(),e.attributes["toggle-if"]&&!ar(e,"toggle-if")||pr(e.getAttribute("toggle"),null,e,!0)})),bt("body").on("click","[toggle-class]",(function(t){var e=t.currentTarget;if(t.stopPropagation(),!e.attributes["toggle-if"]||ar(e,"toggle-if")){var n=e.getAttribute("toggle-class-for"),r=n?jt(n,e):t.currentTarget;y(e.getAttribute("toggle-class"),(function(t,e){$t(r,e.slice(1),"+"===e[0])}))}}))})),ve.ready.then((function(){bt("[brew-template]").each((function(t,e){Nn(e.getAttribute("brew-template")||"",e.cloneNode(!0))})),bt("apply-attributes").each((function(t,e){var n=bt(e.getAttribute("elements")||"",e.parentNode||ve.root);y(e.attributes,(function(t,e){"elements"!==e.name&&n.each((function(t,n){n.setAttribute(e.name,e.value)}))}))})).remove(),bt("[style]").each((function(t,e){var n=St(e.style.backgroundImage);n&&(e.setAttribute("data-bg-src",decodeURIComponent(ht(mt(n)))),e.style.backgroundImage="none")})),window.onbeforeunload=function(t){En(!0)&&(t.returnValue="",t.preventDefault())}}));function dr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dr(Object(n),!0).forEach((function(e){gr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mr=hr(hr(hr(hr(hr({ErrorCode:o,defaults:Ie},i),r),a),c),{},{getVar:or,setVar:er,declareVar:nr,evalAttr:ar,isElementActive:tn,handleAsync:kn,preventLeave:En,install:Bn,addDetect:function(t,e){Dn[t]=L(e)},addExtension:Jn,addTemplate:Nn,with:function(){var t=this.bind.apply(Hn,[0].concat(w(arguments,(function(t){return m(t)?function(e){D(e,t)}:h(t)||s}))));return D(t,mr),t}});D(Hn,mr);var vr=Hn,br=Jn("config",(function(t,e){var n=G();D(t,{config:n}),t.beforeInit(ie(e.path).catch(h(e.fallback)||null).then((function(t){b(n,t),e.freeze&&K(n)})))})),yr=Jn(!0,"formVar",(function(t){t.matchElement("form[form-var]",(function(e){var n=e.getAttribute("form-var"),r={},o=function(t){if(t&&(r=Xt(e)),n){var o=or(e,n)||{};I(r,O(o,q(r)))||er(e,n,b({},o,r))}else er(e,r)};Ue(e,"value",(function(){R(o)})),qe(e,":input",(function(t){y(t,(function(t,n){var r=$e(n,e);Mt(r,n,"change input",(function(){R(o)})),r.then(o.bind(null,!0))})),o(!0)}),!0),t.on(e,"reset",(function(){return n?tn(tr(n,e))||e.reset():y(e.elements,(function(t,n){tn(tr(n.name,e))||(n.value=null)})),!0}))})),t.on("pageenter",(function(t){bt(It("form[form-var]",t.target)).each((function(t,e){bt(":input:eq(0)",e).trigger("change")}))}))}));function wr(t){if(t){var e={};return y(t,(function(t,n){var r=n.toLowerCase();e[r]=n,r.indexOf("-")>0&&(e[r.split("-")[0]]=n)})),e}}function xr(t,e){return t&&e?t[e.toLowerCase()]:e}function Sr(t,e){var n=navigator.languages||[navigator.language||""];return t?(n=wr(n),d(t)&&(t=wr(t)),A(n,(function(e,n){return t[n]}))||e||q(t)[0]):n[0]}var Ar=Jn("i18n",(function(t,e){var n=wr(e.languages),r=t.route&&e.routeParam,o=e.cookie&&re(e.cookie,864e5),i=xr(n,r&&t.route[r])||xr(n,o&&o.get())||Sr(n,e.defaultLanguage),a=function(e){t.language=e};B(t,"language",i,(function(a){return a=xr(n,a)||i,o&&o.set(a),r&&t.route.replace(r,a.toLowerCase()),i!==a&&(i=a,e.reloadOnChange&&location.reload()),i})),t.define({setLanguage:a,detectLanguage:Sr}),r&&(t.route.watch(r,a),t.on("ready",(function(){t.route.replace(r,i.toLowerCase())})))})),Pr=Jn("login",(function(t,e){var n=re((e=b({loginPagePath:"",defaultRedirectPath:"",cookie:"",expiry:0,logout:null,login:null,tokenLogin:null,getTokenFromResponse:null},e)).cookie,e.expiry),r=B(t,"loggedIn",!1,!0);function o(o){r(!0),h(e.getTokenFromResponse)&&n.set(e.getTokenFromResponse(o)),t.emit("login",{data:o})}var i=t.initialPath,a=n.get();a&&h(e.tokenLogin)&&t.beforeInit(ct(at(e.tokenLogin(a),o))),t.define({login:function(n,a,c){return c=h(c||a),a="string"==typeof a&&a,at(e.login(n)).then((function(t){return o(t),c&&c()}),(function(t){throw r(!1),t.status>=500?"server-error":"incorrect-cred"})).then((function(){i===t.resolvePath(e.loginPagePath)&&(i=""),t.navigate(a||i||e.defaultRedirectPath),i=""}))},logout:function(o,i){return t.loggedIn?(i=h(i||o),o="string"==typeof o&&o,rt(En()).then((function(){return e.logout()})).then((function(){return r(!1),n.delete(),t.emit("logout"),i&&i()})).then((function(){t.navigate(o||e.loginPagePath)}))):rt()}}),t.on("navigate",(function(n){var r=t.resolvePath(e.loginPagePath);f(t.loggedIn,n.pathname!==r)&&(t.loggedIn?t.navigate(e.defaultRedirectPath):(i=n.pathname,t.navigate(r)))}))})),Or="background-image".split(" ");Ie.preloadImage=!0;var kr=Jn("preloadImage",(function(t){t.beforeUpdate((function(t){var e={};return y(t,(function(t,n){(n.src||n.style)&&tn(t)&&(n.src&&(e[gt(n.src)]=!0),n.style&&y(Or,(function(t,r){var o=St(n.style[r]);o&&(e[gt(o)]=!0)})))})),ue(q(e),200)})),t.beforePageEnter((function(t){return ue(t,1e3)}))})),Tr=Jn("scrollable",(function(t,e){e=b({bounce:!1},e);var n=window.DOMMatrix||window.WebKitCSSMatrix||window.MSCSSMatrix,r=E(),o=0;function i(t){return r(t)||r(t,{childClass:"scrollable-target-"+ ++o})}function a(){bt("[scrollable]:visible").scrollable("refresh")}function c(){bt('[animate-on~="scroll-into-view"]:visible').each((function(t,e){var r=new n(getComputedStyle(e).transform),o=Ut(ve.root),i=Ut(e),a=Vt(o,i.translate(-r.e||0,0))||Vt(o,i.translate(0,-r.f||0));a^Lt(e,"tweening-in")&&(a||e.attributes["animate-out"])&&(a?Pe:Oe)(e,"scroll-into-view")}))}t.on("ready",(function(){qe(ve.root,Zt(["scrollable","scrollable-target"]),(function(n){bt(n).filter("[scrollable-target]").each((function(t,e){var n=bt(e).closest("[scrollable]")[0];bt(e).addClass(i(n).childClass)})),bt(n).filter("[scrollable]").each((function(n,r){!function(n){var r,o,a=n.getAttribute("scrollable"),c=n.getAttribute("scroller-snap-page")||"",u=n.getAttribute("scroller-state")||"",l=n.getAttribute("scroller-page")||"",s=n.hasAttribute("persist-scroll"),f={},p=!1,d=!1;function h(t){return l&&bt(l,n).get()[t]}function g(t){if(u){var e={};e[u]=t,er(n,e)}}function m(t,e){var o=h(t);e=e||"center top",!p&&Ot(n)&&o&&(p=!0,r=!0,g(t),bt(n).scrollable("scrollToElement",o,e,e,200,(function(){p=!1,r=!1})))}function v(){("always"===c||c===t.orientation)&&Ot(n)&&(p?d=!0:(d=!1,m(or(n,u))))}if(bt(n).scrollable(b({},e,{handle:et(a,"auto scrollbar content")||"content",hScroll:!et(a,"y-only"),vScroll:!et(a,"x-only"),content:"."+i(n).childClass+":visible:not(.disabled)",pageItem:l,snapToPage:"always"===c||c===t.orientation,scrollStart:function(e){delete f[history.state],t.emit("scrollStart",n,e,!0)},scrollMove:function(e){t.emit("scrollMove",n,e,!0)},scrollEnd:function(e){t.emit("scrollStop",n,e,!0)}})),ve.on(n,{drag:function(){fe()},getContentRect:function(){var t=Ut(n),e=bt(n).scrollable("scrollPadding");return t.top+=e.top,t.left+=e.left,t.right-=e.right,t.bottom-=e.bottom,t},scrollBy:function(t){bt(n).scrollable("stop");var e=bt(n).scrollable("scrollLeft"),r=bt(n).scrollable("scrollTop");return bt(n).scrollable("scrollBy",t.x,t.y,200),{x:e-bt(n).scrollable("scrollLeft"),y:r-bt(n).scrollable("scrollTop")}}}),l&&("always"!==c&&t.on("orientationchange",(function(){bt(n).scrollable("setOptions",{snapToPage:c===t.orientation})})),u&&(t.on(n,{statechange:function(t){var e=t.data[u];p||((0|Ut(h(e)).width)>(0|Ut().width)?m(e,"left center"):m(e))},scrollMove:function(t){p=!0,r||g(t.pageIndex)},scrollStop:function(t){g(t.pageIndex),p=!1,d&&v()}},!0),bt(window).on("resize",(function(){clearTimeout(o),o=setTimeout(v,200)})))),s){var y=!1,w=function(){var t=f[history.state];t&&bt(n).scrollable("scrollTo",t.x,t.y,0)};Le(n,j(ve.on("asyncStart",(function(){y=!0})),ve.on("asyncEnd",(function(){y=!1,w()})),t.on("navigate",(function(t){f[t.oldStateId]={x:bt(n).scrollable("scrollLeft"),y:bt(n).scrollable("scrollTop")},setTimeout((function(){y||w()}))}))))}}(r),bt(r).scrollable(pe(r)?"enable":"disable")}))}))})),t.on("statechange orientationchange animationcomplete",(function(){N(a)})),t.on("pageenter",(function(t){var e=bt(It("[scrollable]",t.target)).add(bt(t.target).parents("[scrollable]"));bt(It("[scrollable-target]",t.target)).each((function(t,e){bt(e).toggleClass("disabled",!tn(e))})),e.scrollable("refresh"),e.filter(":not([keep-scroll-offset])").scrollable("scrollTo",0,0)})),t.on("resize pageenter statechange scrollMove orientationchange",(function(){N(c)})),ve.on("modalchange",(function(){bt("[scrollable]").each((function(t,e){bt(e).scrollable(pe(e)?"enable":"disable")}))}))})),Cr=(u.IS_IOS,u.IS_IE10,u.IS_IE,u.IS_MAC,u.IS_TOUCH),Ir=Jn(!0,"viewport",(function(t){var e,n,r,o=B(t,"orientation","",!0),i=Cr&&"MacIntel"!==navigator.platform,a=screen.availWidth,c=screen.availHeight;function u(u){Cr&&screen.availWidth===a&&screen.availHeight===c&&screen.availWidth===window.innerWidth?bt("body").css("min-height",bt("body").height()+"px"):bt("body").css("min-height","0"),a=screen.availWidth,c=screen.availHeight;var l=bt("body").height()||0;(bt("html").height()||0)<l&&bt(ve.activeElement).is(":text")&&qt(ve.activeElement);var s=e;n=i?a:document.body.offsetWidth,r=i?a===window.innerWidth?c:window.innerHeight:document.body.offsetHeight,o((e=n/r)>=1?"landscape":"portrait"),!1!==u&&(t.emit("resize",{aspectRatio:e,viewportWidth:n,viewportHeight:r}),f(e>=1,s>=1)&&t.emit("orientationchange",{orientation:t.orientation}))}D(t,{get aspectRatio(){return e},get viewportWidth(){return n},get viewportHeight(){return r}}),t.on("orientationchange",(function(){Pe(ve.root,"orientationchange")})),bt(window).on("resize",(function(){N(u)})),bt((function(){u(!1)}))}));var jr=vr.with((function(t){window.app=t}),br,yr,Ar,Pr,kr,Tr,Ir)},860:function(t,e,n){var r=window.jQuery||n(609);t.exports=r;try{n(172)}catch(t){}},424:function(t,e,n){var r=window.Promise||n(804).default;t.exports=r},256:function(t,e,n){var r=window.waterpipe||n(160);t.exports=r;var o=r;o.pipes["{"]=function(t,e){var n=e.globals,r=n.new,o={};for(n.new=o;e.hasArgs();){var i=e.raw();if("}"===i)break;o[String(i).replace(/:$/,"")]=e.next()}return n.new=r,o},o.pipes["{"].varargs=!0},609:function(t){"use strict";t.exports=e},172:function(t){"use strict";if(void 0===n){var e=new Error("Cannot find module 'jq-scrollable'");throw e.code="MODULE_NOT_FOUND",e}t.exports=n},804:function(t){"use strict";t.exports=r},160:function(t){"use strict";t.exports=o},163:function(e){"use strict";e.exports=t}},a={};function c(t){if(a[t])return a[t].exports;var e=a[t]={exports:{}};return i[t](e,e.exports,c),e.exports}return c.d=function(t,e){for(var n in e)c.o(e,n)&&!c.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c(979)}().default}));
//# sourceMappingURL=brew.min.js.map