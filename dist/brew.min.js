!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("zeta-dom").util,require("zeta-dom").shim,require("zeta-dom").css,require("zeta-dom").dom,require("waterpipe"),require("jQuery"),require("historyjs"),require("zeta-dom")):"function"==typeof define&&define.amd?define("brew",[["zeta-dom","util"],["zeta-dom","shim"],["zeta-dom","css"],["zeta-dom","dom"],"waterpipe","jQuery","historyjs","zeta-dom"],t):"object"==typeof exports?exports.brew=t(require("zeta-dom").util,require("zeta-dom").shim,require("zeta-dom").css,require("zeta-dom").dom,require("waterpipe"),require("jQuery"),require("historyjs"),require("zeta-dom")):e.brew=t(e.zeta.util,e.zeta.shim,e.zeta.css,e.zeta.dom,e.waterpipe,e.jQuery,e.History,e.zeta)}(self,(function(e,t,n,r,a,o,i,c){return(()=>{"use strict";var l={349:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ot});var r={};n.r(r),n.d(r,{baseUrl:()=>l,combinePath:()=>s,isSubPathOf:()=>g,normalizePath:()=>f,setBaseUrl:()=>u,toAbsoluteUrl:()=>h,toRelativeUrl:()=>p,withBaseUrl:()=>d});var a={};n.r(a),n.d(a,{addStyleSheet:()=>I,api:()=>_,cookie:()=>P,deleteCookie:()=>A,getCookie:()=>x,getFormValues:()=>w,getJSON:()=>O,getQueryParam:()=>$,loadScript:()=>k,preloadImages:()=>C,setCookie:()=>S});var o={};n.r(o),n.d(o,{addAnimateIn:()=>N,addAnimateOut:()=>H,animateIn:()=>R,animateOut:()=>U});var i={};n.r(i),n.d(i,{addAsyncAction:()=>Ye,closeFlyout:()=>Ze,openFlyout:()=>et});var c=n(990),l="";function u(e){l=e}function s(e,t){return e=f(e),t=f(t),"/"===e?t:"/"===t?e:e+t}function f(e){return(e=e.replace(/\/+$/,"")||"/").indexOf("://")>=0||"/"===e[0]?e:"/"+e}function d(e){return e=f(e),l&&"/"===e[0]&&!g(e,l)?f(l+e):e}function h(e){return location.origin+d(e)}function p(e){return e.substr(0,location.origin.length)===location.origin?e.substr(location.origin.length):e}function g(e,t){return e.substr(0,t.length)===t&&(e.length===t.length||"/"===e[t.length])}var m=n(774),v=n(260);const b={},y={};function w(e){var t={};return(0,c.each)(e.elements,(function(n,r){if(r.name&&!(r.name in t)){var a=e.elements[r.name];(0,c.defineGetterProperty)(t,r.name,(function(){return"checkbox"===a.type?a.checked:a.value}))}})),t}function $(e){return new RegExp("[?&]"+e+"=([^&]+)","i").test(location.search)&&decodeURIComponent(RegExp.$1)}function x(e){return new RegExp("(?:^|\\s|;)"+e+"=([^;]+)").test(document.cookie)&&RegExp.$1}function S(e,t,n){return document.cookie=e+"="+t+";path=/"+(n?";expires="+new Date(Date.now()+n).toGMTString():""),t}function A(e){document.cookie=e+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT"}function P(e,t){return{get:function(){return x(e)},set:function(n){return S(e,n,t)},delete:function(){return A(e)}}}function _(e,t){var n="get post delete";if("string"==typeof e&&(0,c.matchWord)(e,n))return _(t=(0,c.extend)({},"string"==typeof t?{baseUrl:t}:t,{methods:e}))[e];var r={baseUrl:(e=(0,c.extend)({},e)).baseUrl,token:e.token};return(0,c.each)(e.methods||n,(function(t,a){(0,c.matchWord)(a,n)&&((0,c.defineHiddenProperty)(r,a,(function t(n,o){if(!r.baseUrl)return(0,c.watchOnce)(r,"baseUrl",(function(){return t(n,o)}));var i={"Content-Type":"application/json"};return r.token&&(i.Authorization="Bearer "+r.token),m.$.ajax({method:a,url:s(r.baseUrl,n),headers:i,dataType:"json",data:JSON.stringify(o||{}),success:function(t){(0,c.isFunction)(e.getTokenFromResponse)&&(r.token=e.getTokenFromResponse(t,r.token))}}).catch((function(e){if(0===e.status)throw"network-failed";var t=e.responseJSON;if(t)throw console.error(n+":",t.error||t.message),t.error||t.message;throw e.statusText}))})),(0,c.defineAliasProperty)(r[a],"baseUrl",r),(0,c.defineAliasProperty)(r[a],"token",r))})),r}function O(e){return m.$.getJSON(d(e))}function k(e,t){return(0,c.isArray)(e)?e.reduce((function(e,n){return e.then((function(){return k(n,t)}))}),(0,c.resolve)()):(y[e]||(y[e]=new Promise((function(n,r){var a=document.createElement("script");if((t=t||{}).nomodule){if("noModule"in a)return void n();a.setAttribute("nomodule","")}t.module&&a.setAttribute("type","module"),a.addEventListener("load",(function(){n({})})),a.addEventListener("error",(function(){r()})),a.src=d(e),document.head.appendChild(a)}))),y[e])}function I(e,t){var n=document.createElement("link");n.rel="stylesheet",n.href=d(e),t&&(n.media=t),document.head.appendChild(n)}function C(e,t){if(!(0,c.isArray)(e)){var n={},r=function(e){(0,v.isCssUrlValue)(e)&&(n[RegExp.$1||RegExp.$2||RegExp.$3]=!0)};(0,c.iterateNode)((0,c.createNodeIterator)(e,1),(function(e){(0,c.is)(e,"img")&&e.src&&(n[e.src]=!0),r(getComputedStyle(e).backgroundImage),r(getComputedStyle(e,"::before").backgroundImage),r(getComputedStyle(e,"::after").backgroundImage)})),e=(0,c.keys)(n)}var a=[],o=[];return e.forEach((function(e){a.push(b[e]||(b[e]=new Promise((function(t){o.push(e),(0,m.$)("<img>").on("load error",(function(){b[e]=!0,t()})).attr("src",e)}))))})),!a.length||a.every((function(e){return!0===e}))?(0,c.resolve)():(o.length&&console.log("Preload image",{urls:o}),(0,c.setPromiseTimeout)((0,c.resolveAll)((0,c.values)(b)),t,!0))}var T=n(50);const j=n.n(T)(),E={},V={},F=new m.Map;var z=0;function M(e,t,n,r){if(!n.length)return(0,c.resolve)();var a,o,i,l=++z;n=n.map((function(e){return e instanceof Promise?(0,c.catchAsync)(e):new Promise((function(t){e.then(t,t)}))})),(0,c.catchAsync)((0,c.resolveAll)(n,(function(){clearTimeout(a),i(),F.delete(e),console.log("Animation #%i completed",l)}))),n.push(new Promise((function(e,t){i=e,o=t}))),a=setTimeout((function(){o("Animation #"+l+" timed out"),console.log("Animation #%i might take longer than expected",l,n),F.delete(e)}),1500);var u=(0,c.catchAsync)((0,c.resolveAll)(n));return console.log("Animation #%i triggered on %s",l,r,{elements:t}),F.set(e,u),u}function q(e,t,n,r){var a=[(0,v.runCSSTransition)(e,t),j.emit(n,e)],o=parseFloat((0,m.$)(e).css("transition-delay"));return(0,c.each)(r,(function(t,n){if(e.attributes[t]){var r=e.getAttribute(t);a.push(new Promise((function(t,a){setTimeout((function(){(0,c.resolveAll)(n(e,r)).then(t,a)}),1e3*o)})))}})),(0,c.resolveAll)(a,(function(){return e}))}function R(e,t,n,r){if(F.has(e))return F.get(e).then((function(){return R(e,t,n,r)}));r=r||function(){return!0},j.emit("animationstart",e,{animationType:"in",animationTrigger:t},!0);var a=n?(0,m.$)(n,e):(0,m.$)(),o="show"===t?':not([animate-on]), [animate-on~="'+t+'"]':'[animate-on~="'+t+'"]',i=[],l=[];return(0,m.$)((0,c.selectIncludeSelf)("[animate-in]",e)).filter(o).each((function(e,t){!a.find(t)[0]&&r(t)&&(0,c.isVisible)(t)&&(i.push(t),l.push(q(t,"tweening-in","animatein",E)))})),(0,m.$)((0,c.selectIncludeSelf)("[animate-sequence]",e)).filter(o).each((function(e,t){if(!a.find(t)[0]&&r(t)&&(0,c.isVisible)(t)){var n=t.getAttribute("animate-sequence")||"",o=t.getAttribute("animate-sequence-type")||"",u=(0,m.$)(t).find(">"===n[0]?n:(0,m.$)(n));void 0!==(0,m.$)(t).attr("animate-sequence-reverse")&&[].reverse.apply(u),u.css("transition-duration","0s"),u.attr("animate-in",o).attr("is-animate-sequence",""),u.each((function(e,t){"inline"===(0,m.$)(t).css("display")&&(0,m.$)(t).css("display","inline-block"),i.push(t),l.push(new Promise((function(n,r){setTimeout((function(){(0,m.$)(t).css("transition-duration",""),q(t,"tweening-in","animatein",E).then(n,r)}),50*e)})))})),t.attributes["animate-in"]||(0,m.$)(t).attr("animate-in","").addClass("tweening-in")}})),M(e,i,l,t).then((function(){j.emit("animationcomplete",e,{animationType:"in",animationTrigger:t},!0)}))}function U(e,t,n,r,a){r=r||function(){return!0},j.emit("animationstart",e,{animationType:"out",animationTrigger:t},!0);var o=n?(0,m.$)(n,e):(0,m.$)(),i="show"===t?':not([animate-on]), [animate-on~="'+t+'"]':'[animate-on~="'+t+'"]',l=[],u=[];return(0,m.$)((a?m.$:c.selectIncludeSelf)("[animate-out]",e)).filter(i).each((function(e,t){!o.find(t)[0]&&r(t)&&(l.push(t),u.push(q(t,"tweening-out","animateout",V)))})),M(e,l,u,t).then((function(){var n=(0,m.$)((a?m.$:c.selectIncludeSelf)("[animate-out], .tweening-in, .tweening-out",e));"show"!==t&&(n=n.filter(i)),(n=n.filter((function(e,t){return r(t)}))).removeClass("tweening-in tweening-out"),n.find("[is-animate-sequence]").removeAttr("animate-in").removeClass("tweening-in tweening-out"),j.emit("animationcomplete",e,{animationType:"out",animationTrigger:t},!0)}))}function N(e,t){E[e]=(0,c.throwNotFunction)(t)}function H(e,t){V[e]=(0,c.throwNotFunction)(t)}const W=window.waterpipe||n(160),L={};var D=window.History;D&&D.Adapter||(window.jQuery=n(609),n(229),D=window.History);const G=D;function B(e){return e.tagName.toLowerCase()+(e.id?"#"+e.id:e.className.trim()&&e.className.replace(/^\s*|\s+(?=\S)/g,"."))}function J(e){return'[{"]'.indexOf(e[0])>=0&&e.length>200?e[0]+e.substr(1,199)+"…"+e[e.length-1]:e}function Q(e,t,n){var r;try{console.groupCollapsed(function(e,t){return"["+e+"] "+(0,c.makeArray)(t).map((function(e){return(0,c.is)(e,Element)?B(e)+":":e&&"object"==typeof e?J(JSON.stringify(e)):e})).join(" ")}(e,t)),r=!0}catch(e){}try{n(console)}finally{if(r)try{console.groupEnd()}catch(e){}}}const K=(0,c.createPrivateStore)(),X=new m.Map,Y=[];var Z=[j.root];function ee(e,t){var n=(0,m.$)(e).closest("[match-path]")[0];return!n||(t||Z).indexOf(n)>=0}function te(e,t,n){return e=e||[],delete(n=(0,c.extend)({},n)).remainingSegments,{path:f(t.slice(0,e.length).join("/")),route:e,params:n}}function ne(e,t,n){var r=this,a=K(r,{});a.routes=t.map((function(e){var t=[];return String(e).replace(/\/(\*|[^{][^\/]*|\{([a.-z_$][a-z0-9_$]*)(?::(?![*+?])((?:(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])([*+?]|\{\d+(?:,\d+)\})?)+))?\})(?=\/|$)/gi,(function(e,n,a,o){t.push(a?{name:a,pattern:o?new RegExp("^"+o+"$","i"):/./}:n.toLowerCase()),r[a||"remainingSegments"]=null})),(0,c.defineHiddenProperty)(t,"value",e),(0,c.defineHiddenProperty)(t,"exact",!("*"===t[t.length-1]&&t.splice(-1))),(0,c.defineHiddenProperty)(t,"names",(0,c.map)(t,(function(e){return e.name}))),t})),Object.preventExtensions(r),(0,c.extend)(r,r.parse(n)),a.current=a.lastMatch,a.handleChanges=(0,c.watch)(r,!0),Object.getOwnPropertyNames(r).forEach((function(e){(0,c.defineObservableProperty)(r,e)})),(0,c.watch)(r,(function(){var t=function(e){return!1===(0,c.any)(e.params,(function(e,t){return e!==r[t]}))},n=!1,o=!t(a.current);if(o&&a.lastMatch&&(a.current=a.lastMatch,o=!t(a.current)),o){var i,l,u=[],s=(0,c.any)(a.routes,(function(e){for(u.length=0,i=0,l=e.length;i<l;i++){var t=e[i].name;if(t&&!e[i].pattern.test(r[t]))return!1;u[i]=t?r[t]:e[i]}for(i in r)"remainingSegments"!==i&&r[i]&&e.names.indexOf(i)<0&&(r[i]=null,n=!0);return!0}));a.current=te(s,u,r)}(a.current.route||"").exact&&"/"!==r.remainingSegments?r.remainingSegments="/":n||e.navigate(r.toString())}))}function re(e,t){var n,r=e.path||t.initialPath||t.queryParam&&$(t.queryParam)||location.pathname.substr(t.baseUrl.length)||"/",a=new ne(e,t.routes,r),o=0;function i(t,n){if(t=decodeURI(t),n=n||e.path,"~"===t[0]){var r=((0,c.iequal)(n,e.path)?a:a.parse(n)).remainingSegments;t=s("/"===r?n:n.slice(0,-r.length),t.slice(1))}else"/"!==t[0]&&(t=s(n,t));if(t.indexOf("./")>=0){for(var o=t.split("/"),i=1;i<o.length;)"."===o[i]?o.splice(i,1):".."===o[i]?o.splice(--i,2):i++;t=f(o.join("/"))}return t.indexOf("{")<0?t:t.replace(/\{([^}]+)\}/g,(function(e,t){return a[t]||e}))}function h(t,n){t=d(i(t)),G[n?"replaceState":"pushState"]({},document.title,t),e.path=t.substr(l.length)||"/"}u(t.baseUrl||""),e.define({path:"",resolvePath:i,navigate:h,back:function(){o>1?G.back():"/"!==e.path&&h("/")}}),(0,c.defineOwnProperty)(e,"initialPath",r,!0),(0,c.defineOwnProperty)(e,"route",a,!0),e.watch("path",(function(t,r){if(Oe)if(t=i(t,r),console.log("Nagivate",t),a.set(t),j.locked(j.activeElement,!0))h((n=t===n?null:r)||t,!0);else{var u=xe();if(u)return n=r,h(r,!0),void(0,c.resolve)(u).then((function(){h(t,!0)}));n=null;var s,f=[j.root];we(!0,(function(){X.forEach((function(e,n){var r=i(e.getAttribute("match-path"));((0,m.$)('[switch=""]',e)[0]?g(t,r):t===r)&&(f.push(e),e.parentNode||((0,m.$)(n).replaceWith(e),be(e),$e(e)))}))})),(0,m.$)('[switch=""]').each((function(e,t){if(ee(t,f)){var n=(0,m.$)(t).children("[match-path]");if(!n.filter((function(e,t){return f.indexOf(t)>=0}))[0])return s=(n.filter("[default]")[0]||n[0]).getAttribute("match-path"),!1}})),s?h(s,!0):we(!0,(function(){e.emit("navigate",{pathname:t,oldPathname:r,route:Object.freeze((0,c.extend)({},a))}),e.path===t&&function(e,t,n){var r=new m.Map,a=j.eventSource,i=Z.slice(0);location.pathname.substr(l.length)!==e&&G[o?"pushState":"replaceState"]({},document.title,d(e)),o++,Z=n,Q(a,["pageenter",e],(function(){X.forEach((function(n){var o=Z.indexOf(n)>=0;o===i.indexOf(n)<0&&(o?(Le(n,!1),We(n,null),setTimeout((function(){var t=r.get((0,m.$)(n).parents("[match-path]")[0]),a=Y.map((function(t){return t(n,e)}));a.push(t),r.set(n,(0,c.resolveAll)(a,(function(){Z.indexOf(n)>=0&&((0,c.setClass)(n,"hidden",!1),R(n,"show","[match-path]"),j.emit("pageenter",n,{pathname:e},!0))})))}))):(j.emit("pageleave",n,{pathname:t},!0),U(n,"show","[match-path]").then((function(){Z.indexOf(n)<0&&Q(a,["pageleave",t],(function(){(0,c.setClass)(n,"hidden",!0),Le(n,!0)}))}))))}))})),(0,c.each)(r,(function(e,t){ve(t,e)}))}(t,r,f)}))}else e.path=""})),e.beforeInit((function(){j.ready.then((function(){(0,m.$)("[match-path]").addClass("hidden").each((function(e,t){var n=document.createElement("div");n.setAttribute("style","display: none !important"),n.setAttribute("match-path",t.getAttribute("match-path")||""),t.attributes.default&&n.setAttribute("default",""),(0,m.$)(t).before(n),(0,m.$)(t).detach(),X.set(n,t)})),G.Adapter.bind(window,"statechange",(function(){e.path=location.pathname.substr(l.length)||"/"}))}))})),e.on("ready",(function(){e.path=r})),e.on("mounted",(function(t){var n=(0,m.$)((0,c.selectIncludeSelf)("video[autoplay], audio[autoplay]",t.target));n[0]&&(n.removeAttr("autoplay"),e.on(t.target,{pageenter:function(){n.each((function(e,t){0!==t.readyState&&(t.currentTime=0),t.play()}))},pageleave:function(){n.each((function(e,t){t.pause()}))}},!0))})),e.on("pageleave",(function(t){(0,m.$)((0,c.selectIncludeSelf)("form",t.target)).each((function(t,n){e.emit("reset",n,null,!1)||n.reset()}))}))}(0,c.definePrototype)(ne,{parse:function(e){var t=K(this),n=f(e).slice(1).split("/"),r={},a=(0,c.any)(t.routes,(function(e){if(r={},n.length<e.length)return!1;for(var t=0,a=e.length;t<a;t++){var o=e[t].name;if(!(o?e[t].pattern.test(n[t]):(0,c.iequal)(n[t],e[t])))return!1;o&&(r[o]=n[t])}return r.remainingSegments=e.exact?"/":f(n.slice(e.length).join("/")),!0}));for(var o in this)r[o]=r[o]||null;return t.lastMatch=te(a,n,r),r},set:function(e){var t=this;if("string"==typeof e){if((0,c.iequal)(e,t.toString()))return;e=t.parse(e)}K(t).handleChanges((function(){(0,c.extend)(t,e)}))},toString:function(){return s(K(this).current.path||"/",this.remainingSegments)}}),(0,c.watchable)(ne.prototype),Ve("router",(function(e,t){re(e,t||{})}));const ae="template set-class set-style".split(" "),oe="background-image".split(" "),ie=Object.prototype.hasOwnProperty,ce=Object.getOwnPropertyNames,le=j.root,ue=new m.Set,se=new m.Map,fe=[],de=[],he=[];var pe=0;function ge(e,t){(0,c.each)(t,(function(t,n){"$$state"===t?(0,c.setClass)(e,n):"$$text"===t?e.textContent=n:"style"===t?(0,m.$)(e).css(n):e.setAttribute(t,n)})),j.emit("domchange",e)}function me(e,t){var n=se.get(e);n||(n={},se.set(e,n)),(0,c.each)(t,(function(e,t){n[e]="$$state"===e||"style"===e?(0,c.extend)({},n[e],t):t}))}function ve(e,t){if(t||"script"!==j.eventSource){var n=Ge(t=t||j.activeElement),r=He(n,"loading"),a=He(n,"error");ie.call(r,"__counter")||(0,c.defineHiddenProperty)(r,"__counter",0),r.__counter++,We(r.element,{loading:r.loading||!0}),We(a.element,{error:null}),e.then((function(){We(r.element,{loading:!!--r.__counter})}),(function(e){We(r.element,{loading:!!--r.__counter}),We(a.element,{error:""+(e.message||e)})}))}return e}function be(e){ue.add(e)}function ye(e){if(!pe){var t=new m.Map,n=new m.Map;Q(j.eventSource,"statechange",(function(){var e=(0,c.makeArray)(ue);(0,c.each)((0,c.selectIncludeSelf)("[foreach]",e),(function(e,t){var n=Ge(t);n.__foreach||(0,c.defineHiddenProperty)(n,"__foreach",{template:(0,m.$)(t).contents().detach().filter((function(e,t){return 1===t.nodeType||/\S/.test(t.data||"")})).get(),nodes:[],data:[]});var r=n.__foreach.template,a=n.__foreach.nodes,o=n.__foreach.data,i=(0,c.makeArray)(Je(t,"foreach"));if(i.length!==o.length||i.some((function(e,t){return o[t]!==e}))){var l=[];(0,c.each)(i,(function(e,n){var i=o.indexOf(n);if(i<0){var u=(0,m.$)(r).clone().get();(0,c.each)(u,(function(e,r){1===r.nodeType&&((0,m.$)(t).append(r),We(r,(0,c.kv)("foreach",n),!0))})),l.push.apply(l,u)}else l.push.apply(l,a.slice(i*r.length,(i+1)*r.length))})),(0,c.extend)(n.__foreach,{nodes:l,data:i}),(0,m.$)(a).detach(),(0,m.$)(t).append(l)}})),(0,c.each)((0,c.selectIncludeSelf)("[auto-var]",e),(function(e,t){We(t,Je(t,"auto-var"),!0)})),(0,c.each)((0,c.selectIncludeSelf)('[switch][switch!=""]',e),(function(e,t){var r=Ge(t);if(ie.call(r,"matched")||(0,c.defineOwnProperty)(r,"matched"),ee(t)){var a,o,i=t.getAttribute("switch")||"",l=W.eval(i,(0,c.extend)({},r)),u=(0,m.$)("[match-"+i+"]",t).filter((function(e,n){return(0,m.$)(n).parents("[switch]")[0]===t})),s=new m.Map;u.each((function(e,t){var n=W.eval('"null" ?? '+t.getAttribute("match-"+i),(0,c.extend)({},Ge(t)));if(s.set(t,n),W.eval("$0 == $1",[l,n]))return a=t,!1})),a=a||u.filter("[default]")[0]||u[0],r.matched&&r.matched.element===a?("switch",o=[t,i,"→",l,"(unchanged)"],(0,c.makeArray)(o).map((function(e){return(0,c.is)(e,Element)?B(e)+":":e&&"object"==typeof e?J(JSON.stringify(e)):e})).join(" "),i in r&&void 0!==s.get(a)&&We(t,(0,c.kv)(i,s.get(a)),!0)):Q("switch",[t,i,"→",l],(function(e){e.log("Matched: ",a),We(a,null,!0),We(t,{matched:Ge(a)},!0),u.each((function(e,t){(0,c.mapGet)(n,t,Object).$$state={active:t===a}}))}))}})),e=m.$.uniqueSort((0,c.makeArray)(ue)),(0,c.each)(e,(function(e,n){var r=Ge(n);t.set(n,{newValues:(0,c.extend)({},r.__newValues),oldValues:(0,c.extend)({},r.__oldValues)})}));var r=[];(0,c.each)(e.reverse(),(function(e,a){Q("statechange",[a,t.get(a).newValues],(function(e){e.log(a===le?document:a),(0,m.$)((0,c.selectIncludeSelf)("["+ae.join("],[")+"]",a)).not(r).each((function(e,t){if(r.push(t),t.attributes.template||t.attributes["set-style"]){var a=Ge(t);a.__template||((0,c.defineHiddenProperty)(a,"__template",{}),t.attributes["set-style"]&&(a.__template.style=t.getAttribute("set-style")),t.attributes.template&&((0,c.each)(t.attributes,(function(e,t){t.value.indexOf("{{")>=0&&(a.__template[t.name]=t.value)})),!t.childElementCount&&(t.textContent||"").indexOf("{{")>=0&&(a.__template.$$text=t.textContent))),(0,c.each)(a.__template,(function(e,r){var o=Be(r,a,t,e,!1);if(n.get(t)||("$$text"===e?t.textContent:(t.getAttribute(e)||"").replace(/["']/g,""))!==o){var i=(0,c.mapGet)(n,t,Object);if("style"===e){var l=(0,v.parseCSS)(o);i[e]=l,(0,c.each)(oe,(function(e,t){var n=(0,v.isCssUrlValue)(l[t]);n&&(l[t]='url("'+d(n)+'")')}))}else i[e]=o}}))}if(t.attributes["set-class"]){var o=Je(t,"set-class"),i=(0,c.mapGet)(n,t,Object);i.$$state=(0,c.extend)(i.$$state||{},o)}}))}))}))})),(0,c.resolveAll)(fe.map((function(e){return e(n)}))).then((function(){var r=new m.Map;(0,c.each)(n,(function(n,a){if(e)se.has(n)?me(n,a):ge(n,a);else{var o=(0,m.$)(n).filter("[match-path]")[0]||(0,m.$)(n).parents("[match-path]")[0]||le,i=r.get(o);if(!i){var l=function(e){var n,r=e.getAttribute("animate-on-statechange");if(!r)return!0;for(;e&&!(n=t.get(e));e=e.parentNode);return n&&(0,c.any)(r,(function(e){return e in n.newValues}))};i=[],(0,c.setImmediate)((function(){U(o,"statechange","[match-path]",l,!0).then((function(){(0,c.each)(i,(function(e,t){ge(t,se.get(t)),se.delete(t)})),R(o,"statechange","[match-path]",l)}))})),r.set(o,i)}me(n,a),i.push(n)}})),(0,c.each)(t,(function(e,t){j.emit("statechange",e,{data:(0,c.extend)({},Ge(e)),newValues:t.newValues,oldValues:t.oldValues},!0)}))})),(0,c.each)(ue,(function(e,t){var n=Ge(t),r=n.__newValues,a=n.__oldValues;ce(r).forEach((function(e){delete r[e]})),ce(a).forEach((function(e){delete a[e]}))})),ue.clear()}}function we(e,t){var n=!0;try{pe=(pe||0)+1,(0,c.throwNotFunction)(t||e)()}catch(e){throw n=!1,e}finally{!--pe&&n&&ye(!0===e)}}function $e(e){j.on(e,"__brew_handler__",c.noop);for(var t=[e],n=e===le,r=-1,a=0;r<he.length;)(0,c.each)(he.slice(r<0?0:r),(function(n,r){(0,m.$)((0,c.selectIncludeSelf)(r.target,e)).each((function(e,n){_e.on(n,r.handlers),r.handlers.mounted&&t.indexOf(n)<0&&t.push(n)}))})),r=he.length,(0,c.each)(m.$.uniqueSort(t.slice(a)),(function(e,t){j.emit("mounted",t)})),n||(n=!0,j.emit("mounted",le,{target:e})),a=t.length;(0,c.each)(de,(function(t,n){(0,m.$)((0,c.selectIncludeSelf)(n.selector,e)).each((function(e,t){n.handler.call(t,t)}))}))}function xe(e){var t=(0,c.any)((0,m.$)("[prevent-leave]").get(),(function(e){var t=Ge(e),n=Object.hasOwnProperty.call(t,"__allowLeave");if(ee(e)||n){var r=Je(e,"prevent-leave");return!r&&n&&delete t.__allowLeave,r&&!n}}));return t&&!e?(0,c.resolveAll)(j.emit("preventLeave",t,null,!0),(function(e){if(!e)throw"user_rejected";(0,c.defineHiddenProperty)(Ge(t),"__allowLeave",!0)})):!!t}j.ready.then((function(){(0,m.$)("apply-attributes").each((function(e,t){var n=(0,m.$)(t.getAttribute("elements")||"",t.parentNode||j.root);(0,c.each)(t.attributes,(function(e,t){"elements"!==t.name&&n.attr(t.name,t.value)}))})).remove(),(0,m.$)("[style]").each((function(e,t){var n=(0,v.isCssUrlValue)(t.style.backgroundImage);n&&(t.setAttribute("data-bg-src",decodeURIComponent(d(n))),t.style.backgroundImage="none")})),window.onbeforeunload=function(e){xe(!0)&&(e.returnValue="",e.preventDefault())}}));const Se=(0,c.createPrivateStore)(),Ae=j.root,Pe={};var _e,Oe,ke;function Ie(e){return(0,c.resolveAll)(e.splice(0),(function(){return e.length&&Ie(e)}))}function Ce(e){return function(t){if(t.target===t.context)return e.apply(this,arguments)}}function Te(e){var t=e.target;(0,m.$)((0,c.selectIncludeSelf)("[apply-template]",t)).each((function(e,t){!function(e){var t=(0,m.$)('[brew-template="'+e.getAttribute("apply-template")+'"]')[0].cloneNode(!0);(0,c.each)(t.attributes,(function(t,n){e.setAttribute(n.name,n.value)}));var n=(0,m.$)(e);(0,m.$)((0,c.selectIncludeSelf)("content[for]",t)).each((function(e,t){(0,m.$)(t).replaceWith(n.find(t.getAttribute("for")||""))})),(0,m.$)((0,c.selectIncludeSelf)("content",t)[0]).replaceWith(n.contents()),n.append((0,m.$)(t).contents())}(t)})),(0,m.$)((0,c.selectIncludeSelf)('img[src^="/"], video[src^="/"]',t)).each((function(e,t){t.src=withBaseUrl(t.getAttribute("src"))})),(0,m.$)((0,c.selectIncludeSelf)('a[href^="/"]',t)).each((function(e,t){t.href=withBaseUrl(t.getAttribute("href"))})),(0,m.$)((0,c.selectIncludeSelf)("[data-src]",t)).each((function(e,t){t.src=withBaseUrl(t.dataset.src),t.removeAttribute("data-src")})),(0,m.$)((0,c.selectIncludeSelf)("[data-bg-src]",t)).each((function(e,t){t.style.backgroundImage='url("'+withBaseUrl(t.dataset.bgSrc)+'")',t.removeAttribute("data-bg-src")})),(0,m.$)((0,c.selectIncludeSelf)("form",t)).on("submit",(function(e){e.preventDefault()}))}function je(){var e=this;Se(e,{init:[],options:{}}),(0,c.defineOwnProperty)(e,"element",Ae,!0),e.on("mounted",Te)}function Ee(e){if(ke)throw new Error("brew() can only be called once");_e=new je,(0,c.each)(L,(function(e,t){var n=t&&(0,c.isFunction)(_e[(0,c.camel)("use-"+e)]);n&&n.call(_e,t)})),(0,c.throwNotFunction)(e)(_e),(0,c.extend)(window,{app:_e}),ke=!0,(0,c.defineOwnProperty)(Ge(Ae),"loading","initial"),ve((0,c.resolveAll)([j.ready,Ie(Se(_e).init)],(function(){Oe=!0,$e(Ae),_e.emit("ready")})),Ae)}function Ve(e,t){(0,c.throwNotFunction)(t),(0,c.definePrototype)(je,(0,c.kv)((0,c.camel)("use-"+e),(function(n){var r=Se(this);r.options[e]=(0,c.extend)(r.options[e]||{},n),t(this,r.options[e])})))}(0,c.definePrototype)(je,{emit:function(e,t,n,r){return(0,c.is)(t,Node)||(r=n,n=t,t=this.element),j.emit(e,t,n,r)},define:function(e){(0,c.define)(this,e)},beforeInit:function(e){(0,c.isFunction)(e)&&(e=e.call(this)),Se(this).init.push(e)},detect:function(e,t){var n=this,r={};(0,c.each)(e,(function(e,t){Pe[t]&&(r[t]=(0,c.isFunction)(Pe[t])?Pe[t]=(0,c.resolveAll)(Pe[t]()).catch((function(e){return console.warn("Detection for "+t+" has thrown exception:",e),!1})):Pe[t])})),this.beforeInit((0,c.resolveAll)(r,(function(e){return e=Object.freeze((0,c.extend)(n.supports||{},e)),(0,c.define)(n,{supports:e}),(0,c.isFunction)(t)&&t(e)})))},when:function(e,t){this.beforeInit((0,c.resolveAll)(e,(function(e){if(e)return t()})))},on:function(e,t,n,r){r=!0===(r||n),(0,c.isFunction)(t)&&(n=t,t=e,e=Ae);var a=t;if("string"==typeof t)r&&(n=Ce(n)),t.indexOf(" ")>=0?(a={},(0,c.each)(t,(function(e,t){a[t]=n}))):a=(0,c.kv)(t,n);else if(r)for(var o in t)t[o]=Ce(t[o]);if("string"==typeof e){if(function(e,t){he.push({target:e,handlers:t})}(e,a),!Oe)return;e=(0,m.$)(e).get()}else e instanceof Node&&(e=[e]);(0,c.each)(e,(function(e,t){j.on(t,a)}))},matchPath:function(e,t,n){(0,c.isFunction)(t)&&(n=t,t=null),this.on("mounted",(function(r){r.target.getAttribute("match-path")!==e||t&&!(0,m.$)(r.target).is(t)||n.call(r.target,r.target)}))},matchElement:function(e,t){de.push({selector:e,handler:t})},beforeUpdate:function(e){fe.push((0,c.throwNotFunction)(e))},beforePageEnter:function(e){Y.push((0,c.throwNotFunction)(e))}}),(0,c.watchable)(je.prototype);const Fe=/localhost:?/i.test(location.host),ze="var switch auto-var error-scope".split(" "),Me=j.root,qe=Object.prototype.hasOwnProperty,Re=Object.setPrototypeOf,Ue=(0,c.createPrivateStore)(),Ne=W;function He(e,t){for(var n=e;null!==n;n=Object.getPrototypeOf(n))if(qe.call(n,t))return n;return console.warn("Undeclared state: %s",t,{element:e.element}),e}function We(e,t,n){var r=!1;if("string"==typeof e)(0,m.$)(e).each((function(e,a){We(a,t,n)&&(r=!0)}));else{var a=Ge(e);(0,c.each)(t||Je(e,"set-var",a),(function(e,t){if(a[e]!==t){var n=He(a,e);n.__oldValues[e]=n[e],n.__newValues[e]=t,n[e]=t,r=!0,be(n.element)}})),r&&!n&&Oe&&ye()}return!!r}function Le(e,t){we((function(){(0,c.each)((0,c.selectIncludeSelf)("[var]",e),(function(e,n){We(n,De(n,t))})),t&&(0,c.each)((0,c.selectIncludeSelf)('[switch][switch!=""]',e),(function(e,t){We(t,{matched:null})}))}))}function De(e,t){var n={};if(e.attributes["error-scope"]&&(n.error=null),(0,c.extend)(n,Je(e,"var"),Je(e,"auto-var")),t)for(var r in n)n[r]=null;return n}function Ge(e){(0,c.containsOrEquals)(Me,e)||console.error("State should not be accessed when element is detached.",{element:e});var t=Ue(e);if(!t){if(t=Ue(e,{}),(0,c.defineHiddenProperty)(t,"element",e),(0,c.defineHiddenProperty)(t,"__newValues",{}),(0,c.defineHiddenProperty)(t,"__oldValues",{}),(0,c.keys)(e.dataset)[0]){var n=(0,c.extend)({},e.dataset);(0,c.each)(n,(function(e,t){n[e]=W.eval('"'+t+'"')})),(0,c.extend)(t,n)}var r=(0,m.$)(e).parents("["+ze.join("],[")+"]")[0]||Me;if(r!==e){var a=Ge(r);Re(t,a),Re(t.__newValues,a.__newValues),Re(t.__oldValues,a.__oldValues)}else Re(t,function(){}.prototype);e.childElementCount||(0,c.defineGetterProperty)(t,"textContent",(function(){return e.textContent}))}if(!qe.call(t,"__init")){(0,c.defineHiddenProperty)(t,"__init",!0);var o=De(e,!(0,c.containsOrEquals)(Me,e)||!!(0,m.$)(e).parents("[match-path]")[0]);for(var i in o)(0,c.defineOwnProperty)(t,i,o[i])}return t}function Be(e,t,n,r,a){var o={globals:{app:_e}},i=a?W.eval(e,(0,c.extend)({},t),o):(0,c.htmlDecode)(W(e,(0,c.extend)({},t),o));return Fe&&Q("eval",[n,r,"→",i],(function(r){r.log("%c%s%c","background-color:azure;color:darkblue;font-weight:bold",e,"","→",i),r.log("Context:",(0,c.extend)({},t)),r.log("Element:",n===Me?document:n)})),i}function Je(e,t,n){var r=e.getAttribute(t);return r?Be(r,n=n||Ge(e),e,t,!0):{}}Ne.pipes["{"]=function(e,t){for(var n={};t.hasArgs();){var r=t.raw();if("}"===r)break;n[String(r).replace(/:$/,"")]=t.next()}return n},Ne.pipes["{"].varargs=!0;const Qe=new m.Map,Ke=new m.Map,Xe={};function Ye(e,t){Xe[e]=(0,c.throwNotFunction)(t)}function Ze(e,t){(0,m.$)(e||"[is-flyout].open").each((function(e,n){var r=Qe.get(n);r&&(Qe.delete(n),r.resolve(t),r.source&&(0,c.setClass)(r.source,"target-opened",!1)),U(n,"show").then((function(){(0,c.setClass)(n,"open",!1)}))}))}function et(e,t,n,r){var a=n||j.root,o=e?(0,c.selectClosestRelative)(e,a):(0,m.$)(a).closest("[is-flyout]")[0];if(!o)return Promise.reject();var i,l=Qe.get(o);if(l)return r?Ze(o,n&&W.eval("`"+n.value)):l.path=_e.path,l.promise;var u=new Promise((function(e){i=e}));return Qe.set(o,{source:n,promise:u,resolve:i,path:_e.path}),n&&(0,c.setClass)(n,"target-opened",!0),t&&We(o,t),(0,v.runCSSTransition)(o,"open",(function(){j.focus(o)})),R(o,"open"),o.attributes["is-modal"]&&j.lock(o,u),u}Ye("validate",(function(e){var t=(0,c.selectClosestRelative)(this.getAttribute("validate")||"",e.target);if(t){var n=j.emit("validate",t)||!t.checkValidity||t.checkValidity();if(n){if((0,c.isFunction)(n.then))return n.then((function(e){if(!e)throw"validation-failed"}))}else e.stopImmediatePropagation(),e.preventDefault()}})),Ye("context-method",(function(e){var t=e.currentTarget,n=(0,c.camel)(t.getAttribute("context-method")||"");if((0,c.isFunction)(_e[n])){var r=t.getAttribute("context-form"),a=r?(0,c.selectClosestRelative)(r,t):t.form,o={},i=!0;return a?(i=j.emit("validate",a)||a.checkValidity(),(0,c.extend)(o,w(a))):(0,c.extend)(o,t.dataset),(0,c.resolveAll)(i,(function(e){if(!e)throw"validation-failed";return _e[n](o)}))}})),j.ready.then((function(){_e.on("mounted",(function(e){(0,m.$)((0,c.selectIncludeSelf)("["+(0,c.keys)(Xe).join("],[")+"]",e.target)).attr("async-action","")})),_e.on("navigate",(function(){setTimeout((function(){Qe.forEach((function(e,t){e.path!==_e.path&&Ze(t)}))}))})),(0,m.$)("body").on("click","[disabled], .disabled, :disabled",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),(0,m.$)("body").on("click","[async-action]",(function(e){var t=e.currentTarget,n=(0,c.mapGet)(Ke,t,Array),r=null;if((0,c.each)(Xe,(function(e,a){if(t.attributes[e]&&n.indexOf(a)<0)return r=a,!1})),r){n.push(r);var a=r.call(t,e);a&&(0,c.isFunction)(a.then)&&!e.isImmediatePropagationStopped()&&(e.stopImmediatePropagation(),e.preventDefault(),ve(a).then((function(){(0,c.dispatchDOMMouseEvent)(e)}),(function(e){Ke.delete(t),console.warn("Action threw an error:",e)})))}else Ke.delete(t)})),(0,m.$)("body").on("click","a[href]:not([rel]), [data-href]",(function(e){var t=e.currentTarget;if("_blank"!==t.target&&"navigate"in _e){e.preventDefault(),e.stopPropagation();var n=(0,m.$)(t).closest("[is-modal]")[0];n?(et(n).then((function(){_e.navigate(t.getAttribute("data-href")||t.getAttribute("href"))})),Ze(n)):(_e.navigate(t.getAttribute("data-href")||t.getAttribute("href")),Ze())}})),(0,m.$)("body").on("click","[set-var]:not([match-path])",(function(e){var t=e.currentTarget;t===(0,m.$)(e.target).closest("[set-var]")[0]&&(We(t),Ze())})),(0,m.$)("body").on("click","[toggle]",(function(e){var t=e.currentTarget;e.stopPropagation(),et(t.getAttribute("toggle"),null,t,!0)})),(0,m.$)("body").on("click","[toggle-class]",(function(e){e.stopPropagation();var t=e.currentTarget,n=t.getAttribute("toggle-class-for"),r=n?(0,c.selectClosestRelative)(n,t):e.currentTarget;(0,c.each)(t.getAttribute("toggle-class"),(function(e,t){(0,c.setClass)(r,t.slice(1),"+"===t[0])}))})),(0,m.$)("body").on("click",(function(){Ze()}))})),(0,c.define)(Ee,{defaults:L,...a,...r,...o,...i,getVar:Ge,setVar:We,evalAttr:Je,isElementActive:ee,handleAsync:ve,preventLeave:xe,install:Ve,addDetect:function(e,t){Pe[e]=(0,c.throwNotFunction)(t)}});const tt=Ee;Ve("config",(function(e,t){var n=(0,c.watchable)();(0,c.define)(e,{config:n}),e.beforeInit(O(t.path).catch((0,c.isFunction)(t.fallback)||null).then((function(e){(0,c.extend)(n,e),t.freeze&&(0,c.deepFreeze)(n)})))}));L.formVar=!0,Ve("formVar",(function(e){e.matchElement("form[form-var]",(function(t){var n=t.getAttribute("form-var"),r=w(t),a=function(){We(t,n?(0,c.kv)(n,(0,c.extend)({},r)):r)};j.watchElements(t,":input",(function(e,n){(0,m.$)(e).on("change",a),(0,m.$)(n).off("change",a),r=w(t),a()})),e.on(t,"reset",(function(){var e=Ge(t);return n?ee(He(e,n).element)||t.reset():(0,c.each)(t.elements,(function(t,n){ee(He(e,n.name).element)||n.reset()})),!0})),(0,m.$)(":input",t).on("change",a),a()})),e.on("pageenter",(function(e){(0,m.$)((0,c.selectIncludeSelf)("form[form-var]",e.target)).each((function(e,t){(0,m.$)(":input:eq(0)",t).trigger("change")}))}))}));function nt(e,t){var n=navigator.languages?[].slice.apply(navigator.languages):[navigator.language||""];return(0,c.each)(n,(function(e,t){if(t.indexOf("-")>0){var r=t.split("-")[0];if(n.indexOf(r)<0)for(var a=n.length-1;a>=0;a--)n[a].split("-")[0]===r&&n.splice(a+1,0,r)}})),e=e||n,(0,c.any)(n,(function(t){return e.indexOf(t)>=0}))||t||e[0]}Ve("i18n",(function(e,t){var n=e.route&&t.routeParam,r=t.cookie&&r(t.cookie,864e5),a=n&&e.route[n]||r&&r.get()||nt(t.languages,t.defaultLanguage),o=function(o){t.languages.indexOf(o)<0&&(o=a),e.language=o,r&&r.set(o),n&&(e.route[n]=o),a!==o&&(a=o,t.reloadOnChange&&location.reload())};e.define({language:a,setLanguage:o,detectLanguage:nt}),e.watch("language",o),n&&(e.route.watch(n,o),e.on("ready",(function(){e.route[n]=a})))}));Ve("login",(function(e,t){var n=P((t=(0,c.extend)({loginPagePath:"",defaultRedirectPath:"",cookie:"",expiry:0,logout:null,login:null,tokenLogin:null,getTokenFromResponse:null},t)).cookie,t.expiry),r=(0,c.defineObservableProperty)(e,"loggedIn",!1);function a(a){r(!0),(0,c.isFunction)(t.getTokenFromResponse)&&n.set(t.getTokenFromResponse(a)),e.emit("login",{data:a})}var o=e.initialPath,i=n.get();i&&(0,c.isFunction)(t.tokenLogin)&&e.beforeInit((0,c.catchAsync)((0,c.resolveAll)(t.tokenLogin(i),a))),e.define({login:function(n,i,l){return l=(0,c.isFunction)(l||i),i="string"==typeof i&&i,(0,c.resolveAll)(t.login(n)).then((function(e){return a(e),l&&l()}),(function(e){throw r(!1),e.status>=500?"server-error":"incorrect-cred"})).then((function(){o===e.resolvePath(t.loginPagePath)&&(o=""),e.navigate(i||o||t.defaultRedirectPath),o=""}))},logout:function(a,o){return e.loggedIn?(o=(0,c.isFunction)(o||a),a="string"==typeof a&&a,(0,c.resolve)(xe()).then((function(){return t.logout()})).then((function(){return r(!1),n.delete(),e.emit("logout"),o&&o()})).then((function(){e.navigate(a||t.loginPagePath)}))):(0,c.resolve)()}}),e.on("navigate",(function(n){var r=e.resolvePath(t.loginPagePath);(0,c.either)(e.loggedIn,n.pathname!==r)&&(e.loggedIn?e.navigate(t.defaultRedirectPath):(o=n.pathname,e.navigate(r)))}))}));const rt="background-image".split(" ");L.preloadImage=!0,Ve("preloadImage",(function(e){e.beforeUpdate((function(e){var t={};return(0,c.each)(e,(function(e,n){(n.src||n.style)&&ee(e)&&(n.src&&(t[n.src]=!0),n.style&&(0,c.each)(rt,(function(e,r){var a=(0,v.isCssUrlValue)(n.style[r]);a&&(t[d(a)]=!0)})))})),C((0,c.keys)(t),200)})),e.beforePageEnter((function(e){return C(e,1e3)}))}));Ve("scrollable",(function(e){var t=window.DOMMatrix||window.WebKitCSSMatrix||window.MSCSSMatrix,n=(0,c.createPrivateStore)(),r=0;function a(e){return n(e)||n(e,{childClass:"scrollable-target-"+ ++r})}function o(){(0,m.$)("[scrollable]:visible").scrollable("refresh")}function i(){(0,m.$)('[animate-on~="scroll-into-view"]:not(.tweening-in):visible').each((function(e,n){var r=new t(getComputedStyle(n).transform),a=(0,c.getRect)(j.root),o=(0,c.getRect)(n);((0,c.rectIntersects)(a,o.translate(-r.e||0,0))||(0,c.rectIntersects)(a,o.translate(0,-r.f||0)))&&R(n,"scroll-into-view")}))}e.on("mounted",(function(t){(0,m.$)((0,c.selectIncludeSelf)("[scrollable-target]",t.target)).each((function(e,t){var n=(0,m.$)(t).closest("[scrollable]")[0];(0,m.$)(t).addClass(a(n).childClass)})),(0,m.$)((0,c.selectIncludeSelf)("[scrollable]",t.target)).each((function(t,n){!function(t){var n,r,o=t.getAttribute("scrollable"),i=t.getAttribute("scroller-snap-page")||"",l=t.getAttribute("scroller-state")||"",u=t.getAttribute("scroller-page")||"",s=u&&(0,m.$)(u,t).get(),f=!1,d=!1;function h(e){if(l){var n={};n[l]=e,We(t,n)}}function p(e,r){r=r||"center top",!f&&(0,c.isVisible)(t)&&(f=!0,n=!0,h(e),(0,m.$)(t).scrollable("scrollToElement",s[e],r,r,200,(function(){f=!1,n=!1})))}function g(){("always"===i||i===e.orientation)&&(0,c.isVisible)(t)&&(f?d=!0:(d=!1,p(Ge(t)[l])))}(0,m.$)(t).scrollable({bounce:!1,handle:(0,c.matchWord)(o,"auto scrollbar content")||"content",hScroll:!(0,c.matchWord)(o,"y-only"),vScroll:!(0,c.matchWord)(o,"x-only"),content:"."+a(t).childClass+":visible:not(.disabled)",pageItem:u,snapToPage:"always"===i||i===e.orientation,scrollbar:!1,scrollStart:function(n){e.emit("scrollStart",t,n,!0)},scrollMove:function(n){e.emit("scrollMove",t,n,!0)},scrollEnd:function(n){e.emit("scrollStop",t,n,!0)}}),u&&("always"!==i&&e.on("orientationchange",(function(){(0,m.$)(t).scrollable("setOptions",{snapToPage:i===e.orientation})})),l&&(e.on(t,{statechange:function(e){var t=e.data[l];f||((0|(0,c.getRect)(s[t]).width)>(0|(0,c.getRect)().width)?p(t,"left center"):p(t))},scrollMove:function(e){f=!0,n||h(e.pageIndex)},scrollStop:function(e){h(e.pageIndex),f=!1,d&&g()}},!0),(0,m.$)(window).on("resize",(function(){clearTimeout(r),r=setTimeout(g,200)}))))}(n)}))})),e.on("statechange orientationchange animationcomplete",(function(){(0,c.setTimeoutOnce)(o)})),e.on("pageenter",(function(e){var t=(0,m.$)((0,c.selectIncludeSelf)("[scrollable]",e.target)).add((0,m.$)(e.target).parents("[scrollable]"));(0,m.$)((0,c.selectIncludeSelf)("[scrollable-target]",e.target)).each((function(e,t){(0,m.$)(t).toggleClass("disabled",!ee(t))})),t.scrollable("refresh"),t.filter(":not([keep-scroll-offset])").scrollable("scrollTo",0,0)})),e.on("resize pageenter statechange scrollMove orientationchange",(function(){(0,c.setTimeoutOnce)(i)}))}));var at=n(163);L.viewport=!0,Ve("viewport",(function(e){var t,n,r,a=(0,c.defineObservableProperty)(e,"orientation",""),o=at.IS_TOUCH&&"MacIntel"!==navigator.platform,i=screen.availWidth,l=screen.availHeight;function u(u){at.IS_TOUCH&&screen.availWidth===i&&screen.availHeight===l&&screen.availWidth===window.innerWidth?(0,m.$)("body").css("min-height",(0,m.$)("body").height()+"px"):(0,m.$)("body").css("min-height","0"),i=screen.availWidth,l=screen.availHeight;var s=(0,m.$)("body").height()||0;((0,m.$)("html").height()||0)<s&&(0,m.$)(j.activeElement).is(":text")&&j.scrollIntoView(j.activeElement);var f=t;n=o?i:document.body.offsetWidth,r=o?i===window.innerWidth?l:window.innerHeight:document.body.offsetHeight,a((t=n/r)>=1?"landscape":"portrait"),!1!==u&&(e.emit("resize",{aspectRatio:t,viewportWidth:n,viewportHeight:r}),(0,c.either)(t>=1,f>=1)&&e.emit("orientationchange",{orientation:e.orientation}))}(0,c.define)(e,{get aspectRatio(){return t},get viewportWidth(){return n},get viewportHeight(){return r}}),e.on("orientationchange",(function(){R(j.root,"orientationchange")})),(0,m.$)(window).on("resize",(function(){(0,c.setTimeoutOnce)(u)})),(0,m.$)((function(){u(!1)}))}));const ot=tt},609:e=>{e.exports=o},160:e=>{e.exports=a},229:e=>{e.exports=i},163:e=>{e.exports=c},260:e=>{e.exports=n},50:e=>{e.exports=r},774:e=>{e.exports=t},990:t=>{t.exports=e}},u={};function s(e){if(u[e])return u[e].exports;var t=u[e]={exports:{}};return l[e](t,t.exports,s),t.exports}return s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s(349)})()}));
//# sourceMappingURL=brew.min.js.map