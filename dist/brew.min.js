!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("zeta-dom"),require("jQuery"),require("promise-polyfill"),require("waterpipe"),require("historyjs")):"function"==typeof define&&define.amd?define("brew",["zeta-dom","jQuery","promise-polyfill","waterpipe","historyjs"],e):"object"==typeof exports?exports.brew=e(require("zeta-dom"),require("jQuery"),require("promise-polyfill"),require("waterpipe"),require("historyjs")):t.brew=e(t.zeta,t.jQuery,t["promise-polyfill"],t.waterpipe,t.History)}(self,(function(t,e,n,r,o){return function(){var i={65:function(t,e,n){"use strict";n.d(e,{default:function(){return Mn}});var r={};n.r(r),n.d(r,{baseUrl:function(){return nt},combinePath:function(){return ot},isSubPathOf:function(){return lt},normalizePath:function(){return it},setBaseUrl:function(){return rt},toAbsoluteUrl:function(){return ct},toRelativeUrl:function(){return ut},withBaseUrl:function(){return at}});var o={};n.r(o),n.d(o,{addStyleSheet:function(){return Ht},api:function(){return zt},cookie:function(){return Dt},copyAttr:function(){return Rt},deleteCookie:function(){return Lt},getAttrValues:function(){return Nt},getCookie:function(){return Ut},getFormValues:function(){return $t},getJSON:function(){return Ft},getQueryParam:function(){return qt},loadScript:function(){return Wt},preloadImages:function(){return _t},setAttr:function(){return Mt},setCookie:function(){return Vt}});var i={};n.r(i),n.d(i,{addAnimateIn:function(){return re},addAnimateOut:function(){return oe},animateIn:function(){return ee},animateOut:function(){return ne}});var a={};n.r(a),n.d(a,{addAsyncAction:function(){return An},closeFlyout:function(){return On},openFlyout:function(){return Pn}});var c=n(163),u=c.util,l=u.noop,s=u.either,f=u.is,d=(u.isUndefinedOrNull,u.isArray),g=u.isFunction,h=u.isThenable,p=u.isPlainObject,m=(u.isArrayLike,u.makeArray),v=u.extend,b=u.each,y=u.map,w=u.grep,S=(u.splice,u.any),x=(u.single,u.kv),A=u.pick,O=u.exclude,P=u.mapGet,k=u.mapRemove,T=u.equal,I=u.createPrivateStore,j=u.setTimeoutOnce,C=u.setImmediate,E=u.setImmediateOnce,N=u.throwNotFunction,M=u.keys,R=u.values,$=u.hasOwnProperty,q=(u.getOwnPropertyDescriptors,u.define),U=u.definePrototype,V=u.defineOwnProperty,L=u.defineGetterProperty,D=u.defineHiddenProperty,z=u.defineAliasProperty,F=u.defineObservableProperty,W=u.watch,H=u.watchOnce,_=u.watchable,Q=(u.inherit,u.deepFreeze),J=u.iequal,B=(u.randomId,u.repeat,u.camel),G=(u.hyphenate,u.ucfirst,u.lcfirst,u.trim,u.matchWord),K=u.htmlDecode,Z=u.resolve,X=u.reject,Y=(u.always,u.resolveAll),tt=u.catchAsync,et=u.setPromiseTimeout,nt="";function rt(t){nt=t}function ot(t,e){return t=it(t),e=it(e),"/"===t?e:"/"===e?t:t+e}function it(t,e){if(null==t)return"/";if(/:\/\/|\?|#/.test(t)){var n=document.createElement("a");return n.href=t,n.origin+it(n.pathname,e)+n.search+n.hash}if(t=String(t).replace(/\/+(\/|$)/,"$1"),e&&t.indexOf("./")>=0){for(var r=t.split("/"),o=1;o<r.length;)"."===r[o]?r.splice(o,1):".."===r[o]?r.splice(--o,2):o++;t=r.join("/")}return"/"===t[0]?t:"/"+t}function at(t){return t=it(t),nt&&"/"===t[0]&&!lt(t,nt)?it(nt+t):t}function ct(t){return t.indexOf("://")>0?t:location.origin+at(t)}function ut(t){return t.substr(0,location.origin.length)===location.origin?t.substr(location.origin.length):t}function lt(t,e){return t.substr(0,e.length)===e&&(t.length===e.length||"/"===t[e.length])}var st=n(304),ft=n(511),dt=c.css,gt=dt.parseCSS,ht=dt.isCssUrlValue,pt=dt.runCSSTransition,mt=c.util,vt=(mt.domReady,mt.tagName,mt.is,mt.isVisible),bt=mt.matchSelector,yt=(mt.comparePosition,mt.connected,mt.containsOrEquals),wt=(mt.acceptNode,mt.combineNodeFilters,mt.iterateNode),St=(mt.iterateNodeToArray,mt.getCommonAncestor,mt.parentsAndSelf,mt.selectIncludeSelf),xt=mt.selectClosestRelative,At=mt.createNodeIterator,Ot=(mt.createTreeWalker,mt.bind,mt.bindUntil),Pt=mt.dispatchDOMMouseEvent,kt=(mt.removeNode,mt.getClass,mt.setClass),Tt=(mt.getScrollOffset,mt.getScrollParent,mt.getContentRect,mt.scrollBy,mt.scrollIntoView),It=(mt.createRange,mt.rangeIntersects,mt.rangeEquals,mt.rangeCovers,mt.compareRangePosition,mt.makeSelection,mt.getRect),jt=(mt.getRects,mt.toPlainRect,mt.rectEquals,mt.rectCovers,mt.rectIntersects),Ct=(mt.pointInRect,mt.mergeRect,mt.elementFromPoint,{}),Et={};function Nt(t){var e={};return b(t.attributes,(function(t,n){e[n.name]=n.value})),e}function Mt(t,e,n){b(p(e)||x(e,n),(function(e,n){t.setAttribute(e,n)}))}function Rt(t,e){b(t.attributes,(function(t,n){e.setAttribute(n.name,n.value)}))}function $t(t){var e={};return b(t.elements,(function(n,r){if(r.name&&!(r.name in e)){var o=t.elements[r.name];L(e,r.name,(function(){return"checkbox"===o.type?o.checked:o.value}))}})),e}function qt(t){return new RegExp("[?&]"+t+"=([^&]+)","i").test(location.search)&&decodeURIComponent(RegExp.$1)}function Ut(t){return new RegExp("(?:^|\\s|;)"+t+"=([^;]+)").test(document.cookie)&&RegExp.$1}function Vt(t,e,n){return document.cookie=t+"="+e+";path=/"+(n?";expires="+new Date(Date.now()+n).toGMTString():""),e}function Lt(t){document.cookie=t+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT"}function Dt(t,e){return{get:function(){return Ut(t)},set:function(n){return Vt(t,n,e)},delete:function(){return Lt(t)}}}function zt(t,e){var n="get post delete";if("string"==typeof t&&G(t,n))return zt(e=v({},"string"==typeof e?{baseUrl:e}:e,{methods:t}))[t];var r={baseUrl:(t=v({},t)).baseUrl,token:t.token};return b(t.methods||n,(function(e,o){G(o,n)&&(D(r,o,(function e(n,i){if(!r.baseUrl)return H(r,"baseUrl",(function(){return e(n,i)}));var a={"Content-Type":"application/json"};return r.token&&(a.Authorization="Bearer "+r.token),st.ajax({method:o,url:ot(r.baseUrl,n),headers:a,dataType:"json",data:JSON.stringify(i||{}),success:function(e){g(t.getTokenFromResponse)&&(r.token=t.getTokenFromResponse(e,r.token))}}).catch((function(t){if(0===t.status)throw"network-failed";var e=t.responseJSON;if(e)throw console.error(n+":",e.error||e.message),e.error||e.message;throw t.statusText}))})),z(r[o],"baseUrl",r),z(r[o],"token",r))})),r}function Ft(t){return st.getJSON(at(t))}function Wt(t,e){return d(t)?t.reduce((function(t,n){return t.then((function(){return Wt(n,e)}))}),Z()):(Et[t]||(Et[t]=new ft((function(n,r){var o=document.createElement("script");if((e=e||{}).nomodule){if("noModule"in o)return void n();o.setAttribute("nomodule","")}e.module&&o.setAttribute("type","module"),o.addEventListener("load",(function(){n({})})),o.addEventListener("error",(function(){r()})),o.src=at(t),document.head.appendChild(o)}))),Et[t])}function Ht(t,e){var n=document.createElement("link");n.rel="stylesheet",n.href=at(t),e&&(n.media=e),document.head.appendChild(n)}function _t(t,e){if(!d(t)){var n={},r=function(t){ht(t)&&(n[RegExp.$1||RegExp.$2||RegExp.$3]=!0)};wt(At(t,1),(function(t){bt(t,"img")&&t.src&&(n[t.src]=!0),r(getComputedStyle(t).backgroundImage),r(getComputedStyle(t,"::before").backgroundImage),r(getComputedStyle(t,"::after").backgroundImage)})),t=M(n)}var o=[],i=[];return t.forEach((function(t){o.push(Ct[t]||(Ct[t]=new ft((function(e){i.push(t),st("<img>").on("load error",(function(){Ct[t]=!0,e()})).attr("src",t)}))))})),!o.length||o.every((function(t){return!0===t}))?Z():(i.length&&console.log("Preload image",{urls:i}),et(Y(R(Ct)),e,!0))}const Qt=c.dom;var Jt=c.dom;Jt.textInputAllowed,Jt.beginDrag,Jt.beginPinchZoom,Jt.getShortcut,Jt.setShortcut,Jt.focusable,Jt.focused,Jt.setModal,Jt.retainFocus,Jt.releaseFocus,Jt.focus;const Bt=Qt;var Gt={},Kt={},Zt=new Map,Xt=0;function Yt(t,e,n,r){if(!n.length)return Z();var o,i,a,c=++Xt;n=n.map((function(t){return t instanceof ft?tt(t):new ft((function(e){t.then(e,e)}))})),tt(Y(n,(function(){clearTimeout(o),a(),Zt.delete(t),console.log("Animation #%i completed",c)}))),n.push(new ft((function(t,e){a=t,i=e}))),o=setTimeout((function(){i("Animation #"+c+" timed out"),console.log("Animation #%i might take longer than expected",c,n),Zt.delete(t)}),1500);var u=tt(Y(n));return console.log("Animation #%i triggered on %s",c,r,{elements:e}),Zt.set(t,u),u}function te(t,e,n,r){var o=[pt(t,e),Bt.emit(n,t)],i=parseFloat(st(t).css("transition-delay"));return b(r,(function(e,n){if(t.attributes[e]){var r=t.getAttribute(e);o.push(new ft((function(e,o){setTimeout((function(){Y(n(t,r)).then(e,o)}),1e3*i)})))}})),Y(o,(function(){return t}))}function ee(t,e,n,r){if(Zt.has(t))return Zt.get(t).then((function(){return ee(t,e,n,r)}));r=r||function(){return!0},Bt.emit("animationstart",t,{animationType:"in",animationTrigger:e},!0);var o=n?st(n,t):st(),i="show"===e?':not([animate-on]), [animate-on~="'+e+'"]':'[animate-on~="'+e+'"]',a=[],c=[];return st(St("[animate-in]",t)).filter(i).each((function(t,e){!o.find(e)[0]&&r(e)&&vt(e)&&(a.push(e),c.push(te(e,"tweening-in","animatein",Gt)))})),st(St("[animate-sequence]",t)).filter(i).each((function(t,e){if(!o.find(e)[0]&&r(e)&&vt(e)){var n=e.getAttribute("animate-sequence")||"",i=e.getAttribute("animate-sequence-type")||"",u=st(e).find(">"===n[0]?n:st(n));void 0!==st(e).attr("animate-sequence-reverse")&&[].reverse.apply(u),u.css("transition-duration","0s"),u.attr("animate-in",i).attr("is-animate-sequence",""),u.each((function(t,e){"inline"===st(e).css("display")&&st(e).css("display","inline-block"),a.push(e),c.push(new ft((function(n,r){setTimeout((function(){st(e).css("transition-duration",""),te(e,"tweening-in","animatein",Gt).then(n,r)}),50*t)})))})),e.attributes["animate-in"]||st(e).attr("animate-in","").addClass("tweening-in")}})),Yt(t,a,c,e).then((function(){Bt.emit("animationcomplete",t,{animationType:"in",animationTrigger:e},!0)}))}function ne(t,e,n,r,o){r=r||function(){return!0},Bt.emit("animationstart",t,{animationType:"out",animationTrigger:e},!0);var i=n?st(n,t):st(),a="show"===e?':not([animate-on]), [animate-on~="'+e+'"]':'[animate-on~="'+e+'"]',c=[],u=[];return st((o?st:St)("[animate-out]",t)).filter(a).each((function(t,e){!i.find(e)[0]&&r(e)&&(c.push(e),u.push(te(e,"tweening-out","animateout",Kt)))})),Yt(t,c,u,e).then((function(){var n=st((o?st:St)("[animate-out], .tweening-in, .tweening-out",t));"show"!==e&&(n=n.filter(a)),(n=n.filter((function(t,e){return r(e)}))).removeClass("tweening-in tweening-out"),n.find("[is-animate-sequence]").removeAttr("animate-in").removeClass("tweening-in tweening-out"),Bt.emit("animationcomplete",t,{animationType:"out",animationTrigger:e},!0)}))}function re(t,e){Gt[t]=N(e)}function oe(t,e){Kt[t]=N(e)}var ie=n(203);const ae={};var ce=n(715);function ue(t){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function le(t,e){return"["+t+"] "+(e=m(e).map((function(t){return f(t,Element)?(n=t).tagName.toLowerCase()+(n.id?"#"+n.id:n.className.trim()&&n.className.replace(/^\s*|\s+(?=\S)/g,"."))+":":t&&"object"===ue(t)?(e=JSON.stringify(t),'[{"]'.indexOf(e[0])>=0&&e.length>200?e[0]+e.substr(1,199)+"…"+e[e.length-1]:e):t;var e,n})).join(" "))}function se(t,e,n){var r;try{console.groupCollapsed(le(t,e)),r=!0}catch(t){}try{n(console)}finally{if(r)try{console.groupEnd()}catch(t){}}}var fe,de=I(),ge=new Map,he=[],pe=[Bt.root];function me(t,e){var n=st(t).closest("[match-path]")[0];return!n||(e||pe).indexOf(n)>=0}function ve(t,e,n){return t=t||[],delete(n=v({},n)).remainingSegments,{minPath:it(e.slice(0,t.minLength).join("/")),maxPath:it(e.slice(0,t.length).join("/")),route:t,params:n}}function be(t,e,n){var r=this,o=de(r,{});o.routes=e.map((function(t){var e,n=[];return String(t).replace(/\/(\*|[^{][^\/]*|\{([a.-z_$][a-z0-9_$]*)(\?)?(?::(?![*+?])((?:(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])([*+?]|\{\d+(?:,\d+)\})?)+))?\})(?=\/|$)/gi,(function(t,o,i,a,c){a&&!e&&(e=n.length),n.push(i?{name:i,pattern:c?new RegExp("^"+c+"$","i"):/./}:o.toLowerCase()),r[i||"remainingSegments"]=null})),D(n,"value",t),D(n,"exact",!("*"===n[n.length-1]&&n.splice(-1))),D(n,"minLength",e||n.length),D(n,"names",y(n,(function(t){return t.name}))),n})),Object.preventExtensions(r),v(r,r.parse(n)),o.current=o.lastMatch,o.handleChanges=W(r,!0),Object.getOwnPropertyNames(r).forEach((function(t){F(r,t)})),W(r,(function(){var e=O(r,["remainingSegments"]),n=!1,i=!T(e,o.current.params);if(i&&o.lastMatch&&(o.current=o.lastMatch,i=!T(e,o.current.params)),i){var a,c,u=[],l=S(o.routes,(function(t){for(u.length=0,a=0,c=t.length;a<c;a++){var e=t[a].name;if(e&&a<t.minLength&&!t[a].pattern.test(r[e]||""))return!1;u[a]=e?r[e]:t[a]}for(a in r)"remainingSegments"!==a&&r[a]&&t.names.indexOf(a)<0&&(r[a]=null,n=!0);return!0}));o.current=ve(l,u,r)}(o.current.route||"").exact&&"/"!==r.remainingSegments?r.remainingSegments="/":n||t.navigate(r.toString())}))}U(be,{parse:function(t){var e=de(this),n=it(t).slice(1).split("/"),r={},o=S(e.routes,(function(t){if(r={},n.length<t.minLength)return!1;for(var e=0,o=t.length;e<o;e++){var i=t[e].name;if(n[e]&&!(i?t[e].pattern.test(n[e]):J(n[e],t[e])))return!1;i&&(r[i]=n[e])}return r.remainingSegments=t.exact?"/":it(n.slice(t.length).join("/")),!0}));for(var i in this)r[i]=r[i]||null;return e.lastMatch=ve(o,n,r),r},set:function(t){var e=this;if("string"==typeof t){if(J(t,e.toString()))return;t=e.parse(t)}de(e).handleChanges((function(){v(e,t)}))},toString:function(){return ot(de(this).current.maxPath||"/",this.remainingSegments)}}),_(be.prototype),on("router",(function(t,e){!function(t,e){var n,r,o=t.path||e.initialPath||e.queryParam&&qt(e.queryParam)||location.pathname.substr(e.baseUrl.length)||"/",i=new be(t,e.routes,o),a="",c={},u={},l=0;function s(e,n){return e=decodeURI(e),n=n||t.path,"~"===e[0]?e=ot((J(n,i.toString())?de(i).current:i.parse(n)&&de(i).lastMatch).minPath,e.slice(1)):"/"!==e[0]&&(e=ot(n,e)),(e=it(e,!0)).indexOf("{")<0?e:e.replace(/\{([^}]+)\}/g,(function(t,e){return i[e]||t}))}function f(e,n){e=at(s(e)),ce[n?"replaceState":"pushState"]({},document.title,e),t.path=e.substr(nt.length)||"/"}function d(e,n,r){if(a===e){var o=new Map,i=Bt.eventSource,c=pe.slice(0);pe=r,fe=st(r).filter("[page-title]")[0],u={};var s=yn(fe,"page-title",!0);location.pathname.substr(nt.length)!==e&&ce[l?"pushState":"replaceState"]({},s,at(e)),l++,document.title=s,ze(!0,(function(){se(i,["pageenter",e],(function(){ge.forEach((function(r){var a=pe.indexOf(r)>=0;a===c.indexOf(r)<0&&(a?(mn(r,!1),hn(r),setTimeout((function(){var n=o.get(st(r).parents("[match-path]")[0]),i=he.map((function(t){return t(r,e)}));i.push(n),o.set(r,Y(i,(function(){pe.indexOf(r)>=0&&(kt(r,"hidden",!1),ee(r,"show","[match-path]"),t.emit("pageenter",r,{pathname:e},!0))})))}))):(t.emit("pageleave",r,{pathname:n},!0),ne(r,"show","[match-path]").then((function(){pe.indexOf(r)<0&&se(i,["pageleave",n],(function(){kt(r,"hidden",!0),mn(r,!0)}))}))))}))})),b(o,(function(t,e){Ve(e,t)}))}))}}function g(){if(r!==a)if(Bt.locked(Bt.activeElement,!0))f((n=r===n?null:a)||r,!0);else{var e=We();if(e)return n=a,f(a,!0),void Z(e).then((function(){f(r,!0)}));n=null;var o,c=[Bt.root],l=a;ze(!0,(function(){ge.forEach((function(t,e){var n=s(t.getAttribute("match-path"),r);(st('[switch=""]',t)[0]?lt(r,n):r===n)&&(c.unshift(t),t.parentNode||(st(e).replaceWith(t),Le(t),Fe(t)))}))})),u[r]&&u[l]?d(r,l,c):(u[r]=!0,st('[switch=""]').each((function(t,e){if(me(e,c)){var n=st(e).children("[match-path]");if(!n.filter((function(t,e){return c.indexOf(e)>=0}))[0])return o=(n.filter("[default]")[0]||n[0]).getAttribute("match-path"),!1}})),o?f(o,!0):(console.log("Nagivate",r),a=r,t.path=r,i.set(r),Ve(e=t.emit("navigate",{pathname:r,oldPathname:l,route:Object.freeze(v({},i))}),Bt.root,(function(){d(r,l,c)}))))}}W(c,!0),F(c,"path","",(function(t){return Be?((r=s(t,a))!==a&&E(g),a):a})),rt(e.baseUrl||""),t.define({resolvePath:s,navigate:f,back:function(){l>1?ce.back():"/"!==t.path&&f("/")}}),V(t,"initialPath",o,!0),V(t,"route",i,!0),z(t,"path",c),t.beforeInit((function(){Bt.ready.then((function(){st("[match-path]").addClass("hidden").each((function(t,e){var n=document.createElement("div");n.setAttribute("style","display: none !important"),n.setAttribute("match-path",e.getAttribute("match-path")||""),e.attributes.default&&n.setAttribute("default",""),st(e).before(n),st(e).detach(),ge.set(n,e)})),ce.Adapter.bind(window,"statechange",(function(){t.path=location.pathname.substr(nt.length)||"/"}))}))})),t.on("ready",(function(){t.path=o})),t.on("mounted",(function(e){var n=st(St("video[autoplay], audio[autoplay]",e.target));n[0]&&(n.removeAttr("autoplay"),t.on(e.target,{pageenter:function(){n.each((function(t,e){0!==e.readyState&&(e.currentTime=0),e.play()}))},pageleave:function(){n.each((function(t,e){e.pause()}))}},!0))})),t.on("pageleave",(function(e){st(St("form",e.target)).each((function(e,n){t.emit("reset",n,null,!1)||n.reset()}))})),t.on("statechange",(function(t){yt(t.target,fe)&&(document.title=yn(fe,"page-title",!0))}))}(t,e||{})}));var ye="background-image".split(" "),we="checked selected disabled readonly multiple ismap",Se=I(),xe=Bt.root,Ae=new Set,Oe=new Map,Pe=[],ke=[],Te=[],Ie={},je={},Ce={},Ee=0,Ne=!1;function Me(t,e){var n=Se(e)||Se(e,{});return n[t]||(n[t]={})}function Re(t,e){var n={};return b(t,(function(t,r){r!==e[t]&&(n[t]=r)})),n}function $e(t,e,n){b(e,(function(e,n){"$$class"===e?kt(t,n):"$$text"===e?t.textContent=n:"style"===e?st(t).css(n):G(e,we)?t[e]=!!n:t.setAttribute(e,n)})),n||Bt.emit("domchange",t)}function qe(t,e){b(e,(function(e,n){t[e]="$$class"===e||"style"===e?v({},t[e],n):n}))}function Ue(t,e){var n,r=new Set;do{t=m(t),n=m(r),b(Ie,(function(o,i){st(St("["+o+"]",t)).not(n).each((function(t,n){i(n,Me.bind(0,o),e),r.add(n)}))}))}while(n.length!==r.size)}function Ve(t,e,n){if(!h(t))return Z((n||l)());if(e||"script"!==Bt.eventSource){var r=gn("loading",(e=e||Bt.activeElement)||xe),o=gn("error",e||xe),i=Me("handleAsync",r);hn(r,{loading:vn(r,"loading")||!0}),hn(o,{error:null}),i.value=(i.value||0)+1,t.then((function(){hn(r,{loading:!!--i.value})}),(function(t){hn(r,{loading:!!--i.value}),hn(o,{error:""+(t.message||t)})}))}return t.then(n||null)}function Le(t){Ae.add(t)}function De(t){if(!Ee&&!Ne){var e=new Map,n=new Map,r=function(t,e){qe(P(n,t,Object),e)};Ne=!0;try{se(Bt.eventSource,"statechange",(function(){Ue(Ae,r);var t=st.uniqueSort(w(Ae,(function(t){return yt(xe,t)&&Ae.delete(t)})));b(t,(function(t,n){var r=vn(n),o=Me("oldValues",n);e.set(n,{oldValues:v({},o),newValues:Re(r,o)}),v(o,r)}));var n=[];b(t.reverse(),(function(t,o){se("statechange",[o,e.get(o).newValues],(function(t){t.log(o===xe?document:o),st(St("["+M(je).join("],[")+"]",o)).not(n).each((function(t,e){b(je,(function(t,n){e.attributes[t]&&n(e,Me.bind(0,t),r)})),n.push(e)}))}))}))})),Y(Pe.map((function(t){return t(n)}))).then((function(){var r=new Map;b(n,(function(n,o){if(t)Oe.has(n)?qe(Oe.get(n),o):$e(n,o);else{var i=st(n).filter("[match-path]")[0]||st(n).parents("[match-path]")[0]||xe,a=r.get(i);if(!a){var c=function(t){var n,r=t.getAttribute("animate-on-statechange");if(!r)return!0;for(;t&&!(n=e.get(t));t=t.parentNode);return n&&S(r,(function(t){return t in n.newValues}))};a=[],C((function(){ne(i,"statechange","[match-path]",c,!0).then((function(){b(a,(function(t,e){$e(e,k(Oe,e))})),ee(i,"statechange","[match-path]",c)}))})),r.set(i,a)}qe(P(Oe,n,Object),o),a.push(n)}})),b(e,(function(t,e){Bt.emit("statechange",t,{data:vn(t),newValues:e.newValues,oldValues:e.oldValues},!0)}))}))}finally{Ne=!1}}}function ze(t,e){var n=!0;try{Ee=(Ee||0)+1,N(e||t)()}catch(t){throw n=!1,t}finally{!--Ee&&n&&De(!0===t)}}function Fe(t){var e=Ne;Ne=!0;try{Ue(t,(function(t,e){$e(t,e,!0)}))}finally{Ne=e}for(var n=[t],r=t===xe,o=-1,i=0;o<Te.length;)b(Te.slice(o<0?0:o),(function(e,r){st(St(r.target,t)).each((function(t,e){Je.on(e,r.handlers),r.handlers.mounted&&n.indexOf(e)<0&&n.push(e)}))})),o=Te.length,b(st.uniqueSort(n.slice(i)),(function(t,e){Bt.emit("mounted",e)})),r||(r=!0,Bt.emit("mounted",xe,{target:t})),i=n.length;b(ke,(function(e,n){st(St(n.selector,t)).each((function(t,e){n.handler.call(e,e)}))}))}function We(t){var e=S(st("[prevent-leave]").get(),(function(t){var e=Me("preventLeave",t),n=e.allowLeave;if(me(t)||n){var r=yn(t,"prevent-leave");return!r&&n&&delete e.allowLeave,r&&!n}}));return e&&!t?Y(Bt.emit("preventLeave",e,null,!0),(function(t){if(!t)throw"user_rejected";Me("preventLeave",e).allowLeave=!0})):!!e}function He(t,e){Ce[t]=st(e)[0]}function _e(t,e){Ie[t]=N(e)}function Qe(t,e){je[t]=N(e)}_e("apply-template",(function(t,e){var n=e(t),r=t.getAttribute("apply-template"),o=Ce[r]||Ce[yn(t,"apply-template")],i=n.template;if(n.attributes||v(n,{attributes:Nt(t),childNodes:m(t.childNodes)}),o&&o!==i){n.template=o,o=o.cloneNode(!0),i&&b(i.attributes,(function(e,n){t.removeAttribute(n.name)})),Mt(t,n.attributes),Rt(o,t);var a=st(n.childNodes).detach();st(St("content:not([for])",o)).replaceWith(a),st(St("content[for]",o)).each((function(t,e){st(e).replaceWith(a.filter(e.getAttribute("for")||""))})),st(t).empty().append(o.childNodes)}})),_e("foreach",(function(t,e){var n=e(t),r=n.template||(n.template=st(t).contents().detach().filter((function(t,e){return 1===e.nodeType||/\S/.test(e.data||"")})).get()),o=n.nodes||[],i=n.data||[],a=m(yn(t,"foreach"));if(a.length!==i.length||a.some((function(t,e){return i[e]!==t}))){var c=y(a,(function(n){var a=i.indexOf(n);if(a>=0)return i.splice(a,1),o.splice(a*r.length,(a+1)*r.length);var c=st(r).clone().get();return b(c,(function(o,i){1===i.nodeType&&(e(i).template=e(r[o]).template,st(t).append(i),pn(i,{foreach:n}),Fe(i))})),c}));v(n,{nodes:c,data:a.slice()}),st(o).detach(),st(t).append(c)}})),_e("auto-var",(function(t){hn(t,yn(t,"auto-var"))})),_e("switch",(function(t,e,n){var r=t.getAttribute("switch")||"";if(me(t)&&r){var o,i,a,c=vn(t),u=ie.eval(r,c),l=st("[match-"+r+"]",t).filter((function(e,n){return st(n).parents("[switch]")[0]===t})),s=new Map;l.each((function(t,e){var n=ie.eval('"null" ?? '+e.getAttribute("match-"+r),vn(e));if(s.set(e,n),ie.eval("$0 == $1",[u,n]))return o=e,!1})),o=o||l.filter("[default]")[0]||l[0]||null,c.matched&&c.matched.element===o?(i="switch",a=[t,r,"→",u,"(unchanged)"],console.log(le(i,a)),r in c&&void 0!==s.get(o)&&hn(t,r,s.get(o))):se("switch",[t,r,"→",u],(function(e){e.log("Matched: ",o||"(none)"),o&&hn(o),hn(t,{matched:o&&vn(o)}),l.each((function(t,e){n(e,{$$class:{active:e===o}})}))}))}})),Qe("template",(function(t,e,n){var r=e(t),o=r.templates;o||(o={},b(t.attributes,(function(t,e){e.value.indexOf("{{")>=0&&(o[e.name]=G(e.name,we)?e.value.replace(/^{{|}}$/g,""):e.value)})),!t.childElementCount&&(t.textContent||"").indexOf("{{")>=0&&(o.$$text=t.textContent),r.templates=o);var i=vn(t),a={};b(o,(function(e,n){var r=bn(n,i,t,e,!G(e,we));("$$text"===e?t.textContent:(t.getAttribute(e)||"").replace(/["']/g,""))!==r&&(a[e]=r)})),n(t,a)})),Qe("set-style",(function(t,e,n){var r=gt(yn(t,"set-style",!0));b(ye,(function(t,e){var n=ht(r[e]);n&&(r[e]='url("'+at(n)+'")')})),n(t,{style:r})})),Qe("set-class",(function(t,e,n){n(t,{$$class:yn(t,"set-class")})}));var Je,Be,Ge,Ke=I(),Ze=Bt.root,Xe={};function Ye(t){return Y(t.splice(0),(function(){return t.length&&Ye(t)}))}function tn(t){return function(e){if(e.target===e.context)return t.apply(this,arguments)}}function en(t){var e=t.target;st(St('img[src^="/"], video[src^="/"]',e)).each((function(t,e){e.src=at(e.getAttribute("src"))})),st(St('a[href^="/"]',e)).each((function(t,e){e.href=at(e.getAttribute("href"))})),st(St("[data-src]",e)).each((function(t,e){e.src=at(e.dataset.src),e.removeAttribute("data-src")})),st(St("[data-bg-src]",e)).each((function(t,e){e.style.backgroundImage='url("'+at(e.dataset.bgSrc)+'")',e.removeAttribute("data-bg-src")})),st(St("form",e)).on("submit",(function(t){t.preventDefault()}))}function nn(){var t=this;Ke(t,{init:[],options:{}}),V(t,"element",Ze,!0),t.on("mounted",en)}function rn(t){if(Ge)throw new Error("brew() can only be called once");Je=new nn,b(ae,(function(t,e){var n=e&&g(Je[B("use-"+t)]);n&&n.call(Je,e)})),N(t)(Je),v(window,{app:Je}),Ge=!0,hn(Ze,{loading:"initial"}),Ve(Y([Bt.ready,Ye(Ke(Je).init)],(function(){Be=!0,Fe(Ze),Je.emit("ready")})),Ze)}function on(t,e){N(e),U(nn,x(B("use-"+t),(function(n){var r=Ke(this);r.options[t]=v(r.options[t]||{},n),e(this,r.options[t])})))}U(nn,{emit:function(t,e,n,r){return f(e,Node)||(r=n,n=e,e=this.element),Bt.emit(t,e,n,r)},define:function(t){q(this,t)},beforeInit:function(t){g(t)&&(t=t.call(this)),Ke(this).init.push(t)},detect:function(t,e){var n=this,r={};b(t,(function(t,e){Xe[e]&&(r[e]=g(Xe[e])?Xe[e]=Y(Xe[e]()).catch((function(t){return console.warn("Detection for "+e+" has thrown exception:",t),!1})):Xe[e])})),this.beforeInit(Y(r,(function(t){return t=Object.freeze(v(n.supports||{},t)),q(n,{supports:t}),g(e)&&e(t)})))},when:function(t,e){this.beforeInit(Y(t,(function(t){if(t)return e()})))},on:function(t,e,n,r){r=!0===(r||n),g(e)&&(n=e,e=t,t=Ze);var o=e;if("string"==typeof e)r&&(n=tn(n)),e.indexOf(" ")>=0?(o={},b(e,(function(t,e){o[e]=n}))):o=x(e,n);else if(r)for(var i in e)e[i]=tn(e[i]);if("string"==typeof t){if(function(t,e){Te.push({target:t,handlers:e})}(t,o),!Be)return;t=st(t).get()}else t instanceof Node&&(t=[t]);b(t,(function(t,e){Bt.on(e,o)}))},matchPath:function(t,e,n){g(e)&&(n=e,e=null),this.on("mounted",(function(r){r.target.getAttribute("match-path")!==t||e&&!st(r.target).is(e)||n.call(r.target,r.target)}))},matchElement:function(t,e){ke.push({selector:t,handler:e})},beforeUpdate:function(t){Pe.push(N(t))},beforePageEnter:function(t){he.push(N(t))}}),_(nn.prototype);c.TraversableNode,c.TraversableNodeTree,c.InheritedNode;var an=c.InheritedNodeTree,cn=(c.TreeWalker,/localhost:?/i.test(location.host)),un=Bt.root,ln={var:!0,"auto-var":!0,switch:{matched:null},"error-scope":{error:null}},sn=new an(un,(function(){var t=this,e=t.element;b(e.dataset,(function(e,n){V(t,e,ie.eval("`"+n))})),b(fn(e,!0,t),(function(e,n){V(t,e,n)})),e===un&&(t.loading=null,t.error=null)}));function fn(t,e,n){var r={};if(b(ln,(function(e,o){!0===o?v(r,yn(t,e,!1,n)):p(o)&&t.attributes[e]&&v(r,o)})),e)for(var o in r)r[o]=null;return r}function dn(t,e){e=e||un;for(var n=sn.getNode(e);null!==n;n=Object.getPrototypeOf(n))if($(n,t))return n;return console.warn("Undeclared state: %s",t,{element:e}),sn.setNode(e)}function gn(t,e){return dn(t,e).element}function hn(t,e,n){var r=e&&(p(e)||x(e,n)),o=!1;if("string"==typeof t)ze((function(){st(t).each((function(t,e){o|=hn(e,r)}))}));else{var i=sn.setNode(t);b(r||yn(t,"set-var"),(function(e,n){if(i[e]!==n){var r=dn(e,t);r[e]=n,o=!0,Le(r.element)}})),o&&Be&&E(De)}return!!o}function pn(t,e,n){var r=p(e)||x(e,n),o=sn.setNode(t);for(var i in r)$(o,i)||V(o,i,null);return hn(t,r)}function mn(t,e){ze((function(){b(sn.descendants(t),(function(t,n){hn(n.element,fn(n.element,e))}))}))}function vn(t,e){var n=sn.getNode(t)||{};return e?n[e]:v({},n)}function bn(t,e,n,r,o){var i={globals:{app:Je}},a=o?K(ie(t,v({},e),i)):ie.eval(t,v({},e),i);return cn&&se("eval",[n,r,"→",a],(function(r){r.log("%c%s%c","background-color:azure;color:darkblue;font-weight:bold",t,"","→",a),r.log("Context:",v({},e)),r.log("Element:",n===un?document:n)})),a}function yn(t,e,n,r){var o=t.getAttribute(e);return o?bn(o,r||vn(t),t,e,n):n?"":null}Bt.watchAttributes(un,M(ln),(function(t){b(t,(function(t,e){sn.setNode(e)}))}),!0),sn.on("update",(function(t){b(t.updatedNodes,(function(t,e){Le(e.element)}))}));var wn=new Map,Sn=new Map,xn={};function An(t,e){xn[t]=N(e)}function On(t,e){st(t||"[is-flyout].open").each((function(t,n){var r=wn.get(n);r&&(wn.delete(n),r.resolve(e),r.source&&kt(r.source,"target-opened",!1)),ne(n,"show").then((function(){kt(n,"open",!1)}))}))}function Pn(t,e,n,r){var o=n||Bt.root,i=t?xt(t,o):st(o).closest("[is-flyout]")[0];if(!i)return X();var a,c=wn.get(i);if(c)return r?On(i,n&&ie.eval("`"+n.value)):c.path=Je.path,c.promise;var u=new ft((function(t){a=t}));return wn.set(i,{source:n,promise:u,resolve:a,path:Je.path}),n&&kt(n,"target-opened",!0),e&&hn(i,e),pt(i,"open",(function(){Bt.focus(i)})),ee(i,"open"),i.attributes["is-modal"]&&Bt.lock(i,u),u}An("validate",(function(t){var e=xt(this.getAttribute("validate")||"",t.target);if(e){var n=Bt.emit("validate",e)||!e.checkValidity||e.checkValidity();if(n){if(h(n))return n.then((function(t){if(!t)throw"validation-failed"}))}else t.stopImmediatePropagation(),t.preventDefault()}})),An("context-method",(function(t){var e=t.currentTarget,n=B(e.getAttribute("context-method")||"");if(g(Je[n])){var r=e.getAttribute("context-form"),o=r?xt(r,e):e.form,i={},a=!0;return o?(a=Bt.emit("validate",o)||o.checkValidity(),v(i,$t(o))):v(i,e.dataset),Y(a,(function(t){if(!t)throw"validation-failed";return Je[n](i)}))}})),Bt.ready.then((function(){Je.on("mounted",(function(t){st(St("["+M(xn).join("],[")+"]",t.target)).attr("async-action","")})),Je.on("navigate",(function(){setTimeout((function(){wn.forEach((function(t,e){t.path!==Je.path&&On(e)}))}))})),st("body").on("click","[disabled], .disabled, :disabled",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),st("body").on("click","[async-action]",(function(t){var e=t.currentTarget,n=P(Sn,e,Array),r=null;if(b(xn,(function(t,o){if(e.attributes[t]&&n.indexOf(o)<0)return r=o,!1})),r){n.push(r);var o=r.call(e,t);h(o)&&!t.isImmediatePropagationStopped()&&(t.stopImmediatePropagation(),t.preventDefault(),Ve(o).then((function(){Pt(t)}),(function(t){Sn.delete(e),console.warn("Action threw an error:",t)})))}else Sn.delete(e)})),st("body").on("click","a[href]:not([rel]), [data-href]",(function(t){var e=t.currentTarget;if("_blank"!==e.target&&"navigate"in Je){t.preventDefault(),t.stopPropagation();var n=st(e).closest("[is-modal]")[0];n?(Pn(n).then((function(){Je.navigate(e.getAttribute("data-href")||e.getAttribute("href"))})),On(n)):(Je.navigate(e.getAttribute("data-href")||e.getAttribute("href")),On())}})),st("body").on("click","[set-var]:not([match-path])",(function(t){var e=t.currentTarget;e===st(t.target).closest("[set-var]")[0]&&(hn(e),On())})),st("body").on("click","[toggle]",(function(t){var e=t.currentTarget;t.stopPropagation(),Pn(e.getAttribute("toggle"),null,e,!0)})),st("body").on("click","[toggle-class]",(function(t){t.stopPropagation();var e=t.currentTarget,n=e.getAttribute("toggle-class-for"),r=n?xt(n,e):t.currentTarget;b(e.getAttribute("toggle-class"),(function(t,e){kt(r,e.slice(1),"+"===e[0])}))})),st("body").on("click",(function(){On()}))})),Bt.ready.then((function(){st("[brew-template]").each((function(t,e){He(e.getAttribute("brew-template")||"",e.cloneNode(!0))})),st("apply-attributes").each((function(t,e){var n=st(e.getAttribute("elements")||"",e.parentNode||Bt.root);b(e.attributes,(function(t,e){"elements"!==e.name&&n.attr(e.name,e.value)}))})).remove(),st("[style]").each((function(t,e){var n=ht(e.style.backgroundImage);n&&(e.setAttribute("data-bg-src",decodeURIComponent(at(n))),e.style.backgroundImage="none")})),window.onbeforeunload=function(t){We(!0)&&(t.returnValue="",t.preventDefault())}}));function kn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kn(Object(n),!0).forEach((function(e){In(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function In(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}q(rn,Tn(Tn(Tn(Tn(Tn({defaults:ae},o),r),i),a),{},{getVar:vn,setVar:hn,declareVar:pn,evalAttr:yn,isElementActive:me,handleAsync:Ve,preventLeave:We,install:on,addDetect:function(t,e){Xe[t]=N(e)},addTemplate:He}));const jn=rn;on("config",(function(t,e){var n=_();q(t,{config:n}),t.beforeInit(Ft(e.path).catch(g(e.fallback)||null).then((function(t){v(n,t),e.freeze&&Q(n)})))}));ae.formVar=!0,on("formVar",(function(t){t.matchElement("form[form-var]",(function(e){var n=e.getAttribute("form-var"),r={},o=function(t){if(t&&(r=$t(e)),n){var o=vn(e,n)||{};T(r,A(o,M(r)))||hn(e,n,v({},o,r))}else hn(e,r)};Bt.watchAttributes(e,"value",(function(){E(o)})),Bt.watchElements(e,":input",(function(t){b(t,(function(t,n){var r=Bt.afterDetached(n,e);Ot(r,n,"change",(function(){E(o)})),r.then(o.bind(null,!0))})),o(!0)}),!0),t.on(e,"reset",(function(){return n?me(gn(n,e))||e.reset():b(e.elements,(function(t,n){me(gn(n.name,e))||(n.value=null)})),!0}))})),t.on("pageenter",(function(t){st(St("form[form-var]",t.target)).each((function(t,e){st(":input:eq(0)",e).trigger("change")}))}))}));function Cn(t,e){var n=navigator.languages?[].slice.apply(navigator.languages):[navigator.language||""];return b(n,(function(t,e){if(e.indexOf("-")>0){var r=e.split("-")[0];if(n.indexOf(r)<0)for(var o=n.length-1;o>=0;o--)n[o].split("-")[0]===r&&n.splice(o+1,0,r)}})),t=t||n,S(n,(function(e){return t.indexOf(e)>=0}))||e||t[0]}on("i18n",(function(t,e){var n=t.route&&e.routeParam,r=e.cookie&&r(e.cookie,864e5),o=n&&t.route[n]||r&&r.get()||Cn(e.languages,e.defaultLanguage),i=function(i){e.languages.indexOf(i)<0&&(i=o),t.language=i,r&&r.set(i),n&&(t.route[n]=i),o!==i&&(o=i,e.reloadOnChange&&location.reload())};t.define({language:o,setLanguage:i,detectLanguage:Cn}),t.watch("language",i),n&&(t.route.watch(n,i),t.on("ready",(function(){t.route[n]=o})))}));on("login",(function(t,e){var n=Dt((e=v({loginPagePath:"",defaultRedirectPath:"",cookie:"",expiry:0,logout:null,login:null,tokenLogin:null,getTokenFromResponse:null},e)).cookie,e.expiry),r=F(t,"loggedIn",!1,!0);function o(o){r(!0),g(e.getTokenFromResponse)&&n.set(e.getTokenFromResponse(o)),t.emit("login",{data:o})}var i=t.initialPath,a=n.get();a&&g(e.tokenLogin)&&t.beforeInit(tt(Y(e.tokenLogin(a),o))),t.define({login:function(n,a,c){return c=g(c||a),a="string"==typeof a&&a,Y(e.login(n)).then((function(t){return o(t),c&&c()}),(function(t){throw r(!1),t.status>=500?"server-error":"incorrect-cred"})).then((function(){i===t.resolvePath(e.loginPagePath)&&(i=""),t.navigate(a||i||e.defaultRedirectPath),i=""}))},logout:function(o,i){return t.loggedIn?(i=g(i||o),o="string"==typeof o&&o,Z(We()).then((function(){return e.logout()})).then((function(){return r(!1),n.delete(),t.emit("logout"),i&&i()})).then((function(){t.navigate(o||e.loginPagePath)}))):Z()}}),t.on("navigate",(function(n){var r=t.resolvePath(e.loginPagePath);s(t.loggedIn,n.pathname!==r)&&(t.loggedIn?t.navigate(e.defaultRedirectPath):(i=n.pathname,t.navigate(r)))}))}));var En="background-image".split(" ");ae.preloadImage=!0,on("preloadImage",(function(t){t.beforeUpdate((function(t){var e={};return b(t,(function(t,n){(n.src||n.style)&&me(t)&&(n.src&&(e[ct(n.src)]=!0),n.style&&b(En,(function(t,r){var o=ht(n.style[r]);o&&(e[ct(o)]=!0)})))})),_t(M(e),200)})),t.beforePageEnter((function(t){return _t(t,1e3)}))}));on("scrollable",(function(t){var e=window.DOMMatrix||window.WebKitCSSMatrix||window.MSCSSMatrix,n=I(),r=0;function o(t){return n(t)||n(t,{childClass:"scrollable-target-"+ ++r})}function i(){st("[scrollable]:visible").scrollable("refresh")}function a(){st('[animate-on~="scroll-into-view"]:not(.tweening-in):visible').each((function(t,n){var r=new e(getComputedStyle(n).transform),o=It(Bt.root),i=It(n);(jt(o,i.translate(-r.e||0,0))||jt(o,i.translate(0,-r.f||0)))&&ee(n,"scroll-into-view")}))}t.on("mounted",(function(e){st(St("[scrollable-target]",e.target)).each((function(t,e){var n=st(e).closest("[scrollable]")[0];st(e).addClass(o(n).childClass)})),st(St("[scrollable]",e.target)).each((function(e,n){!function(e){var n,r,i=e.getAttribute("scrollable"),a=e.getAttribute("scroller-snap-page")||"",c=e.getAttribute("scroller-state")||"",u=e.getAttribute("scroller-page")||"",l=u&&st(u,e).get(),s=!1,f=!1;function d(t){if(c){var n={};n[c]=t,hn(e,n)}}function g(t,r){r=r||"center top",!s&&vt(e)&&(s=!0,n=!0,d(t),st(e).scrollable("scrollToElement",l[t],r,r,200,(function(){s=!1,n=!1})))}function h(){("always"===a||a===t.orientation)&&vt(e)&&(s?f=!0:(f=!1,g(vn(e,c))))}st(e).scrollable({bounce:!1,handle:G(i,"auto scrollbar content")||"content",hScroll:!G(i,"y-only"),vScroll:!G(i,"x-only"),content:"."+o(e).childClass+":visible:not(.disabled)",pageItem:u,snapToPage:"always"===a||a===t.orientation,scrollbar:!1,scrollStart:function(n){t.emit("scrollStart",e,n,!0)},scrollMove:function(n){t.emit("scrollMove",e,n,!0)},scrollEnd:function(n){t.emit("scrollStop",e,n,!0)}}),u&&("always"!==a&&t.on("orientationchange",(function(){st(e).scrollable("setOptions",{snapToPage:a===t.orientation})})),c&&(t.on(e,{statechange:function(t){var e=t.data[c];s||((0|It(l[e]).width)>(0|It().width)?g(e,"left center"):g(e))},scrollMove:function(t){s=!0,n||d(t.pageIndex)},scrollStop:function(t){d(t.pageIndex),s=!1,f&&h()}},!0),st(window).on("resize",(function(){clearTimeout(r),r=setTimeout(h,200)}))))}(n)}))})),t.on("statechange orientationchange animationcomplete",(function(){j(i)})),t.on("pageenter",(function(t){var e=st(St("[scrollable]",t.target)).add(st(t.target).parents("[scrollable]"));st(St("[scrollable-target]",t.target)).each((function(t,e){st(e).toggleClass("disabled",!me(e))})),e.scrollable("refresh"),e.filter(":not([keep-scroll-offset])").scrollable("scrollTo",0,0)})),t.on("resize pageenter statechange scrollMove orientationchange",(function(){j(a)}))}));c.IS_IOS,c.IS_IE10,c.IS_IE,c.IS_MAC;var Nn=c.IS_TOUCH;ae.viewport=!0,on("viewport",(function(t){var e,n,r,o=F(t,"orientation","",!0),i=Nn&&"MacIntel"!==navigator.platform,a=screen.availWidth,c=screen.availHeight;function u(u){Nn&&screen.availWidth===a&&screen.availHeight===c&&screen.availWidth===window.innerWidth?st("body").css("min-height",st("body").height()+"px"):st("body").css("min-height","0"),a=screen.availWidth,c=screen.availHeight;var l=st("body").height()||0;(st("html").height()||0)<l&&st(Bt.activeElement).is(":text")&&Tt(Bt.activeElement);var f=e;n=i?a:document.body.offsetWidth,r=i?a===window.innerWidth?c:window.innerHeight:document.body.offsetHeight,o((e=n/r)>=1?"landscape":"portrait"),!1!==u&&(t.emit("resize",{aspectRatio:e,viewportWidth:n,viewportHeight:r}),s(e>=1,f>=1)&&t.emit("orientationchange",{orientation:t.orientation}))}q(t,{get aspectRatio(){return e},get viewportWidth(){return n},get viewportHeight(){return r}}),t.on("orientationchange",(function(){ee(Bt.root,"orientationchange")})),st(window).on("resize",(function(){j(u)})),st((function(){u(!1)}))}));const Mn=jn},715:function(t,e,n){var r=window.History;r&&r.Adapter||(window.jQuery=n(609),n(229),r=window.History),t.exports=r},304:function(t,e,n){const r=window.jQuery||n(609);t.exports=r},511:function(t,e,n){const r=window.Promise||n(804).default;t.exports=r},203:function(t,e,n){const r=window.waterpipe||n(160);t.exports=r;const o=r;o.pipes["{"]=function(t,e){for(var n={};e.hasArgs();){var r=e.raw();if("}"===r)break;n[String(r).replace(/:$/,"")]=e.next()}return n},o.pipes["{"].varargs=!0},609:function(t){"use strict";t.exports=e},804:function(t){"use strict";t.exports=n},160:function(t){"use strict";t.exports=r},229:function(t){"use strict";t.exports=o},163:function(e){"use strict";e.exports=t}},a={};function c(t){if(a[t])return a[t].exports;var e=a[t]={exports:{}};return i[t](e,e.exports,c),e.exports}return c.d=function(t,e){for(var n in e)c.o(e,n)&&!c.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c(65)}().default}));
//# sourceMappingURL=brew.min.js.map