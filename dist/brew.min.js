/*! brew-js v0.4.10 | (c) misonou | http://hackmd.io/@misonou/brew-js */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("zeta-dom"),require("jQuery"),require("jq-scrollable"),require("waterpipe")):"function"==typeof define&&define.amd?define("brew",["zeta-dom","jQuery","jq-scrollable","waterpipe"],t):"object"==typeof exports?exports.brew=t(require("zeta-dom"),require("jQuery"),require("jq-scrollable"),require("waterpipe")):e.brew=t(e.zeta,e.jQuery,e["jq-scrollable"],e.waterpipe)}(self,(function(e,t,n,r){return function(){"use strict";var o={447:function(e,t,n){n.d(t,{default:function(){return so}});var r={};n.r(r),n.d(r,{baseUrl:function(){return ge},combinePath:function(){return ve},isSubPathOf:function(){return Ae},normalizePath:function(){return ye},parsePath:function(){return be},removeQueryAndHash:function(){return we},setBaseUrl:function(){return me},toAbsoluteUrl:function(){return Pe},toRelativeUrl:function(){return Se},toSegments:function(){return Oe},withBaseUrl:function(){return xe}});var o={};n.r(o),n.d(o,{apiError:function(){return Ge},navigationCancelled:function(){return Ze},navigationRejected:function(){return Xe},networkError:function(){return Je},resourceError:function(){return Qe},timeout:function(){return Ye},validationFailed:function(){return Ke}});var a={};n.r(a),n.d(a,{addStyleSheet:function(){return yt},api:function(){return mt},cookie:function(){return gt},copyAttr:function(){return ct},deleteCookie:function(){return ht},getAttr:function(){return at},getAttrValues:function(){return nt},getCookie:function(){return dt},getFormValues:function(){return lt},getJSON:function(){return vt},getQueryParam:function(){return st},hasAttr:function(){return ot},isBoolAttr:function(){return rt},loadScript:function(){return bt},preloadImages:function(){return wt},selectorForAttr:function(){return ut},setAttr:function(){return it},setCookie:function(){return pt},setQueryParam:function(){return ft}});var i={};n.r(i),n.d(i,{addAnimateIn:function(){return Vt},addAnimateOut:function(){return Dt},animateIn:function(){return Ut},animateOut:function(){return Ft}});var c={};n.r(c),n.d(c,{addAsyncAction:function(){return pr},closeFlyout:function(){return hr},openFlyout:function(){return gr}});var u=n(163),l=u.util,s=l.noop,f=l.pipe,d=l.either,p=l.is,h=l.isUndefinedOrNull,g=l.isArray,m=l.isFunction,v=l.isThenable,b=l.isPlainObject,y=(l.isArrayLike,l.makeArray),w=l.extend,x=l.each,P=l.map,S=l.grep,A=(l.splice,l.any),O=l.single,k=l.kv,C=(l.fill,l.pick),T=l.exclude,E=(l.mapObject,l.mapGet),I=l.mapRemove,j=l.arrRemove,R=(l.setAdd,l.equal),N=l.combineFn,M=(l.executeOnce,l.createPrivateStore),$=(l.setTimeout,l.setTimeoutOnce),q=(l.setInterval,l.setIntervalSafe,l.setImmediate),L=l.setImmediateOnce,U=(l.throws,l.throwNotFunction),F=l.errorWithCode,V=(l.isErrorWithCode,l.keys),D=l.values,z=l.hasOwnProperty,_=(l.getOwnPropertyDescriptors,l.define),W=l.definePrototype,H=l.defineOwnProperty,B=l.defineGetterProperty,J=l.defineHiddenProperty,Q=l.defineAliasProperty,G=l.defineObservableProperty,K=l.watch,Z=l.watchOnce,X=l.watchable,Y=(l.inherit,l.freeze),ee=l.deepFreeze,te=l.iequal,ne=l.randomId,re=(l.repeat,l.camel),oe=(l.hyphenate,l.ucfirst,l.lcfirst,l.trim),ae=l.matchWord,ie=(l.htmlDecode,l.resolve),ce=l.reject,ue=l.always,le=l.resolveAll,se=(l.retryable,l.deferrable),fe=l.catchAsync,de=(l.setPromiseTimeout,l.delay),pe=l.makeAsync,he={http:80,https:443},ge="/";function me(e){ge=ye(e,!0)}function ve(e,t){return e=ye(e),"/"===(t=ye(t))?e:"/"===e||t.indexOf("://")>0?t:e+t}function be(e){var t=document.createElement("a");return t.href=e,t}function ye(e,t,n){if(!e||"/"===e)return n?"":"/";if(/(^(?:[a-z0-9]+:)?\/\/)|\?|#/.test(e)){var r=be(e);return((RegExp.$1&&(r.origin||r.protocol+"//"+r.hostname+(r.port&&+r.port!==he[r.protocol.slice(0,-1)]?":"+r.port:"")))+ye(r.pathname,t,!0)||"/")+r.search+r.hash}if(e=String(e).replace(/\/+(\/|$)/g,"$1"),t&&/(^|\/)\.{1,2}(\/|$)/.test(e)){for(var o=e.split("/"),a=0;a<o.length;)"."===o[a]||".."===o[a]&&!a?o.splice(a,1):".."===o[a]?o.splice(--a,2):a++;e=o.join("/")}return"/"===e[0]?e:"/"+e}function we(e){var t=e.indexOf("?")+1,n=e.indexOf("#")+1;return t||n?e.slice(0,Math.min(t||n,n||t)-1):e}function xe(e){return e=ye(e),ge&&"/"===e[0]&&!Ae(e,ge)?ve(ge,e):e}function Pe(e){return e.indexOf("://")>0?e:location.origin+xe(e)}function Se(e){return Ae(e,location.origin)||e}function Ae(e,t){var n=t.length;return e.substr(0,n)===t&&(!e[n]||/[/?#]/.test(e[n])||"/"===t[n-1])&&ye(e.slice(n))}function Oe(e){return"/"===(e=ye(e))?[]:e.slice(1).split("/").map(decodeURIComponent)}var ke=n(609);n(172);const Ce=ke;const Te=window.Promise;var Ee=u.css,Ie=Ee.parseCSS,je=Ee.isCssUrlValue,Re=Ee.runCSSTransition,Ne=u.util,Me=(Ne.domReady,Ne.tagName,Ne.isVisible),$e=Ne.matchSelector,qe=(Ne.comparePosition,Ne.connected,Ne.containsOrEquals),Le=(Ne.acceptNode,Ne.combineNodeFilters,Ne.iterateNode),Ue=(Ne.iterateNodeToArray,Ne.getCommonAncestor,Ne.parentsAndSelf,Ne.selectIncludeSelf),Fe=Ne.selectClosestRelative,Ve=Ne.createNodeIterator,De=(Ne.createTreeWalker,Ne.bind),ze=(Ne.bindUntil,Ne.dispatchDOMMouseEvent),_e=(Ne.removeNode,Ne.getClass),We=Ne.setClass,He=(Ne.getScrollOffset,Ne.getScrollParent,Ne.getContentRect,Ne.scrollBy,Ne.scrollIntoView,Ne.makeSelection,Ne.getRect),Be=(Ne.getRects,Ne.toPlainRect,Ne.rectEquals,Ne.rectCovers,Ne.rectIntersects),Je=(Ne.pointInRect,Ne.mergeRect,Ne.elementFromPoint,"brew/network-error"),Qe="brew/resource-error",Ge="brew/api-error",Ke="brew/validation-failed",Ze="brew/navigation-cancelled",Xe="brew/navigation-rejected",Ye="brew/timeout",et={},tt={};function nt(e){var t={};return x(e.attributes,(function(e,n){t[n.name]=n.value})),t}function rt(e,t){return ae(t,"allowfullscreen async autofocus autoplay checked controls default defer disabled formnovalidate ismap itemscope loop multiple muted nomodule novalidate open playsinline readonly required reversed selected truespeed")&&t in e}function ot(e,t){return!!e.attributes[t]}function at(e,t){var n=e.attributes[t];return n&&n.value}function it(e,t,n){x(b(t)||k(t,n),(function(t,n){e.setAttribute(t,n)}))}function ct(e,t){x(e.attributes,(function(e,n){t.setAttribute(n.name,n.value)}))}function ut(e){return b(e)&&(e=V(e)),e[0]?"["+e.join("],[")+"]":""}function lt(e){var t={};return x(e.elements,(function(n,r){if(r.name&&!(r.name in t)){var o=e.elements[r.name];B(t,r.name,(function(){return"checkbox"===o.type?o.checked:o.value}))}})),t}function st(e,t){return new RegExp("[?&]"+e+"=([^&]+)","i").test(t||location.search)&&decodeURIComponent(RegExp.$1)}function ft(e,t,n){var r=new RegExp("([?&])"+e+"=[^&]+|(?:\\?)?$","i");return(n||location.search).replace(r,(function(n,r,o,a){return(r||(a[1]?"&":"?"))+e+"="+encodeURIComponent(t)}))}function dt(e){return new RegExp("(?:^|\\s|;)"+e+"=([^;]+)").test(document.cookie)&&RegExp.$1}function pt(e,t,n){return document.cookie=e+"="+t+";path=/"+(n?";expires="+new Date(Date.now()+n).toGMTString():""),t}function ht(e){document.cookie=e+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT"}function gt(e,t){return{get:function(){return dt(e)},set:function(n){return pt(e,n,t)},delete:function(){return ht(e)}}}function mt(e,t){var n="get post put delete";if("string"==typeof e&&ae(e,n))return mt(t=w({},"string"==typeof t?{baseUrl:t}:t,{methods:e}))[e];var r={baseUrl:(e=w({},e)).baseUrl,token:e.token};return x(e.methods||n,(function(t,o){ae(o,n)&&(J(r,o,(function t(n,a){if(!r.baseUrl)return Z(r,"baseUrl",(function(){return t(n,a)}));var i={"Content-Type":"application/json"};return r.token&&(i.Authorization="Bearer "+r.token),Ce.ajax({method:o,url:ve(r.baseUrl,n),headers:i,dataType:"json",data:JSON.stringify(a||{}),success:function(t){m(e.getTokenFromResponse)&&(r.token=e.getTokenFromResponse(t,r.token))}}).catch((function(e){if(0===e.status)throw F(Je);var t=e.responseJSON;if(t)throw console.error(n+":",t.error||t.message),F(Ge,t.error||t.message);throw F(Ge,e.statusText)}))})),Q(r[o],"baseUrl",r),Q(r[o],"token",r))})),r}function vt(e){return Ce.getJSON(xe(e))}function bt(e,t){return g(e)?e.reduce((function(e,n){return e.then((function(){return bt(n,t)}))}),ie()):(tt[e]||(tt[e]=new Te((function(n,r){var o=document.createElement("script");if((t=t||{}).nomodule){if("noModule"in o)return void n();o.setAttribute("nomodule","")}t.module&&o.setAttribute("type","module"),o.addEventListener("load",(function(){n({})})),o.addEventListener("error",(function(){r(F(Qe))})),o.src=xe(e),document.head.appendChild(o)}))),tt[e])}function yt(e,t){var n=document.createElement("link");n.rel="stylesheet",n.href=xe(e),t&&(n.media=t),document.head.appendChild(n)}function wt(e,t){if(!g(e)){var n={},r=function(e){je(e)&&(n[RegExp.$1||RegExp.$2||RegExp.$3]=!0)};Le(Ve(e,1),(function(e){$e(e,"img")&&e.src&&(n[e.src]=!0),r(getComputedStyle(e).backgroundImage),r(getComputedStyle(e,"::before").backgroundImage),r(getComputedStyle(e,"::after").backgroundImage)})),e=V(n)}var o=[],a=[];return e.forEach((function(e){o.push(et[e]||(et[e]=new Te((function(t){a.push(e),Ce("<img>").on("load error",(function(){et[e]=!0,t()})).attr("src",e)}))))})),!o.length||o.every((function(e){return!0===e}))?ie():(a.length&&console.log("Preload image",{urls:a}),Te.race([de(t),le(D(et))]))}const xt=u.dom;var Pt=u.dom,St=(Pt.textInputAllowed,Pt.beginDrag),At=(Pt.beginPinchZoom,Pt.getShortcut,Pt.setShortcut,Pt.focusable),Ot=Pt.focused,kt=Pt.setModal,Ct=Pt.releaseModal,Tt=Pt.retainFocus,Et=Pt.releaseFocus,It=(Pt.iterateFocusPath,Pt.focus);const jt=xt;var Rt={},Nt={},Mt=new Map,$t=0;function qt(e,t,n,r){if(!n.length)return ie();var o,a,i,c=++$t;n=n.map((function(e){return e instanceof Te?fe(e):new Te((function(t){e.then(t,t)}))})),fe(le(n,(function(){clearTimeout(o),i(),Mt.delete(e)}))),n.push(new Te((function(e,t){i=e,a=t}))),o=setTimeout((function(){a(F(Ye,"Animation timed out")),console.warn("Animation #%i might take longer than expected",c,n),Mt.delete(e)}),1500);var u=fe(le(n));return Mt.set(e,u),u}function Lt(e,t,n,r){var o=[Re(e,t),jt.emit(n,e)],a=parseFloat(Ce(e).css("transition-delay"))||0;return x(r,(function(t,n){if(e.attributes[t]){var r=e.getAttribute(t);o.push(new Te((function(t,o){setTimeout((function(){le(n(e,r)).then(t,o)}),1e3*a)})))}})),le(o,(function(){return e}))}function Ut(e,t,n,r){if(Mt.has(e))return Mt.get(e).then((function(){return Ut(e,t,n,r)}));r=r||function(){return!0},jt.emit("animationstart",e,{animationType:"in",animationTrigger:t},!0);var o=n?Ce(n,e):Ce(),a="show"===t?':not([animate-on]), [animate-on~="'+t+'"]':'[animate-on~="'+t+'"]',i=[],c=[];return Ce(Ue("[animate-in]",e)).filter(a).each((function(e,t){!o.find(t)[0]&&r(t)&&Me(t)&&(i.push(t),c.push(Lt(t,"tweening-in","animatein",Rt)))})),Ce(Ue("[animate-sequence]",e)).filter(a).each((function(e,t){if(!o.find(t)[0]&&r(t)&&Me(t)){var n=t.getAttribute("animate-sequence")||"",a=t.getAttribute("animate-sequence-type")||"",u=Ce(t).find(">"===n[0]?n:Ce(n));void 0!==Ce(t).attr("animate-sequence-reverse")&&[].reverse.apply(u),u.css("transition-duration","0s"),u.attr("animate-in",a).attr("is-animate-sequence",""),u.each((function(e,t){"inline"===Ce(t).css("display")&&Ce(t).css("display","inline-block"),i.push(t),c.push(new Te((function(n,r){setTimeout((function(){Ce(t).css("transition-duration",""),Lt(t,"tweening-in","animatein",Rt).then(n,r)}),50*e)})))})),t.attributes["animate-in"]||Ce(t).attr("animate-in","").addClass("tweening-in")}})),qt(e,0,c).then((function(){jt.emit("animationcomplete",e,{animationType:"in",animationTrigger:t},!0)}))}function Ft(e,t,n,r,o){r=r||function(){return!0},jt.emit("animationstart",e,{animationType:"out",animationTrigger:t},!0);var a=n?Ce(n,e):Ce(),i="show"===t?':not([animate-on]), [animate-on~="'+t+'"]':'[animate-on~="'+t+'"]',c=[],u=[];return Ce((o?Ce:Ue)("[animate-out]",e)).filter(i).each((function(e,t){!a.find(t)[0]&&r(t)&&(c.push(t),u.push(Lt(t,"tweening-out","animateout",Nt)))})),qt(e,0,u).then((function(){var n=Ce((o?Ce:Ue)("[animate-out], .tweening-in, .tweening-out",e));"show"!==t&&(n=n.filter(i)),(n=n.filter((function(e,t){return r(t)}))).removeClass("tweening-in tweening-out"),n.find("[is-animate-sequence]").removeAttr("animate-in").removeClass("tweening-in tweening-out"),jt.emit("animationcomplete",e,{animationType:"out",animationTrigger:t},!0)}))}function Vt(e,t){Rt[e]=U(t)}function Dt(e,t){Nt[e]=U(t)}var zt=n(160);const _t=zt;var Wt=zt;Wt.pipes["{"]=function(e,t){var n=t.globals,r=n.new,o={};for(n.new=o;t.hasArgs();){var a=t.raw();if("}"===a)break;o[String(a).replace(/:$/,"")]=t.next()}return n.new=r,o},Wt.pipes["{"].varargs=!0;var Ht=u.dom,Bt=(Ht.lock,Ht.locked),Jt=Ht.cancelLock,Qt=(Ht.subscribeAsync,Ht.notifyAsync),Gt=Ht.preventLeave,Kt="__BREW__";if(window.__BREW__)throw new Error("Another copy of brew-js is instantiated. Please check your dependencies.");J(window,Kt,!0,!0);const Zt={};function Xt(e){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xt(e)}function Yt(e,t){return"["+e+"] "+(t=y(t).map((function(e){return p(e,Element)?(n=e).tagName.toLowerCase()+(n.id?"#"+n.id:n.className.trim()&&n.className.replace(/^\s*|\s+(?=\S)/g,"."))+":":e&&"object"===Xt(e)?(t=JSON.stringify(e),'[{"]'.indexOf(t[0])>=0&&t.length>200?t[0]+t.substr(1,199)+"…"+t[t.length-1]:t):e;var t,n})).join(" "))}function en(e,t,n){var r;try{console.groupCollapsed(Yt(e,t)),r=!0}catch(e){}try{n(console)}finally{if(r)try{console.groupEnd()}catch(e){}}}var tn=M(),nn=jt.root,rn=new Set,on=new Map,an=[],cn=[],un=[],ln={},sn={},fn=0,dn=!1;function pn(e,t){var n=tn(t)||tn(t,{});return n[e]||(n[e]={})}function hn(e,t,n){x(t,(function(t,n){"$$class"===t?We(e,n):"$$text"===t?e.textContent=n:"$$html"===t?e.innerHTML=n:"style"===t?Ce(e).css(n):rt(e,t)?e[t]=!!n:e.setAttribute(t,n)})),n||jt.emit("domchange",e)}function gn(e,t){x(t,(function(t,n){e[t]="$$class"===t||"style"===t?w({},e[t],n):n}))}function mn(e,t){var n=ut(ln);if(n){var r,o=new Set;do{e=S(y(e),(function(e){return qe(nn,e)})),r=y(o),Ce(Ue(n,e)).not(r).each((function(e,n){x(ln,(function(e,r){n.attributes[e]&&qe(nn,n)&&(r(n,pn.bind(0,e),t),o.add(n))}))}))}while(r.length!==o.size)}}function vn(e,t){cn.push({selector:e,handler:t})}function bn(e){qe(nn,e)&&rn.add(e)}function yn(e){if(!fn&&!dn){var t=new Map,n=new Map,r=function(e,t){gn(E(n,e,Object),t)};dn=!0;try{en(jt.eventSource,"statechange",(function(){mn(rn,r);var e=Ce.uniqueSort(S(rn,(function(e){return qe(nn,e)})));rn.clear(),x(e,(function(e,n){var r=pn("oldValues",n),o={},a={};for(x(Zn(n,!0),(function(e,t){r[e]!==t&&(o[e]=r[e],a[e]=t,r[e]=t)})),t.set(n,{oldValues:o,newValues:a});n=n.parentNode;){var i=t.get(n);if(i)for(var c in i.newValues)c in a||(a[c]=i.newValues[c],o[c]=i.oldValues[c])}})),function(e,t,n){var r=ut(sn);if(r){var o=[];x(e.reverse(),(function(e,a){en("statechange",[a,t.get(a).newValues],(function(e){e.log(a===nn?document:a),Ce(Ue(r,a)).not(o).each((function(e,t){x(sn,(function(e,r){t.attributes[e]&&r(t,pn.bind(0,e),n)})),o.push(t)}))}))}))}}(e,t,r)})),le(an.map((function(e){return e(n)}))).then((function(){var r=new Map;e||x(t,(function(e){var n=Ce(e).filter("[match-path]")[0]||Ce(e).parents("[match-path]")[0]||nn,o=r.get(n);if(!o){var a=function(e){var n,r=e.getAttribute("animate-on-statechange");if(!r)return!0;for(;e&&!(n=t.get(e));e=e.parentNode);return n&&A(r,(function(e){return e in n.newValues}))};o=[],q((function(){Ft(n,"statechange","[match-path]",a,!0).then((function(){x(o,(function(e,t){hn(t,I(on,t))})),Ut(n,"statechange","[match-path]",a)}))})),r.set(n,o)}E(on,e,Object),o.push(e)})),x(n,(function(e,t){on.has(e)?gn(on.get(e),t):hn(e,t)})),x(t,(function(e,t){jt.emit("statechange",e,{data:Zn(e),newValues:t.newValues,oldValues:t.oldValues},!0)}))}))}finally{dn=!1}}}function wn(e,t){var n=!0;try{fn=(fn||0)+1,U(t||e)()}catch(e){throw n=!1,e}finally{!--fn&&n&&yn(!0===e)}}function xn(e){var t=dn;dn=!0,Kn(e);try{mn(e,(function(e,t){hn(e,t,!0)}))}finally{dn=t}for(var n=[e],r=e===nn,o=-1,a=0;o<un.length;)x(un.slice(o<0?0:o),(function(t,r){r.disposed||Ce(Ue(r.target,e)).each((function(e,t){o<0&&r.unbindHandlers.push(An.on(t,r.handlers)),r.handlers.mounted&&n.indexOf(t)<0&&n.push(t)}))})),o=un.length,x(Ce.uniqueSort(n.slice(a)),(function(e,t){jt.emit("mounted",t)})),r||(r=!0,jt.emit("mounted",nn,{target:e})),a=n.length;x(cn,(function(t,n){Ce(Ue(n.selector,e)).each((function(e,t){n.handler.call(t,t)}))})),bn(e),L(yn)}function Pn(e,t){ln[e]=U(t)}function Sn(e,t){sn[e]=U(t)}var An,On,kn,Cn=jt.root,Tn={},En={},In={},jn=[];function Rn(e){return function(t){if(t.target===t.context)return e.apply(this,arguments)}}function Nn(e,t,n,r,o){var a=(n=S(n,(function(e){return!In[e.replace(/^\?/,"")]}))).length||1,i=function(n){if(!a)throw new Error("Extension"+t+"is already initiated");n&&!--a&&(In[t]=!0,o(e,r||{}),En[t]&&N(En[t].splice(0))(!0))};n[0]?x(n,(function(e,t){var n=t.replace(/^\?/,"");(En[n]||(En[n]=[])).push(n===t?i:i.bind(0,!0))})):i(!0)}function Mn(e,t,n){var r=re("use-"+e);W($n,k(r,(function(r){Nn(this,e,t,r,n)})))}function $n(){var e=this;H(e,"element",Cn,!0),H(e,"ready",new Promise((function(t){e.on("ready",t.bind(0,e))})),!0)}function qn(e){if(kn)throw new Error("brew() can only be called once");return kn=se(jt.ready),An=new $n,x(Zt,(function(e,t){var n=t&&m(An[re("use-"+e)]);n&&n.call(An,t)})),x(jn,(function(e,t){b(t)?_(An,t):U(t)(An)})),U(e)(An),x(En,(function(e,t){N(t)()})),!0,Qt(Cn,kn),kn.then((function(){On=!0,xn(Cn),An.emit("ready")})),An}function Ln(e,t,n,r){return r=U(r||n||t),n=g(n)||g(t)||[],function(o){!0===e?Nn(o,t,n,{},r):Mn(e,n,r)}}function Un(e){return!An||An.isElementActive(e)}W($n,{emit:function(e,t,n,r){return p(t,Node)||(r=n,n=t,t=this.element),jt.emit(e,t,n,r)},define:function(e){_(this,e)},beforeInit:function(e){m(e)&&(e=e.call(this)),kn.waitFor(e)},isElementActive:function(){return!0},detect:function(e,t){var n=this,r={};x(e,(function(e,t){Tn[t]&&(r[t]=m(Tn[t])?Tn[t]=le(Tn[t]()).catch((function(e){return console.warn("Detection for "+t+" has thrown exception:",e),!1})):Tn[t])})),this.beforeInit(le(r,(function(e){return e=Object.freeze(w({},n.supports,e)),_(n,{supports:e}),m(t)&&t(e)})))},when:function(e,t){this.beforeInit(le(e,(function(e){if(e)return t()})))},on:function(e,t,n,r){r=!0===(r||n),m(t)&&(n=t,t=e,e=Cn);var o=t;if("string"==typeof t)r&&(n=Rn(n)),t.indexOf(" ")>=0?(o={},x(t,(function(e,t){o[t]=n}))):o=k(t,n);else if(r)for(var a in t)t[a]=Rn(t[a]);var i=[];return"string"==typeof e?(!function(e,t,n){var r={target:e,handlers:t,unbindHandlers:n};un.push(r),n.push((function(){r.disposed=!0,q((function(){j(un,r)}))}))}(e,o,i),e=Ce(e).get()):e instanceof Node&&(e=[e]),x(e,(function(e,t){i.push(jt.on(t,o))})),N(i)},matchElement:vn,beforeUpdate:function(e){an.push(U(e))}}),X($n.prototype),_(qn,{with:function(){return jn.push.apply(jn,arguments),this}});const Fn=qn;u.TraversableNode,u.TraversableNodeTree,u.InheritedNode;var Vn=u.InheritedNodeTree,Dn=(u.TreeWalker,jt.root),zn={var:!0,"auto-var":!0,"loading-scope":{loading:!1},"error-scope":{error:null}},_n={get app(){return An}},Wn=new Vn(Dn,(function(){var e=this,t=e.element;x(t.dataset,(function(t,n){H(e,t,_t.eval("`"+oe(n||"null")))})),x(Hn(t,!0,e),(function(t,n){H(e,t,n)})),t===Dn&&(e.loading=null,e.error=null)}),{selector:ut(zn)});function Hn(e,t,n){var r={};return x(zn,(function(n,o){if(e.attributes[n]){if(!0===o&&(o=er(e,n,!1),!b(o)))return;for(var a in o)r[a]=void 0===o[a]||t?null:o[a]}})),r}function Bn(e,t){t=t||Dn;for(var n=Wn.getNode(t);null!==n;n=Object.getPrototypeOf(n))if(z(n,e))return n;return console.warn("Undeclared state: %s",e,{element:t}),Wn.setNode(t)}function Jn(e,t){return Bn(e,t).element}function Qn(e,t,n){var r=t&&(b(t)||k(t,n)),o=!1;if("string"==typeof e)wn((function(){Ce(e).each((function(e,t){o|=Qn(t,r)}))}));else{var a=Wn.setNode(e);x(r||er(e,"set-var"),(function(t,n){if(a[t]!==n){var r=Bn(t,e);r[t]=n,o=!0,bn(r.element)}})),o&&On&&L(yn)}return!!o}function Gn(e,t,n){var r=b(t)||k(t,n),o=Wn.setNode(e),a={};for(var i in r)m(r[i])?B(o,i,r[i],s):(H(o,i,o[i]),a[i]=r[i]);return Qn(e,a)}function Kn(e,t){wn((function(){x(Wn.descendants(e),(function(e,n){Qn(n.element,Hn(n.element,t))}))}))}function Zn(e,t){var n=(function(e){for(var t in e.dataset)return!0}(e)?Wn.setNode(e):Wn.getNode(e))||{};if(!0!==t)return t?n[t]:w({},n);if(n.element!==e)return{};var r=Object.getOwnPropertyNames(n);return r.splice(r.indexOf("element"),1),C(n,r)}function Xn(e,t){return e?_t.eval(e,w({},t),{globals:_n}):null}function Yn(e,t,n){return e?_t(e,w({},t),{globals:_n,html:!!n}):""}function er(e,t,n){return(n?Yn:Xn)(at(e,t),Zn(e))}Wn.on("update",(function(e){x(e.updatedNodes,(function(e,t){bn(t.element)}))}));var tr=u.dom,nr=(tr.observe,tr.registerCleanup),rr=(tr.createAutoCleanupMap,tr.afterDetached,tr.watchElements),or=tr.watchAttributes,ar=(tr.watchOwnAttributes,"button,input,select,textarea,[contenteditable],a[href],area[href],iframe"),ir="[is-flyout]:not([tab-through]),[tab-root]",cr="[disabled],.disabled,:disabled",ur=jt.root,lr=new Map,sr=new Map,fr={};function dr(e){e.preventDefault(),e.stopImmediatePropagation()}function pr(e,t){fr[e]=U(t)}function hr(e,t){var n=Ce(e||"[is-flyout].open").get();return le(n.map((function(e){var n=lr.get(e);return n&&(lr.delete(e),Ct(e),Et(e),n.resolve(t),n.source&&We(n.source,"target-opened",!1)),fe(e.attributes["animate-out"]?(We(e,"closing",!0),Ft(e,"open")):Re(e,"closing")).then((function(){We(e,{open:!1,closing:!1,visible:!1}),jt.emit("flyouthide",e)}))})))}function gr(e,t,n,r){var o=n||ur,a=e?Fe(e,o):Ce(o).closest("[is-flyout]")[0];if(!a)return ce();var i=lr.get(a);if(i)return r?hr(a,n&&_t.eval("`"+n.value)):i.path=An.path,i.promise;var c,u=n;u||At(a)||(u=jt.modalElement);var l=new Te((function(e){c=e}));lr.set(a,{source:n,promise:l,resolve:c,path:An.path}),u&&Tt(u,a),n&&We(n,"target-opened",!0),t&&Qn(a,t),We(a,"visible",!0),Re(a,"open",(function(){It(a)})),Ut(a,"open"),a.attributes["is-modal"]&&kt(a);var s=function(e){var t=a.getAttribute("swipe-dismiss");("focusout"===e.type?t:e.data!==re("swipe-"+t))||(hr(a),jt.event&&jt.event.preventDefault(),e.handled())};return ue(l,jt.on(a,{focusout:s,gesture:s})),jt.emit("flyoutshow",a),l}function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(n),!0).forEach((function(t){br(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}jt.ready.then((function(){var e=new WeakMap,t=ur;function n(n){Ce(n||ar).each((function(n,r){(Ce(r).closest(ir)[0]||ur)!==t?(e.has(r)||e.set(r,r.tabIndex),r.tabIndex=-1):Ce(r).attr("tabindex",I(e,r)||null)}))}function r(e){var t=e.currentTarget;if($e(t,cr))return I(sr,t),void dr(e);var n=E(sr,t,Array),o=null,a=function(n){At(t)?n(e):I(sr,t)};if(x(fr,(function(e,r){if(t.attributes[e]&&n.indexOf(r)<0)return o=r,!1})),o){n.push(o);var i=o.call(t,e);e.isImmediatePropagationStopped()||(v(i)?(dr(e),Qt(t,i),i.then((function(){a(ze)}),(function(e){sr.delete(t),console.warn("Action threw an error:",e)}))):a(r))}else sr.delete(t)}jt.on("focuschange",(function(){var e=A(Ce(ir).get().reverse(),(function(e){return Ot(e)}))||ur;e!==t&&(t=e,setTimeout(n))})),rr(ur,ar,n,!0),An.on("mounted",(function(e){var t=ut(fr);t&&Ce(Ue(t,e.target)).attr("async-action","")})),An.on("beforepageload",(function(){lr.forEach((function(e,t){e.path&&e.path!==An.path&&hr(t)}))})),rr(ur,"[async-action]",(function(e,t){Ce(e).on("click",r),Ce(t).off("click",r)})),Ce("body").on("submit","form:not([action])",(function(e){e.preventDefault()})),Ce("body").on("click",cr,dr),Ce("body").on("click","a[href]:not([download]), [data-href]",(function(e){if(!e.isDefaultPrevented()){var t,n=e.currentTarget,r=(n.origin===location.origin?"":n.origin)+n.pathname+n.search+n.hash,o=n.getAttribute("data-href");if(e.stopPropagation(),!(t=n.target)||"_self"===t||t===window.name)"navigate"in An&&(o||An.isAppPath(r))?(e.preventDefault(),An.navigate(o||An.fromHref(r))):Bt(ur)&&(e.preventDefault(),Jt(ur).then((function(){var e=S([ae(n.rel,"noreferrer"),ae(n.rel,"noopener")],f);window.open(o||r,"_self",e.join(","))})))}})),Ce("body").on("click","[set-var]:not([match-path])",(function(e){var t=e.currentTarget;t===Ce(e.target).closest("[set-var]")[0]&&(Qn(t),hr())})),Ce("body").on("click","[toggle]",(function(e){var t=e.currentTarget;e.stopPropagation(),t.attributes["toggle-if"]&&!er(t,"toggle-if")||gr(t.getAttribute("toggle"),null,t,!0)})),Ce("body").on("click","[toggle-class]",(function(e){var t=e.currentTarget;if(e.stopPropagation(),!t.attributes["toggle-if"]||er(t,"toggle-if")){var n=t.getAttribute("toggle-class-for"),r=n?Fe(n,t):e.currentTarget;x(t.getAttribute("toggle-class"),(function(e,t){We(r,t.slice(1),"+"===t[0])}))}}))}));var yr=vr(vr(vr(vr(vr({ErrorCode:o,defaults:Zt},a),r),i),c),{},{getVar:Zn,setVar:Qn,declareVar:Gn,evalAttr:er,isElementActive:Un,handleAsync:function(e,t,n){return v(e)?(Qt(t||nn,e),e.then(n)):pe(n||s)()},preventLeave:function(e){return e?Bt(nn):Jt(nn)},install:function(e,t){Mn(e,[],U(t))},addDetect:function(e,t){Tn[e]=U(t)},addExtension:Ln,addRenderer:Sn,addTransformer:Pn,addTemplate:function(e,t){Ce(t).clone().attr("brew-template",e).appendTo(document.body)}});_(Fn,yr);const wr=Fn,xr=Ln("config",(function(e,t){var n=X();_(e,{config:n}),e.beforeInit(vt(t.path).catch(m(t.fallback)||null).then((function(e){w(n,e),t.freeze&&ee(n)})))}));var Pr={},Sr=jt.root;const Ar=Ln(!0,"template",(function(e){Pn("apply-template",(function(e,t){var n=t(e),r=at(e,"apply-template"),o=Pr[r]||Pr[er(e,"apply-template")],a=n.template;if(n.attributes||w(n,{attributes:nt(e),childNodes:y(e.childNodes)}),o&&o!==a){n.template=o,o=o.cloneNode(!0),a&&x(a.attributes,(function(t,n){e.removeAttribute(n.name)})),it(e,n.attributes),ct(o,e);var i=Ce(n.childNodes).detach();Ce(Ue("content:not([for])",o)).replaceWith(i),Ce(Ue("content[for]",o)).each((function(e,t){Ce(t).replaceWith(i.filter(at(t,"for")||""))})),Ce(e).empty().append(o.childNodes)}})),Pn("auto-var",(function(e){Qn(e,er(e,"auto-var"))})),Pn("foreach",(function(e,t){var n=t(e),r=n.template||(n.template=Ce(e).contents().detach().filter((function(e,t){return 1===t.nodeType||/\S/.test(t.data||"")})).get()),o=n.nodes||[],a=n.data||[],i=y(er(e,"foreach"));if(i.length!==a.length||i.some((function(e,t){return a[t]!==e}))){var c=P(i,(function(n){var i=a.indexOf(n);if(i>=0)return a.splice(i,1),o.splice(i*r.length,(i+1)*r.length);var c=Ce(r).clone().get(),u=Ce(Ue("[foreach]",c));return u[0]&&Ce(Ue("[foreach]",r)).each((function(e,n){t(u[e]).template=t(n).template})),x(c,(function(t,r){1===r.nodeType&&(Ce(e).append(r),Gn(r,{foreach:n}),xn(r))})),c}));w(n,{nodes:c,data:i.slice()}),Ce(o).detach(),Ce(e).append(c)}})),Pn("switch",(function(e,t,n){var r=at(e,"switch")||"";if(Un(e)&&r){var o=t(e);void 0===o.matched&&Gn(e,"matched",(function(){return o.matched&&Zn(o.matched,!0)}));var a,i,c,u=Zn(e),l=_t.eval(r,u),s=Ce("[match-"+r+"]",e).filter((function(t,n){return Ce(n).parents("[switch]")[0]===e})),f=!ae("switch",at(e,"keep-child-state")||""),d=o.matched,p=new Map;s.each((function(e,t){var n=_t.eval('"null" ?? '+at(t,"match-"+r),Zn(t));if(p.set(t,n),_t.eval("$0 == $1",[l,n]))return a=t,!1})),a=a||s.filter("[default]")[0]||s[0]||null,d!==a?en("switch",[e,r,"→",l],(function(e){e.log("Matched: ",a||"(none)"),a&&(f&&Kn(a),Qn(a)),d&&f&&Kn(d,!0),s.each((function(e,t){n(t,{$$class:{active:t===a}})}))})):(i="switch",c=[e,r,"→",l,"(unchanged)"],console.log(Yt(i,c)),r in u&&void 0!==p.get(a)&&Qn(e,r,p.get(a))),o.matched=a}})),Sn("template",(function(e,t,n){var r=t(e),o=r.templates;o||(o={},x(e.attributes,(function(t,n){n.value.indexOf("{{")>=0&&(o[n.name]=rt(e,n.name)?n.value.replace(/^{{|}}$/g,""):n.value)})),!e.childElementCount&&(e.textContent||"").indexOf("{{")>=0&&(o.$$html=e.textContent.replace(/(\{\{(?:\}(?!\})|[^}])*\}*\}\})|</g,(function(e,t){return t||"&lt;"}))),r.templates=o);var a=Zn(e),i={};x(o,(function(t,n){var r=function(e,t,n,r,o){return(o?Yn:Xn)(e,t)}(n,a,0,0,!rt(e,t));("$$html"===t?e.innerHTML:(at(e,t)||"").replace(/["']/g,""))!==r&&(i[t]=r)})),n(e,i)})),Sn("set-style",(function(e,t,n){var r=Ie(er(e,"set-style",!0));x("background-image",(function(e,t){var n=je(r[t]);n&&(r[t]='url("'+xe(Se(n))+'")')})),n(e,{style:r})})),Sn("set-class",(function(e,t,n){n(e,{$$class:er(e,"set-class")})})),Sn("prevent-leave",(function(t,n){var r=n(t),o=er(t,"prevent-leave");if(d(o,r.value))if(r.value=o,o){var a=new Promise((function(e){r.resolve=e}));Gt(t,a,(function(){return ie(e.emit("preventLeave",t,null,!0)).then((function(e){if(!e)throw F(Xe)}))}))}else r.resolve()})),pr("validate",(function(e){var t=Fe(at(this,"validate")||"",e.target);if(t){var n=jt.emit("validate",t)||!t.checkValidity||t.checkValidity();if(n){if(v(n))return n.then((function(e){if(!e)throw F(Ke)}))}else e.stopImmediatePropagation(),e.preventDefault()}})),pr("context-method",(function(t){var n=t.currentTarget,r=re(at(n,"context-method")||"");if(m(e[r])){var o,a=at(n,"context-form"),i=a?Fe(a,n):n.form,c=!0;return i?(c=jt.emit("validate",i)||i.checkValidity(),o=[lt(i)]):o=y(er(n,"method-args")),le(c,(function(t){if(!t)throw F(Ke);return e[r].apply(e,o)}))}})),vn("form[form-var]",(function(e){var t=at(e,"form-var"),n={},r=function(r){if(r&&(n=lt(e)),t){var o=Zn(e,t)||{};R(n,C(o,V(n)))||Qn(e,t,w({},o,n))}else Qn(e,n)};or(e,"value",(function(){L(r)})),rr(e,":input",(function(e){x(e,(function(e,t){nr(t,De(t,"change input",(function(){L(r)})))})),r(!0)}),!0),jt.on(e,"reset",(function(){return t?Un(Jn(t,e))||e.reset():x(e.elements,(function(t,n){Un(Jn(n.name,e))||(n.value=null)})),!0}))})),vn("[loading-scope]",(function(e){jt.subscribeAsync(e),jt.on(e,{asyncStart:function(){Qn(e,"loading",!0)},asyncEnd:function(){Qn(e,"loading",!1)}})})),vn("[error-scope]",(function(e){jt.subscribeAsync(e),jt.on(e,{asyncStart:function(){Qn(e,"error",null)},error:function(t){var n=t.error||{};Qn(e,"error",n.code||n.message||!0)}})})),e.on("pageenter",(function(e){Ce(Ue("form[form-var]",e.target)).each((function(e,t){Ce(":input:eq(0)",t).trigger("change")}))})),jt.ready.then((function(){Ce("[brew-template]").each((function(e,t){var n=t.cloneNode(!0);n.removeAttribute("brew-template"),Pr[at(t,"brew-template")]=n})),Ce("apply-attributes").each((function(e,t){var n=Ce(at(t,"elements")||"",t.parentNode||Sr);x(t.attributes,(function(e,t){"elements"!==t.name&&n.each((function(e,n){n.setAttribute(t.name,t.value)}))}))})).remove(),ot(Sr,"loading-scope")&&Qn(Sr,"loading","initial")}))}));function Or(e){if(e){var t={};return x(e,(function(e,n){var r=n.toLowerCase();t[r]=n,r.indexOf("-")>0&&(t[r.split("-")[0]]=n)})),t}}function kr(e,t){return e&&t?e[t.toLowerCase()]:t}function Cr(e,t){var n=navigator.languages||[navigator.language||""];return e?(n=Or(n),g(e)&&(e=Or(e)),O(n,(function(t,n){return e[n]}))||t||V(e)[0]):n[0]}const Tr=Ln("i18n",(function(e,t){var n=Or(t.languages),r=e.route&&t.routeParam,o=t.cookie&&gt(t.cookie,864e5),a=kr(n,r&&e.route[r])||kr(n,o&&o.get())||(!1!==t.detectLanguage?Cr:kr)(n,t.defaultLanguage),i=function(t){e.language=t};G(e,"language",a,(function(i){return i=kr(n,i)||a,o&&o.set(i),r&&On&&e.route.replace(r,i.toLowerCase()),a!==i&&(a=i,t.reloadOnChange&&location.reload()),a})),e.define({setLanguage:i,detectLanguage:Cr}),r&&(e.route.watch(r,i),e.on("ready",(function(){e.route.replace(r,a.toLowerCase())})))})),Er=Ln("login",(function(e,t){var n=gt((t=w({loginPagePath:"",defaultRedirectPath:"",cookie:"",expiry:0,logout:null,login:null,tokenLogin:null,getTokenFromResponse:null},t)).cookie,t.expiry),r=G(e,"loggedIn",!1,!0);function o(o){r(!0),m(t.getTokenFromResponse)&&n.set(t.getTokenFromResponse(o)),e.emit("login",{data:o})}var a=e.initialPath,i=n.get();i&&m(t.tokenLogin)&&e.beforeInit(fe(le(t.tokenLogin(i),o))),e.define({login:function(n,i,c){return c=m(c||i),i="string"==typeof i&&i,le(t.login(n)).then((function(e){return o(e),c&&c()}),(function(e){throw r(!1),e.status>=500?"server-error":"incorrect-cred"})).then((function(){a===e.resolvePath(t.loginPagePath)&&(a=""),e.navigate(i||a||t.defaultRedirectPath),a=""}))},logout:function(o,a){return e.loggedIn?(a=m(a||o),o="string"==typeof o&&o,Jt(e.element).then((function(){return t.logout()})).then((function(){return r(!1),n.delete(),e.emit("logout"),a&&a()})).then((function(){e.navigate(o||t.loginPagePath)}))):ie()}}),e.on("navigate",(function(n){var r=e.resolvePath(t.loginPagePath);d(e.loggedIn,n.pathname!==r)&&(e.loggedIn?e.navigate(t.defaultRedirectPath):(a=n.pathname,e.navigate(r)))}))}));var Ir="background-image".split(" ");const jr=Ln(!0,"preloadImage",["?htmlRouter"],(function(e){e.beforeUpdate((function(e){var t={};return x(e,(function(e,n){(n.src||n.style)&&Un(e)&&(n.src&&(t[Pe(n.src)]=!0),n.style&&x(Ir,(function(e,r){var o=je(n.style[r]);o&&(t[Pe(o)]=!0)})))})),wt(V(t),200)})),e.beforePageEnter&&e.beforePageEnter((function(e){return wt(e,1e3)}))})),Rr=Ln("scrollable",(function(e,t){t=w({bounce:!1},t);var n=window.DOMMatrix||window.WebKitCSSMatrix||window.MSCSSMatrix,r=M(),o=0;function a(e){return r(e)||r(e,{childClass:"scrollable-target-"+ ++o})}function i(){Ce("[scrollable]:visible").scrollable("refresh")}function c(){Ce('[animate-on~="scroll-into-view"]:visible').each((function(e,t){var r=new n(getComputedStyle(t).transform),o=He(jt.root),a=He(t),i=Be(o,a.translate(-r.e||0,0))||Be(o,a.translate(0,-r.f||0));i^_e(t,"tweening-in")&&(i||t.attributes["animate-out"])&&(i?Ut:Ft)(t,"scroll-into-view")}))}e.on("ready",(function(){rr(jt.root,ut(["scrollable","scrollable-target"]),(function(n){Ce(n).filter("[scrollable-target]").each((function(e,t){var n=Ce(t).closest("[scrollable]")[0];n&&Ce(t).addClass(a(n).childClass)})),Ce(n).filter("[scrollable]").each((function(n,r){!function(n){var r,o,i=a(n).childClass,c=n.getAttribute("scrollable"),u=n.getAttribute("scroller-snap-page")||"",l=n.getAttribute("scroller-state")||"",s=n.getAttribute("scroller-page")||"",f=n.hasAttribute("persist-scroll"),d={},p=!1,h=!1;function g(e){return s&&Ce(s,n).get()[e]}function m(e){if(l){var t={};t[l]=e,Qn(n,t)}}function v(e,t){var o=g(e);t=t||"center top",!p&&Me(n)&&o&&(p=!0,r=!0,m(e),Ce(n).scrollable("scrollToElement",o,t,t,200,(function(){p=!1,r=!1})))}function b(){("always"===u||u===e.orientation)&&Me(n)&&(p?h=!0:(h=!1,v(Zn(n,l))))}if(Ce(n).scrollable(w({},t,{handle:ae(c,"auto scrollbar content")||"content",hScroll:!ae(c,"y-only"),vScroll:!ae(c,"x-only"),content:"."+a(n).childClass+":visible:not(.disabled)",pageItem:s,snapToPage:"always"===u||u===e.orientation,scrollStart:function(t){"script"!==jt.eventSource&&delete d[history.state],e.emit("scrollStart",n,t,!0)},scrollMove:function(t){e.emit("scrollMove",n,t,!0)},scrollEnd:function(t){e.emit("scrollStop",n,t,!0)},scrollProgressChange:function(t){e.emit("scrollProgressChange",n,t,!0)}})),nr(n,(function(){Ce(n).scrollable("destroy")})),nr(n,jt.on(n,{drag:function(){St()},getContentRect:function(e){if(e.target===n||Ce(e.target).closest("."+i)[0]){var t=He(n),r=Ce(n).scrollable("scrollPadding");return t.top+=r.top,t.left+=r.left,t.right-=r.right,t.bottom-=r.bottom,t}},scrollBy:function(e){Ce(n).scrollable("stop");var t=Ce(n).scrollable("scrollLeft"),r=Ce(n).scrollable("scrollTop");return Ce(n).scrollable("scrollBy",e.x,e.y,200),{x:Ce(n).scrollable("scrollLeft")-t,y:Ce(n).scrollable("scrollTop")-r}}})),s&&("always"!==u&&nr(n,e.on("orientationchange",(function(){Ce(n).scrollable("setOptions",{snapToPage:u===e.orientation})}))),l&&(nr(n,e.on(n,{statechange:function(e){var t=e.data[l];p||((0|He(g(t)).width)>(0|He().width)?v(t,"left center"):v(t))},scrollMove:function(e){p=!0,r||m(e.pageIndex)},scrollStop:function(e){m(e.pageIndex),p=!1,h&&b()}},!0)),nr(n,De(window,"resize",(function(){clearTimeout(o),o=setTimeout(b,200)}))))),f){var y=!1,x=function(){var e=d[history.state];e&&Ce(n).scrollable("scrollTo",e.x,e.y,0)};nr(n,N(jt.on("asyncStart",(function(){y=!0})),jt.on("asyncEnd",(function(){y=!1,x()})),e.on("navigate",(function(e){d[e.oldStateId]={x:Ce(n).scrollable("scrollLeft"),y:Ce(n).scrollable("scrollTop")},setTimeout((function(){y||x()}))}))))}}(r),Ce(r).scrollable(At(r)?"enable":"disable")}))}),!0)})),e.on("statechange orientationchange animationcomplete",(function(){$(i)})),e.on("pageenter",(function(e){var t=Ce(Ue("[scrollable]",e.target)).add(Ce(e.target).parents("[scrollable]"));Ce(Ue("[scrollable-target]",e.target)).each((function(e,t){Ce(t).toggleClass("disabled",!Un(t))})),t.scrollable("refresh"),t.filter(":not([keep-scroll-offset])").scrollable("scrollTo",0,0)})),e.on("resize pageenter statechange scrollMove orientationchange",(function(){$(c)})),jt.on("modalchange",(function(){Ce("[scrollable]").each((function(e,t){Ce(t).scrollable(At(t)?"enable":"disable")}))})),jt.on("keystroke",(function(e){var t=jt.event;if(jt.modalElement&&t&&t.target===document.body&&ae(e.data,"space pageUp pageDown leftArrow rightArrow upArrow downArrow")){var n=Ue("[scrollable]",jt.modalElement)[0];n&&Ce(n).triggerHandler(Ce.Event("keydown",{keyCode:t.keyCode}))}}))}));u.IS_IOS,u.IS_IE10,u.IS_IE,u.IS_MAC;var Nr=u.IS_TOUCH;const Mr=Ln(!0,"viewport",(function(e){var t,n,r,o=G(e,"orientation","",!0),a=window.visualViewport,i=Nr&&"MacIntel"!==navigator.platform;function c(c){if(a)n=a.width,r=a.height;else{var u=screen.availWidth,l=screen.availHeight;n=i?u:document.body.offsetWidth,r=i?u===window.innerWidth?l:window.innerHeight:document.body.offsetHeight}var s=t;o((t=n/r)>=1?"landscape":"portrait"),!1!==c&&(e.emit("resize",{aspectRatio:t,viewportWidth:n,viewportHeight:r}),d(t>=1,s>=1)&&e.emit("orientationchange",{orientation:e.orientation}))}_(e,{get aspectRatio(){return t},get viewportWidth(){return n},get viewportHeight(){return r}}),e.on("orientationchange",(function(){Ut(jt.root,"orientationchange")})),a?(De(a,"resize",c),c(!1)):(Ce(window).on("resize",(function(){$(c)})),Ce((function(){c(!1)})))}));var $r,qr="brew.history.",Lr=M(),Ur={},Fr=window.sessionStorage,Vr=jt.root,Dr=function(e){return f.bind(0,e)},zr=function(e){return!!Ae(e,$r)},_r=function(e){return Ae(e,$r)||"/"},Wr=function(e){return ve($r,e)},Hr=f,Br=f;function Jr(e,t,n){return e&&e.test||(e=Zr(e)),g(t)||(t=Oe(t)),e.test(t,n)}function Qr(){return location.search+location.hash}function Gr(){return location.pathname+Qr()}function Kr(e){w(this,e)}function Zr(e){if(e=String(e),!Ur[e]){var t,n=new Kr,r={};e.replace(/\/(\*|[^{][^\/]*|\{([a.-z_$][a-z0-9_$]*)(\?)?(?::(?![*+?])((?:(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])([*+?]|\{\d+(?:,\d+)\})?)+))?\})(?=\/|$)/gi,(function(e,o,a,i,c){if(i&&!t&&(t=n.length),a){var u=c?new RegExp("^"+c+"$","i"):/./;r[a]=n.length,n.push({name:a,test:u.test.bind(u)})}else n.push(o.toLowerCase())})),w(n,{pattern:e,params:r,exact:!("*"===n[n.length-1]&&n.splice(-1)),minLength:t||n.length}),Ur[e]=ee(n)}return Ur[e]}function Xr(e,t,n){return e=e||[],t=t.map(encodeURIComponent),{route:e,params:T(n,["remainingSegments"]),minPath:ye(t.slice(0,e.minLength).join("/")),maxPath:ye(t.slice(0,e.length).join("/"))}}function Yr(e,t,n){return O(e,(function(e){var r=O(e.params,(function(e,n){return null!==t[n]}));if(r&&!n&&(r=!O(t,(function(t,n){return t&&"remainingSegments"!==n&&!e.has(n)}))),r){for(var o=[],a=0,i=e.length;a<i;a++){var c=e[a].name;if(c&&!e[a].test(t[c]||"")){if(a<e.minLength||t[c])return!1;break}o[a]=c?t[c]:e[a]}return Xr(e,o,C(t,V(e.params)))}}))||!n&&Yr(e,t,!0)}function eo(e,t,n){var r=this,o={},a=Lr(r,{routes:t.map(Zr),params:o,app:e});x(a.routes,(function(e,t){x(t.params,(function(e){o[e]=null}))})),w(r,o,r.parse(n)),a.current=a.lastMatch,a.handleChanges=K(r,!0),Object.preventExtensions(r),Object.getOwnPropertyNames(r).forEach((function(e){G(r,e,null,(function(e){return h(e)||""===e?null:String(e)}))})),K(r,(function(){var t=a.lastMatch;R(t.params,T(r,["remainingSegments"]))||(t=Yr(a.routes,r)||a.current);var n=t.route.exact?"/":ye(r.remainingSegments),o=Hr(ve(t.maxPath,n));a.current=t,r.set(w({},a.params,t.params,{remainingSegments:n})),te(o,we(e.path))||(e.path=o)}))}W(Kr,Array,{has:function(e){return e in this.params},match:function(e,t){"string"==typeof e&&(e=this.params[e]);var n=this[e];return!!n&&(n.name?n.test(t):te(n,t))},test:function(e,t){var n=this;return e.length>=n.minLength&&(t||!n.exact||e.length<=n.length)&&!A(n,(function(t,n){return e[n]&&!(t.name?t.test(e[n]):te(e[n],t))}))}}),W(eo,{parse:function(e){var t=Lr(this),n=Oe(Br(we(e))),r=A(t.routes,(function(e){return Jr(e,n,!0)})),o={};if(r){for(var a in t.params)o[a]=n[r.params[a]]||null;o.remainingSegments=r.exact?"/":ye(n.slice(r.length).join("/"))}return t.lastMatch=Xr(r,n,o),o},set:function(e){var t=this;if("string"==typeof e){if(te(e,t.toString()))return;e=t.parse(e)}Lr(t).handleChanges((function(){w(t,e)}))},replace:function(e,t){var n,r=this;return Lr(r).handleChanges((function(){var o=r.getPath(w(r,b(e)||k(e,t)));n=Lr(r).app.navigate(o+(o===r.toString()?Qr():""),!0)})),n},getPath:function(e){var t=Yr(Lr(this).routes,e);return Hr(t?ve(t.maxPath||"/",t.route.exact?"/":e.remainingSegments):"/")},toJSON:function(){return w({},this)},toString:function(){return Hr(ve(Lr(this).current.maxPath||"/",this.remainingSegments))}}),X(eo.prototype),Ur["/*"]=ee(new Kr({value:"/*",exact:!1,length:0,minLength:0,params:{},test:function(){return!0}}));const to=Ln("router",(function(e,t){var n,r,o="/",a="",i={},c=0,u=0,l={},d=[];function p(e,t,n,r){return Object.freeze({id:e,path:t,navigated:!1!==r,redirected:!!n,originalPath:n||null})}function h(t,o,a,i,u){var f,h,g=s,m=s,v=we(o),b=d[c],y={id:t,path:o,index:a,pathname:v,route:Y(n.parse(v)),data:u,previous:b,previousPath:b&&(i?b.previousPath:b.path),handled:!1,get done(){return h},get promise(){return f||(f=new Promise((function(e,t){g=e,m=t})))},reset:function(){return y.handled=!1,h&&(h=!1,f=null),y},forward:function(e){f&&!h&&e.promise.then((function(e){y.resolve(p(e.id,e.path,y.path,e.navigated))}),y.reject)},resolve:function(n){h=!0,g(n||p(t,y.path)),r===y&&(r=null,l=y,e.emit("pageload",{pathname:y.path},{handleable:!1}))},reject:function(e){f=null,m(e||F(Ze)),r===y&&(r=null)}};return y}function g(t,n){if(we(n)===t.pathname)return t.path=n,history.state===t.id&&(history.replaceState(t.id,"",Wr(n)),t.done&&(a=n,e.path=n)),!0}function m(e,t,n,o){r&&r!==e&&(t?r.forward(e):r.reject()),r=e,On&&!n&&Bt(Vr)?Jt(Vr).then((function(){r===e&&o()&&L(P)}),(function(){e.reject(F(Xe))})):o()&&L(P)}function v(e,t,n,a){if(!Ae(e=y(e),o))return{promise:ce(F(Xe))};var i=r||d[c];if(i&&!n&&g(i,e))return i.done?{promise:ie(p(i.id,e,null,!1))}:i;var l=ne(),s=Math.max(0,c+!t),f=h(l,e,u+s,t||n,a);return m(f,t,n,(function(){return c=s,t||d.splice(c),d[c]=f,history[t?"replaceState":"pushState"](l,"",Wr(e)),Fr.setItem(qr+$r,JSON.stringify(d.map((function(e){return[e.id,e.path,e.index]})))),!0})),f}function b(e,t){var n=d[e].reset(),r=n.index-d[c].index,o=Bt(Vr);return o&&t&&r&&history.go(-r),m(n,!1,!1,(function(){return c=e,t&&!o||history.go(r),t&&!o})),n}function y(t,r,o){var a;if(t=decodeURI(t)||"/",r=r||e.path,"~"===t[0]||t.indexOf("{")>=0){var i=(o?Hr:f)(r);a=te(i,n.toString())?Lr(n).current:n.parse(i)&&Lr(n).lastMatch,t=t.replace(/\{([^}?]+)(\??)\}/g,(function(e,n,r,o){return a.params[n]||(r&&o+e.length===t.length?"":"null")}))}return"~"===t[0]?t=(o?f:Hr)(ve(a.minPath,t.slice(1))):"/"!==t[0]&&(t=ve(r,t)),ye(t,!0)}function w(t){var r=t.path,o=se();a=r,e.path=r,n.set(r),e.emit("beforepageload",{pathname:r,data:t.data,waitFor:o.waitFor},{handleable:!1}),ue(o,(function(){d[c]===t&&(i={},t.resolve())}))}function P(){if(On){var t=d[c],n=t.path;if(l&&t.pathname===we(a)&&g(l,n))t.resolve(p(l.id,n,null,!1));else if(!t.handled){t.handled=!0;var r=t.previous;if(r&&i[n]&&i[r.path])w(t);else{i[n]=!0,console.log("Nagivate",n);var o=ie(e.emit("navigate",{pathname:n,oldPathname:l.path,oldStateId:l.id,newStateId:t.id,route:t.route,data:t.data}));Qt(Vr,o),o.then((function(){d[c]===t&&w(t)}))}}}}G(e,"path","",(function(e){return On?((e=y(e))!==a&&v(e),a):a})),$r=ye(t.baseUrl),"none"===t.urlMode?($r="/",zr=Dr(!1),_r=Dr($r),Wr=Gr):"query"===t.urlMode?($r="/",zr=function(e){return"?"===(e||"")[0]||/^\/($|[?#])/.test(Ae(e,location.pathname)||"")},_r=function(e){var n=be(e),r=st(t.queryParam,n.search),o=RegExp.leftContext,a=RegExp.rightContext;return ye(r||"")+(!1===r?n.search:o+(o||!a?a:"?"+a.slice(1)))+n.hash},Wr=function(e){return e=be(e),location.pathname+ft(t.queryParam,e.pathname,e.search||"?")+e.hash}):"/"===$r?(_r=f,Wr=f):t.explicitBaseUrl?(Hr=Wr,Br=_r,_r=f,Wr=f,o=$r):me($r);var S,A=t.initialPath||t.queryParam&&st(t.queryParam),O=!A;Ae(A=A||_r(location.pathname),o)||(A=o),n=new eo(e,t.routes,A),e.define({get canNavigateBack(){return c>0},get canNavigateForward(){return c<d.length-1},get previousPath(){return d[c].previousPath||null},matchRoute:Jr,parseRoute:Zr,resolvePath:y,isAppPath:zr,toHref:Wr,fromHref:_r,snapshot:function(){return!r&&!!v(a,!1,!0)},navigate:function(e,t,n){return v(e,t,!1,n).promise},back:function(e){return c>0?b(c-1).promise:!!e&&v(e).promise}}),H(e,"basePath",o,!0),H(e,"initialPath",A+(O?location.search:""),!0),H(e,"route",n,!0),H(e,"routes",Y(t.routes)),De(window,"popstate",(function(){var e=d.findIndex((function(e,t){return e.id===history.state}));e>=0?b(e,!0):v(_r(Gr()))}));try{x(JSON.parse(Fr.getItem(qr+$r)||"[]"),(function(e,t){d.push(h.apply(0,t)),c=e}))}catch(e){}var k=d.findIndex((function(e){return e.id===history.state}));k>=0?(c=k,u=d[k].index-c):(c=d.length,u=history.length-c,S=v(A+(O?Qr():""),!0)),e.on("ready",(function(){r===S&&O&&v(A+Qr(),!0),P()}))}));var no,ro=jt.root,oo=new Map,ao=[],io=[ro];function co(e,t){var n=Ce(e).closest("[match-path]")[0];return!n||(t||io).indexOf(n)>=0}function uo(e){Ce("[match-path]",e).each((function(e,t){if(!oo.has(t)){var n=document.createElement("div");n.setAttribute("style","display: none !important"),n.setAttribute("match-path",t.getAttribute("match-path")||""),t.attributes.default&&n.setAttribute("default",""),Ce(t).before(n),Ce(t).detach(),We(t,"hidden",!0),oo.set(n,t),oo.set(t,t)}}))}const lo=Ln("htmlRouter",(function(e,t){to(),e.useRouter(t),function(e,t){var n;e.on("navigate",(function(t){n=[ro],uo(),wn(!0,(function(){for(var r,o=Br(we(t.pathname)),a=Ce('[switch=""]').get();r=a.shift();)if(co(r,n)){var i=Ce(r).children("[match-path]").get().map((function(t){var n=E(oo,t)||t,r=Ce('[switch=""]',n).get(),a=e.resolvePath(n.getAttribute("match-path"),o,!0);return{element:n,path:a.replace(/\/\*$/,""),exact:!r[0]&&"/*"!==a.slice(-2),placeholder:t!==n&&t,children:r}}));i.sort((function(e,t){return t.path.localeCompare(e.path)}));var c=O(i,(function(e){return(e.exact?o===e.path:Ae(o,e.path))&&e.path}));x(i,(function(e,t){if(t.path===c){var r=t.element;n.unshift(r),t.placeholder&&(Ce(t.placeholder).replaceWith(r),xn(r),a.push.apply(a,t.children))}}))}})),Ce('[switch=""]').each((function(t,r){if(co(r,n)){var o=Ce(r).children("[match-path]"),a=o.filter((function(e,t){return n.indexOf(t)>=0}))[0];if(!a)return e.navigate(Hr((o.filter("[default]")[0]||o[0]).getAttribute("match-path")),!0),!1}}))})),e.on("beforepageload",(function(t){var r=io.slice(0),o=e.previousPath,a=t.pathname,i=jt.eventSource;io=n,no=Ce(n).filter("[page-title]")[0],document.title=no?er(no,"page-title",!0):document.title,wn(!0,(function(){var n=new Map;en(i,["pageenter",a],(function(){oo.forEach((function(t,c){var u=io.indexOf(t)>=0;if(t!==c&&u===r.indexOf(t)<0)if(u){Kn(t,!1),Qn(t),bn(t);var l=n.get(Ce(t).parents("[match-path]")[0]),s=Oe(t.getAttribute("match-path")),f=ao.map((function(e){if(Jr(e.route,s))return e.callback(t,a)}));f.push(l),n.set(t,le(f,(function(){io.indexOf(t)>=0&&(We(t,"hidden",!1),Ut(t,"show","[match-path]"),e.emit("pageenter",t,{pathname:a},!0))})))}else e.emit("pageleave",t,{pathname:o},!0),Ft(t,"show","[match-path]").then((function(){io.indexOf(t)<0&&en(i,["pageleave",o],(function(){We(t,"hidden",!0),Kn(t,!0)}))}))}))})),x(n,(function(e,n){Qt(e,n),t.waitFor(n)}))}))})),e.on("pageenter",(function(e){Ce(Ue("[x-autoplay]",e.target)).each((function(e,t){co(t)&&(0!==t.readyState&&(t.currentTime=0),t.play())}))})),e.on("pageleave",(function(t){Ce(Ue("form",t.target)).each((function(t,n){e.emit("reset",n,null,!1)||n.reset()})),Ce(Ue("[x-autoplay]",t.target)).each((function(e,t){t.pause()}))})),e.on("statechange",(function(e){qe(e.target,no)&&(document.title=er(no,"page-title",!0))})),e.on("mounted",(function(e){var n=e.target;Ce(Ue("[data-src]",n)).each((function(e,t){t.src=xe(t.dataset.src),t.removeAttribute("data-src")})),Ce(Ue("[data-bg-src]",n)).each((function(e,t){t.style.backgroundImage='url("'+xe(t.dataset.bgSrc)+'")',t.removeAttribute("data-bg-src")})),Ce(Ue('img[src^="/"], video[src^="/"]',n)).each((function(e,t){t.src=xe(t.getAttribute("src"))})),t.explicitBaseUrl||Ce(Ue('a[href^="/"]',n)).each((function(e,t){var n=t.getAttribute("href");t.dataset.href=n,t.href=xe(n)}))})),jt.ready.then((function(){uo(),Ce("[style]").each((function(e,t){var n=je(t.style.backgroundImage);n&&(t.setAttribute("data-bg-src",decodeURIComponent(xe(Se(n)))),t.style.backgroundImage="none")}))})),rr(ro,"video[autoplay], audio[autoplay]",(function(e){Ce(e).attr("x-autoplay","").removeAttr("autoplay")}),!0),_(e,{isElementActive:co,beforePageEnter:function(t,n){m(t)&&(n=t,t="/*"),ao.push({route:e.parseRoute(t),callback:U(n)})},matchPath:function(e,t,n){m(t)&&(n=t,t=null),this.on("mounted",(function(r){var o=r.target.getAttribute("match-path");o&&Jr(e,o)&&(!t||Ce(r.target).is(t))&&n.call(r.target,r.target)}))}})}(e,t)}));const so=wr.with((function(e){window.app=e}),xr,Ar,Tr,Er,jr,Rr,Mr,to,lo)},609:function(e){e.exports=t},172:function(e){e.exports=n},160:function(e){e.exports=r},163:function(t){t.exports=e}},a={};function i(e){if(a[e])return a[e].exports;var t=a[e]={exports:{}};return o[e](t,t.exports,i),t.exports}return i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i(447)}().default}));
//# sourceMappingURL=brew.min.js.map